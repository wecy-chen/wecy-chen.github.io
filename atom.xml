<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ¬¢è¿,æ¬¢è¿â”(*ï½€âˆ€Â´*)ãƒäº»!</title>
  
  
  <link href="https://wecy-chen.github.io/atom.xml" rel="self"/>
  
  <link href="https://wecy-chen.github.io/"/>
  <updated>2024-10-30T02:37:19.097Z</updated>
  <id>https://wecy-chen.github.io/</id>
  
  <author>
    <name>wecyChen</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>mongodb</title>
    <link href="https://wecy-chen.github.io/2024/10/08/mongodb/"/>
    <id>https://wecy-chen.github.io/2024/10/08/mongodb/</id>
    <published>2024-10-07T23:04:35.000Z</published>
    <updated>2024-10-30T02:37:19.097Z</updated>
    
    <content type="html"><![CDATA[<h1 id="mongodb-å®‰è£…æ•™ç¨‹"><a href="#mongodb-å®‰è£…æ•™ç¨‹" class="headerlink" title="mongodb å®‰è£…æ•™ç¨‹"></a>mongodb å®‰è£…æ•™ç¨‹</h1><h2 id="æ–°ç‰ˆæœ¬"><a href="#æ–°ç‰ˆæœ¬" class="headerlink" title="æ–°ç‰ˆæœ¬"></a>æ–°ç‰ˆæœ¬</h2><p>ä¸‹è½½åœ°å€ ç¤¾åŒºç‰ˆæœ¬<br><a href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a></p><p><img src="/image/mongodb/mongod7.png" alt="mongodb7"></p><p>ä¸‹è½½zipæ–‡ä»¶åŒ…</p><p>ç³»ç»Ÿç¯å¢ƒå˜é‡å¢åŠ mongodbè·¯å¾„<code>F:\mongodb7.0.15\bin</code></p><p>1.å¯åŠ¨<br>mongod â€“dbpath=F:/mongodb7.0.15/data â€“logpath=F:/mongodb7.0.15/logs/mongodb.log</p><p>2.é…ç½®å¯åŠ¨<br>mongod â€“config F:/mongodb7.0.15/mongodb.conf</p><p>mongodb.conf é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># å’Œæ—¥å¿—ç›¸å…³çš„é…ç½®</span><br><span class="line">systemLog:</span><br><span class="line">  # MongoDB æ‰€æœ‰æ—¥å¿—è¾“å‡ºçš„ç›®æ ‡æŒ‡å®šä¸ºæ–‡ä»¶</span><br><span class="line">  destination: file</span><br><span class="line">  # æŒ‡å®šæ—¥å¿—æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</span><br><span class="line">  path: &quot;F:/mongodb7.0.15/logs/mongodb.log&quot;</span><br><span class="line">  # true æ—¥å¿—çš„å†™å…¥æ–¹å¼ä¸ºåœ¨æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶ä¸­è¿½åŠ å†™å…¥</span><br><span class="line">  #ï¼ˆfalse åˆ™ä¼šåœ¨æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶å­˜æ”¾è·¯å¾„çš„åŒä¸€ä¸ªç›®å½•ä¸‹æ–°å»ºæ—¥å¿—æ–‡ä»¶è®°å½•æ—¥å¿—ï¼‰</span><br><span class="line">  logAppend: true</span><br><span class="line"></span><br><span class="line"># æ•°æ®åº“ç›¸å…³é…ç½®</span><br><span class="line">storage:</span><br><span class="line">  # æŒ‡å®š MongoDB æ•°æ®åº“çš„å­˜æ”¾ä½ç½®</span><br><span class="line">  dbPath: &quot;F:/mongodb7.0.15/data&quot;</span><br><span class="line"></span><br><span class="line"># ç½‘ç»œç›¸å…³é…ç½®</span><br><span class="line">net:</span><br><span class="line">  # æœåŠ¡å®ä¾‹ç»‘å®šçš„ IPï¼Œé»˜è®¤æ˜¯ localhost</span><br><span class="line">  # å³æœ‰å“ªäº› IP èƒ½å¤Ÿè®¿é—® MongoDB æœåŠ¡</span><br><span class="line">  # 0.0.0.0 æ‰€æœ‰ IP å¯ä»¥è®¿é—®ï¼Œä¸€èˆ¬å¦‚æœè¦è¿œç¨‹è®¿é—®åˆ™è®¾ç½®ä¸ºè¯¥å€¼</span><br><span class="line">  bindIp: localhost</span><br><span class="line">  # ç»‘å®šçš„ç«¯å£ï¼Œé»˜è®¤æ˜¯ 27017</span><br><span class="line">  # MongoDB è¿è¡Œç›‘å¬çš„ç«¯å£å·</span><br><span class="line">  port: 27017</span><br></pre></td></tr></table></figure><blockquote><p>services.msc æ‰“å¼€æœåŠ¡<br>regedit æ³¨å†Œè¡¨</p></blockquote><ol><li><p>å¯åŠ¨</p><p> mongod â€“dbpath=F:/mongodb7.0.15/data â€“logpath=F:/mongodb7.0.15/logs/mongodb.log</p></li></ol><ol start="2"><li>é…ç½®å¯åŠ¨</li></ol><p>  mongod â€“config F:/mongodb7.0.15/mongodb.conf</p><ol start="3"><li>æœåŠ¡å¯åŠ¨</li></ol><p>  mongod â€“install -f â€œF:/mongodb7.0.15/mongodb.confâ€</p><p>  <code>F:/mongodb7.0.15/bin/mongod.exe -f F:/mongodb7.0.15/mongodb.conf --serviceName mongodb7 --serviceDisplayName mongodb7 --install</code></p><p>  å¯åŠ¨ net start mongodb7</p><p>  åœæ­¢ net stop mongodb7</p><p>  é‡æ–°å®‰è£…æœåŠ¡ mongod â€“remove â€“serviceName æœåŠ¡å</p><p>  æ³¨å†Œè¡¨ä¿®æ”¹ä½ç½®<br>  è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\MongoDB<br>  æ‹’ç»è®¿é—®  ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ,å†å¯åŠ¨</p><ol start="4"><li>åˆ é™¤æœåŠ¡<br>sc delete MongoDB</li></ol><h2 id="å·¥å…·åŒ…"><a href="#å·¥å…·åŒ…" class="headerlink" title="å·¥å…·åŒ…"></a>å·¥å…·åŒ…</h2><p>ä¸‹è½½è§£å‹binä¸‹æ–‡ä»¶æ”¾åœ¨mongodbçš„binç›®å½•<br><a href="https://www.mongodb.com/try/download/database-tools">https://www.mongodb.com/try/download/database-tools</a></p><blockquote><p>å¯¼å‡º<br>mongodump â€“db &lt;æ•°æ®åº“åç§°&gt; â€“out &lt;å¯¼å‡ºæ–‡ä»¶å¤¹è·¯å¾„&gt;   </p></blockquote><p><code>mongodump --db medicalCenter --out F:\export</code></p><blockquote><p>å¯¼å…¥<br>mongorestore</p></blockquote><p><code>mongorestore --db medicalCenter --host localhost --port 27018 F:\export\medicalCenter</code></p><blockquote><p>å¯¼å…¥é›†åˆ<br> mongorestore  â€“db æ•°æ®åº“å â€“collection é›†åˆå â€“file æ•°æ®æ–‡ä»¶è·¯å¾„</p></blockquote><p><code>mongoimport --db medicalCenter --port 27018 --collection commodity --file F:\export\medicalCenter\commodity.json</code></p><p>mongodbå†å² æ•™ç¨‹</p><h2 id="å†å²ç‰ˆæœ¬"><a href="#å†å²ç‰ˆæœ¬" class="headerlink" title="å†å²ç‰ˆæœ¬"></a>å†å²ç‰ˆæœ¬</h2><p><a href="http://dl.mongodb.org/dl/win32/x86_64">ä¸‹è½½åœ°å€</a></p><p>ä¸‹è½½ç‰ˆæœ¬ <code>win32/mongodb-win32-x86_64-2008plus-ssl-4.0.27-signed.msi</code> 215.20MB</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>é€‰æ‹© custom è‡ªå®šä¹‰å®‰è£… å®‰è£…è·¯å¾„<code>D:\MongoDB\</code>,ç„¶åä¸€è·¯ next, é»˜è®¤æœåŠ¡åä¸º<code>MongoDB</code></p><p>å®‰è£…åæ·»åŠ <code>ç¯å¢ƒå˜é‡</code></p><p>å³å‡»æ­¤ç”µè„‘==&gt;&gt;ç‚¹å‡»å±æ€§==&gt;&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®==&gt;&gt;ç¯å¢ƒå˜é‡==&gt;&gt;path ä¸­æ·»åŠ </p><p>è·¯å¾„ <code>D:\MongoDB\bin</code></p><p>å®‰è£…å®Œæˆ &gt; mongod â€“version</p><h3 id="å¯åŠ¨"><a href="#å¯åŠ¨" class="headerlink" title="å¯åŠ¨"></a>å¯åŠ¨</h3><p>æœåŠ¡åç§°<code>MongoDB</code></p><p>å¯åŠ¨ mongodb æœåŠ¡ &gt; <code>net start MongoDB</code><br>å…³é—­ mongodb æœåŠ¡ &gt; <code>net stop MongoDB</code></p><h2 id="å¯è§†åŒ–å·¥å…·"><a href="#å¯è§†åŒ–å·¥å…·" class="headerlink" title="å¯è§†åŒ–å·¥å…·"></a>å¯è§†åŒ–å·¥å…·</h2><p><strong>robomongo</strong></p><p>å¤©ç¿¼äº‘ç›˜</p><p>å…¨éƒ¨è½¯ä»¶â€“&gt;è½¯ä»¶â€“&gt;å¼€å‘</p><p><code>robomongo-0.9.0-windows-x86_64-0786489</code></p><p><strong>studio3t</strong></p><p><a href="https://studio3t.com/download-thank-you/?OS=win64">https://studio3t.com/download-thank-you/?OS=win64</a></p><p><a href="https://blog.csdn.net/wangmx1993328/article/details/82628805">ä»‹ç»</a></p><p>å®‰è£…å‰,æ³¨æ„å¸è½½è€ç‰ˆæœ¬ å®‰è£…å®Œæˆå éœ€è¦è´¦å· 30 æ—¥æœ‰æ•ˆæœŸ</p><p><strong>compass</strong></p><p><a href="https://www.mongodb.com/products/tools/compass">å®˜ç½‘ç‰ˆæœ¬(æ¨è)</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;mongodb-å®‰è£…æ•™ç¨‹&quot;&gt;&lt;a href=&quot;#mongodb-å®‰è£…æ•™ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;mongodb å®‰è£…æ•™ç¨‹&quot;&gt;&lt;/a&gt;mongodb å®‰è£…æ•™ç¨‹&lt;/h1&gt;&lt;h2 id=&quot;æ–°ç‰ˆæœ¬&quot;&gt;&lt;a href=&quot;#æ–°ç‰ˆæœ¬&quot; class</summary>
      
    
    
    
    <category term="mongodb" scheme="https://wecy-chen.github.io/categories/mongodb/"/>
    
    
    <category term="mongodb" scheme="https://wecy-chen.github.io/tags/mongodb/"/>
    
  </entry>
  
  <entry>
    <title>ç”µè„‘æ‚è®°</title>
    <link href="https://wecy-chen.github.io/2023/12/25/diannan/"/>
    <id>https://wecy-chen.github.io/2023/12/25/diannan/</id>
    <published>2023-12-25T05:59:23.740Z</published>
    <updated>2024-01-30T02:03:22.743Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h1><h2 id="UEFI-GPT"><a href="#UEFI-GPT" class="headerlink" title="UEFI+GPT"></a>UEFI+GPT</h2><p>é‡è£…ç³»ç»Ÿ</p><ol><li><p>è¿› PE ç³»ç»Ÿï¼Œç”¨ DG åˆ†åŒºè½¯ä»¶å°†ç¡¬ç›˜åˆ†åŒºè¡¨æ ¼å¼è½¬æ¢ä¸º GUID æ ¼å¼ï¼ˆè¿™ä¸ªè½¬æ¢æ˜¯æ— æŸçš„ï¼Œä¸ä¼šå¯¹æ•°æ®é€ æˆå½±å“ï¼‰ï¼Œç„¶ååˆ é™¤ C ç›˜</p></li><li><p>æ–°å»º ESP å’Œ MSR åˆ†åŒº</p></li></ol><p>æ³¨:å…ˆé¢„ç•™ç©ºç™½åˆ†åŒºç©ºé—´(ç£ç›˜ç®¡ç†â€”&gt;åˆ é™¤åˆ¸)<br>cmd å‘½ä»¤:</p><blockquote><p>diskpart<br>list disk<br>select disk 0<br>create partition efi size=n<br>create partition msr size=n</p></blockquote><p>æŒ‚è½½ ESP,é€‰æ‹©ç£ç›˜å</p><blockquote><p>list partition<br>select partition 1<br>assign letter = z<br>remove letter = z</p></blockquote><p>è¯´æ˜: <code>partition</code>å¯ç®€å†™<code>part</code> <code>0</code>ä¸ºç£ç›˜åºå· 0-n, <code>n</code>ä¸ºåˆ›å»ºåˆ†åŒºç©ºé—´å¤§å°,<code>1</code>ä¸ºåˆ†åŒºåºå·, <code>z</code>ä¸ºæŒ‚è½½ç‚¹</p><p>æ–‡ä»¶æ‹’ç»æ–¹æ³•,ç”¨ DG æ‰“å¼€</p><ol start="3"><li><p>ç”¨ DG æŠŠå‰©ä¸‹çš„ç©ºé—´åˆ›å»ºä¸º NTFS æ ¼å¼çš„ C ç›˜</p></li><li><p>FAT æ ¼å¼åŒ– ESP åˆ†åŒºï¼ŒæŒ‡å®šç›˜ç¬¦ä¸º Z ç›˜</p></li><li><p>BIOS è®¾ç½®ä»¥ UEFI æ–¹å¼å¯åŠ¨ç”µè„‘</p></li><li><p>ä½¿ç”¨ dism++ å®‰è£…ç³»ç»Ÿ</p></li></ol><p>è§£å†³Boot Campç£ç›˜éšè—<br>1ã€Win-Rï¼Œè¿è¡ŒDISKPARTç¨‹åº<br>2ã€list volumeï¼Œä¼šçœ‹åˆ°Dåˆ†åŒºå·²è¢«éšè—<br>3ã€select volume x(xä¸ºä½ çš„Dç›˜å·å·)<br>4ã€attributes volume clear hiddenï¼Œæ¸…é™¤éšè—å±æ€§<br>5ã€æå®šï¼ŒDç›˜åˆä¹–ä¹–çš„èººé‚£äº†</p><h2 id="xorboot"><a href="#xorboot" class="headerlink" title="xorboot"></a>xorboot</h2><p>å¼€æœºè®¾ç½®å¯åŠ¨é¡¹</p><ol><li>æ–°å»º xorboot.xor æ–‡ä»¶å’Œå¯åŠ¨é¡¹</li></ol><p><img src="/image/diannao/xorboot1.png" alt="xorboot1.png"></p><ol start="2"><li>é…ç½®å¯åŠ¨èœå•</li></ol><p><img src="/image/diannao/xorboot2.png" alt="xorboot2.png"></p><p><img src="/image/diannao/xorboot3.png" alt="xorboot3.png"></p><h2 id="å®‰è£…win11"><a href="#å®‰è£…win11" class="headerlink" title="å®‰è£…win11"></a>å®‰è£…win11</h2><!-- https://pan.xunlei.com/s/VNp93Jz6wIoiFanXoFjhyDGmA1?pwd=iusx --><!-- https://pan.xunlei.com/s/VNWFdpqXN_R3rL85Us0UYDnfA1?pwd=vsyi#  --><p>ä¸€. è·³è¿‡TPMæ£€æµ‹</p><ol><li>Shift+F10   æ‰“å¼€å‘½ä»¤è¡Œ</li><li>regedit  æ‰“å¼€æ³¨å†Œè¡¨</li><li>HKEY_LOCAL_MACHINE\SYSTEM\Setup å®šä½ä½ç½®</li><li>æ–°å»ºä¸€ä¸ªåä¸ºâ€œLabConfigâ€çš„é¡¹ï¼Œæ¥ç€åœ¨â€œLabConfigâ€ä¸‹åˆ›å»ºä¸¤ä¸ª DWORD å€¼ï¼š<br>è¾“å…¥åå­—æ”¹æˆä¸ºâ€œBypassTPMCheckâ€ï¼Œå€¼ä¸ºâ€œ00000001â€32ä½<br>è¾“å…¥åå­—æ”¹æˆä¸ºâ€œBypassSecure BootCheckâ€ï¼Œå€¼ä¸ºâ€œ00000001â€32ä½</li></ol><p>ä¿å­˜é€€å‡ºåï¼Œä¸Šå›¾çš„æç¤ºå°±æ¶ˆå¤±äº†ï¼Œå°±å¯ä»¥æ­£å¸¸å®‰è£… Win11</p><p>äºŒ. WiFiè¿æ¥</p><ol><li>Shift+F10</li><li>è¾“å…¥taskmgr</li><li>å®‰è£…bootcampé©±åŠ¨,è¿æ¥WiFi</li></ol><h2 id="Boot-Camp-eGPU-è®¾ç½®è¿‡ç¨‹"><a href="#Boot-Camp-eGPU-è®¾ç½®è¿‡ç¨‹" class="headerlink" title="Boot Camp eGPU è®¾ç½®è¿‡ç¨‹"></a>Boot Camp eGPU è®¾ç½®è¿‡ç¨‹</h2><ol><li>å®‰è£…win10å’ŒDUU</li></ol><p>â‘  é€‰æ‹©æ‰€éœ€çš„ Windows 10 ç‰ˆæœ¬ä»¥ä¸‹è½½ ISOï¼Œç„¶åæ‰“å¼€ Boot Camp åŠ©ç†ä»¥å¼€å§‹å®‰è£… Windows<br>â‘¡ å³é”®å•å‡» Display Driver Uninstaller ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚ç„¶åç»§ç»­å¸è½½æ‰€æœ‰æ˜¾å¡é©±åŠ¨ç¨‹åºã€‚åœ¨â€œDDU é€‰é¡¹â€ä¸‹ç¦ç”¨ Windows 10 è‡ªåŠ¨ GPU é©±åŠ¨ç¨‹åºå®‰è£…ã€‚<br>â‘¢ åˆ›å»ºè¿˜åŸç‚¹ (ç”µè„‘å±æ€§â€“&gt;ç³»ç»Ÿä¿æŠ¤â€“&gt;ç³»ç»Ÿè¿˜åŸ) é‡å¯æ—¶æ‘ä½F8  </p><p>ä½¿ç”¨.bat åˆ‡æ¢åˆ° iGPU</p><p>ä½¿ç”¨ automate-eGPU</p><p>å°†é©±åŠ¨å™¨æ ¼å¼åŒ–ä¸º FATï¼Œå¹¶ç¡®ä¿å°†å…¶å‘½åä¸ºå…¶ä»– EFIã€‚å°† automate-eGPU EFI ä¸­çš„ EFI æ–‡ä»¶å¤¹å¤åˆ¶å¹¶ç²˜è´´åˆ°æ­¤é©±åŠ¨å™¨ä¸­ã€‚</p><p>æ–°å»ºåˆ†åŒº åç§°eGPU.io æ ¼å¼MS-DOT(FAT) é‡å¯æŒ‰optionsè¿›å…¥</p><p>â‘£ å¦‚æœæ‚¨åœ¨è®¾å¤‡ç®¡ç†å™¨ä¸­çš„æ˜¾ç¤ºé€‚é…å™¨ä¸‹çœ‹åˆ° Microsoft åŸºæœ¬æ˜¾ç¤ºé€‚é…å™¨è®¾å¤‡ï¼Œè¯·ç»§ç»­å®‰è£…è‹±ç‰¹å°”å›¾å½¢é©±åŠ¨ç¨‹åº  ç¦ç”¨X16 X8</p><p>é‡å¯ æ’å…¥EGPU å¯åŠ¨EFI</p>]]></content>
    
    
    <summary type="html">ç”µè„‘æ“ä½œ</summary>
    
    
    
    <category term="ç”µè„‘" scheme="https://wecy-chen.github.io/categories/%E7%94%B5%E8%84%91/"/>
    
    
  </entry>
  
  <entry>
    <title>è¿é€šé¡¹ç›®</title>
    <link href="https://wecy-chen.github.io/2023/06/17/yuntong/"/>
    <id>https://wecy-chen.github.io/2023/06/17/yuntong/</id>
    <published>2023-06-17T08:00:00.000Z</published>
    <updated>2023-06-21T02:52:23.439Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç§¯åˆ†èµ é€"><a href="#ç§¯åˆ†èµ é€" class="headerlink" title="ç§¯åˆ†èµ é€"></a>ç§¯åˆ†èµ é€</h1><h2 id="è®¢å•èµ é€"><a href="#è®¢å•èµ é€" class="headerlink" title="è®¢å•èµ é€"></a>è®¢å•èµ é€</h2><h2 id="å•†å“å¢é€"><a href="#å•†å“å¢é€" class="headerlink" title="å•†å“å¢é€"></a>å•†å“å¢é€</h2>]]></content>
    
    
    <summary type="html">è¿é€šé¡¹ç›®è¯´æ˜</summary>
    
    
    
    <category term="é¡¹ç›®" scheme="https://wecy-chen.github.io/categories/%E9%A1%B9%E7%9B%AE/"/>
    
    
  </entry>
  
  <entry>
    <title>éšè®°</title>
    <link href="https://wecy-chen.github.io/2023/02/11/essay/"/>
    <id>https://wecy-chen.github.io/2023/02/11/essay/</id>
    <published>2023-02-11T05:51:16.465Z</published>
    <updated>2023-02-11T05:52:41.195Z</updated>
    
    <content type="html"><![CDATA[<p>çæƒœ é“­è®° å¿½è§† é—å¿˜</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;çæƒœ é“­è®° å¿½è§† é—å¿˜&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æ–°é›¶å”®ç‰ˆæœ¬</title>
    <link href="https://wecy-chen.github.io/2023/02/08/medicalCenter/"/>
    <id>https://wecy-chen.github.io/2023/02/08/medicalCenter/</id>
    <published>2023-02-08T05:50:41.756Z</published>
    <updated>2024-11-14T07:51:19.397Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2-8-6-3"><a href="#2-8-6-3" class="headerlink" title="2.8.6.3"></a>2.8.6.3</h1><h2 id="èµ å“ç®¡ç†"><a href="#èµ å“ç®¡ç†" class="headerlink" title="èµ å“ç®¡ç†"></a>èµ å“ç®¡ç†</h2><blockquote><p>å•†å“ ===&gt; å•†å“ç®¡ç† ===&gt; èµ å“ç®¡ç†</p></blockquote><p><img src="/image/medicalCenter/product_gift.png" alt="ä¸­å°ä¿ƒé”€"></p><h3 id="å­—æ®µ"><a href="#å­—æ®µ" class="headerlink" title="å­—æ®µ"></a>å­—æ®µ</h3><p>å¢åŠ  <code>product_gift</code> æ•°æ®è¡¨</p><p>å•†å“è¡¨ </p><p>original_order,goods_record,refunds_order,order_libraryè¡¨å•†å“å¢åŠ <code>gift_product</code>å­—æ®µ</p><p>å•†å“é”€å”®åº“å­˜å¢åŠ  <code>minusGiftStock</code> æ–¹æ³•</p><p>è·¯å¾„<code>/libs/utils/goods</code></p><h1 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h1><h2 id="ç»Ÿè®¡æ–¹æ³•"><a href="#ç»Ÿè®¡æ–¹æ³•" class="headerlink" title="ç»Ÿè®¡æ–¹æ³•"></a>ç»Ÿè®¡æ–¹æ³•</h2><p>@common/statistics.js</p><p>ç»Ÿè®¡é—¨åº—æ¯å¤©æ•°æ®é”€å”® <code>dayStat</code>  æ•°æ®è¡¨ <code>day_stat</code><br>ç»Ÿè®¡é—¨åº—æ¯æœˆçš„æ•°æ® <code>monthStat</code>  æ•°æ®è¡¨ <code>month_stat</code></p><p>@common/goods_stat.js<br>ç»Ÿè®¡é”€å”®æ˜ç»† goods_stat</p>]]></content>
    
    
    <summary type="html">æ–°é›¶å”®ç‰ˆæœ¬</summary>
    
    
    
    <category term="æ–°é›¶å”®" scheme="https://wecy-chen.github.io/categories/%E6%96%B0%E9%9B%B6%E5%94%AE/"/>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://wecy-chen.github.io/2022/10/18/wx/"/>
    <id>https://wecy-chen.github.io/2022/10/18/wx/</id>
    <published>2022-10-18T07:20:48.094Z</published>
    <updated>2022-10-18T07:20:48.094Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>macæ“ä½œæŠ€å·§</title>
    <link href="https://wecy-chen.github.io/2022/09/26/macOS/"/>
    <id>https://wecy-chen.github.io/2022/09/26/macOS/</id>
    <published>2022-09-26T00:55:46.932Z</published>
    <updated>2023-05-11T01:39:09.369Z</updated>
    
    <content type="html"><![CDATA[<h1 id="mac-å¼€å‘é…ç½®"><a href="#mac-å¼€å‘é…ç½®" class="headerlink" title="mac å¼€å‘é…ç½®"></a>mac å¼€å‘é…ç½®</h1><h2 id="ä¸‹è½½-vscode-ç¼–è¾‘å™¨"><a href="#ä¸‹è½½-vscode-ç¼–è¾‘å™¨" class="headerlink" title="ä¸‹è½½ vscode ç¼–è¾‘å™¨"></a>ä¸‹è½½ vscode ç¼–è¾‘å™¨</h2><p>åœ°å€ï¼š<a href="https://code.visualstudio.com/Download">https://code.visualstudio.com/Download</a><br>ï¿¼<br><img src="/image/macOS/Mac.png" alt="Mac.png"><br>universa(æ™®é) Intel Chip (intel èŠ¯ç‰‡) Apple Silicon (M1 èŠ¯ç‰‡)</p><h2 id="ä¸‹è½½-git"><a href="#ä¸‹è½½-git" class="headerlink" title="ä¸‹è½½ git"></a>ä¸‹è½½ git</h2><p><img src="/image/macOS/git.png" alt="git.png"></p><p><a href="https://git-scm.com/download/mac">https://git-scm.com/download/mac</a><br>Tim HarperÂ  ä¸º Git æä¾›äº†ä¸€ä¸ªå®‰è£…ç¨‹åºã€‚æœ€æ–°ç‰ˆæœ¬æ˜¯ 2.33.0ï¼Œå‘å¸ƒäº 4 ä¸ªæœˆå‰ï¼Œäº 2021-08-30ã€‚</p><h2 id="å®‰è£…-homebrew"><a href="#å®‰è£…-homebrew" class="headerlink" title="å®‰è£… homebrew"></a>å®‰è£… homebrew</h2><p>ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£… git</p><p>ç½‘ä¸Šéƒ½æ˜¯æŠ¥é”™<br>/bin/bash -c â€œ$(curl -fsSL <a href="https://raw.githubusercontent.com/Homebrew/install/master/install.sh)%E2%80%9D">https://raw.githubusercontent.com/Homebrew/install/master/install.sh)â€</a></p><p><a href="https://raw.githubusercontent.com/Homebrew/install/master/install.sh">https://raw.githubusercontent.com/Homebrew/install/master/install.sh</a></p><p><img src="/image/macOS/git1.png" alt="git1.png"></p><p>Failed to connect to raw.githubusercontent.com port 443: Connection refused</p><p>ä½¿ç”¨ä¸‹é¢è¿™ä¸ªæºä¸‹è½½<br>/bin/zsh -c â€œ$(curl -fsSL <a href="https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;">https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;</a></p><p><img src="/image/macOS/git2.png" alt="git2.png"></p><p>é€‰æ‹© 1 ä¸­ç§‘å¤§ä¸‹è½½æº æŒ‰ y ç¡®è®¤è„šæœ¬ä¸‹è½½ git</p><p><img src="/image/macOS/git3.png" alt="git3.png"></p><p>å®‰è£…å¥½ git ä¹‹åï¼Œè¿è¡Œ git å‘½ä»¤ æç¤ºéœ€è¦å®‰è£… xcode<br>è¿™ä¸ª xcode å†…å®¹æœ‰å¾ˆå¤šï¼Œå°†è¿‘ 10 ä¸ª gï¼Œå®é™…ä¸Šåªéœ€è¦è£… command Line Tools for Xcode 13.2 å°±å¯ä»¥äº†å»è‹¹æœçš„å¼€å‘è€…å®˜ç½‘å°±å¯ä»¥ä¸‹è½½äº†ï¼Œåœ°å€ <a href="https://developer.apple.com/download/more/">https://developer.apple.com/download/more/</a></p><h2 id="é…ç½®-git-å¯†é’¥"><a href="#é…ç½®-git-å¯†é’¥" class="headerlink" title="é…ç½® git å¯†é’¥"></a>é…ç½® git å¯†é’¥</h2><ul><li>é…ç½® git ç”¨æˆ·åå’Œé‚®ç®±ä¿¡æ¯</li></ul><p>$ git config â€“global user.name â€œç”¨æˆ·åç§°â€<br>$ git config â€“global user.emal â€œé‚®ç®±åœ°å€â€</p><ul><li>ç”Ÿæˆå¯†é’¥å¯¹</li></ul><p>$ ssh-keygen -t rsa -C â€œç”¨æˆ·åâ€</p><p><img src="/image/macOS/git4.png" alt="git4.png"></p><p>å¯†ç è®¾ç½®ä¸ºç©º</p><ul><li>æ·»åŠ å…¬é’¥åˆ°ä½ çš„è¿œç¨‹ä»“åº“</li></ul><p>æŸ¥çœ‹å¯†é’¥æ·»åŠ åˆ°ç”¨æˆ· SSH key é…ç½®</p><pre><code>$ cat ~/.ssh/id_rsa.pub</code></pre><ul><li>å…‹éš†ä»“åº“</li></ul><p>$ git clone git@xxxxx/xxxx.git</p><p>4.å®‰è£… nvmï¼ˆnode åŒ…ç®¡ç†å™¨å·¥å…·ï¼‰<br>macOS10.15 ä»¥ä¸Šç‰ˆæœ¬éœ€è¦åˆ›å»º.zshrc æ–‡ä»¶</p><p>è¾“å…¥å‘½ä»¤<br>$ touch ~/.zshrc<br>$ curl -o- <a href="https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh">https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh</a> | bash</p><p>å¦‚æœæç¤º curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refusedï¼ˆæ— æ³•è¿æ¥åˆ° raw.githubusercontent.com ç«¯å£ 443:è¿æ¥è¢«æ‹’ç»ï¼‰, éœ€è¦åœ¨è®¿è¾¾ä¸‹ï¼Œcommand+shift+G, /etc/host æ–‡ä»¶ä¸‹æ·»åŠ  199.232.28.133 raw.githubusercontent.comï¼Œhost æ–‡ä»¶å¦‚ä¸‹ï¼š<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>å…ˆæ‹·è´ä¸€ä»½ host æ–‡ä»¶ï¼Œä¿®æ”¹åå†é‡æ–°è¦†ç›–åŸæ–‡ä»¶</p><p><img src="/image/macOS/git5.png" alt="git5.png"></p><p>æ·»åŠ ååœ¨é‡æ–°è¾“å…¥å‘½ä»¤ï¼Œä¸‹è½½ nvm</p><h2 id="å®‰è£…-nvm"><a href="#å®‰è£…-nvm" class="headerlink" title="å®‰è£… nvm"></a>å®‰è£… nvm</h2><p>$ touch ~/.zshrc<br>$ curl -o- <a href="https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh">https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh</a> | bash</p><p><img src="/image/macOS/git6.png" alt="git6.png"></p><p><img src="/image/macOS/git7.png" alt="git7.png"></p><p>å®‰è£…ååˆ¤æ–­æ˜¯å¦æˆåŠŸ</p><p>$ nvm -v</p><p>ä¸æˆåŠŸï¼Œè¿è¡Œä¸‰è¡Œå‘½ä»¤<br>$ export NVM_DIR=â€$HOME/.nvmâ€<br>$ [ -s â€œ$NVM_DIR/nvm.shâ€ ] &amp;&amp; . â€œ$NVM_DIR/nvm.shâ€  # This loads nvm<br>$ [ -s â€œ$NVM_DIR/bash_completionâ€ ] &amp;&amp; . â€œ$NVM_DIR/bash_completionâ€ # This loads nvm bash_completion</p><p>æ³¨ï¼šä¸æˆåŠŸï¼Œéœ€è¦åœ¨.zshrc æ–‡ä»¶ä¸ŠåŠ ä¸Šä¸‰è¡Œè¯­å¥å‘½ä»¤<br>$ ls -A<br>$ open .zshrc</p><p>nvm install stable ## å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ nodeï¼Œå½“å‰æ˜¯ node v9.5.0 (npm v5.6.0)<br>nvm install <version> ## å®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼Œå¯æ¨¡ç³Šå®‰è£…ï¼Œå¦‚ï¼šå®‰è£… v4.4.0ï¼Œæ—¢å¯ nvm install v4.4.0ï¼Œåˆå¯ nvm install 4.4<br>nvm uninstall <version> ## åˆ é™¤å·²å®‰è£…çš„æŒ‡å®šç‰ˆæœ¬ï¼Œè¯­æ³•ä¸ install ç±»ä¼¼<br>nvm use <version> ## åˆ‡æ¢ä½¿ç”¨æŒ‡å®šçš„ç‰ˆæœ¬ node<br>nvm ls ## åˆ—å‡ºæ‰€æœ‰å®‰è£…çš„ç‰ˆæœ¬<br>nvm ls-remote ## åˆ—å‡ºæ‰€æœ‰è¿œç¨‹æœåŠ¡å™¨çš„ç‰ˆæœ¬ï¼ˆå®˜æ–¹ node version listï¼‰<br>nvm current ## æ˜¾ç¤ºå½“å‰çš„ç‰ˆæœ¬<br>nvm alias <name> <version> ## ç»™ä¸åŒçš„ç‰ˆæœ¬å·æ·»åŠ åˆ«å<br>nvm unalias <name> ## åˆ é™¤å·²å®šä¹‰çš„åˆ«å<br>nvm reinstall-packages <version> ## åœ¨å½“å‰ç‰ˆæœ¬ node ç¯å¢ƒä¸‹ï¼Œé‡æ–°å…¨å±€å®‰è£…æŒ‡å®šç‰ˆæœ¬å·çš„ npm åŒ…<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p><p>nvm å¦‚ä½•æ ¹æ®é¡¹ç›®è‡ªåŠ¨åˆ‡æ¢ node ç‰ˆæœ¬</p><p>v ç‰ˆæœ¬å·</p><p>åœ¨é¡¹ç›®è·Ÿç›®å½•æ–°å»º<code>.nvmrc</code>æ–‡ä»¶,å†™å…¥<code>v16</code></p><ol><li><code>vi ~/.zshrc</code></li></ol><p>å†™å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">load-nvmrc() &#123;</span><br><span class="line">   local nvmrc_path=&quot;$(nvm_find_nvmrc)&quot;</span><br><span class="line">   if [ -n &quot;$nvmrc_path&quot; ]; then</span><br><span class="line">     echo &#x27;ğŸ¤“æ‰¾åˆ°.nvmrcé…ç½®ï¼Œå¹¶è‡ªåŠ¨åˆ‡æ¢nodeç‰ˆæœ¬&#x27;</span><br><span class="line">     nvm use #</span><br><span class="line">   fi</span><br><span class="line">&#125;</span><br><span class="line">load-nvmrc</span><br></pre></td></tr></table></figure><ol start="2"><li><code>source ~/.zshrc</code> ç”Ÿæ•ˆ</li></ol><h2 id="æ–‡ä»¶åè·¯ç»æ˜¾ç¤ºè®¾ç½®"><a href="#æ–‡ä»¶åè·¯ç»æ˜¾ç¤ºè®¾ç½®" class="headerlink" title="æ–‡ä»¶åè·¯ç»æ˜¾ç¤ºè®¾ç½®"></a>æ–‡ä»¶åè·¯ç»æ˜¾ç¤ºè®¾ç½®</h2><p><a href="https://www.bilibili.com/read/cv12745312">https://www.bilibili.com/read/cv12745312</a></p><ul><li>å¼€å¯</li></ul><p><code>defaults write com.apple.finder _FXShowPosixPathInTitle -bool TRUE;killall Finder</code></p><ul><li>å…³é—­</li></ul><p><code>defaults delete com.apple.finder _FXShowPosixPathInTitle;killall Finder</code></p><h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><p>å‚è€ƒåœ°å€: <a href="https://zhuanlan.zhihu.com/p/191495100">https://zhuanlan.zhihu.com/p/191495100</a></p><ol><li><code>vi ~/.bash_profile</code></li><li>é…ç½®å…¨å±€è·¯å¾„</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PATH_PYTHON=&quot;/Library/Frameworks/Python.framework/Versions/3.8/bin&quot;</span><br><span class="line"># Setting PATH for Phantomjs 2.1.1-maxcosx</span><br><span class="line">PATH_PHANTOM=&quot;/Users/wecychen/PhantomJs/phantomjs-2.1.1-macosx/bin&quot;</span><br><span class="line">PATH=&quot;$&#123;PATH_PYTHON&#125;:$&#123;PATH_PHANTOM&#125;:$&#123;PATH&#125;&quot;</span><br><span class="line">export PATH</span><br></pre></td></tr></table></figure><ol start="3"><li><p><code>source ~/.bash_profile</code></p></li><li><p><code>phantomjs --version</code></p></li></ol><h1 id="brew"><a href="#brew" class="headerlink" title="brew"></a>brew</h1><p><a href="https://blog.csdn.net/qq_45088552/article/details/126799921">å®‰è£… brew</a></p><h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><p><a href="https://blog.csdn.net/qq_42222342/article/details/124414747">redis å®‰è£…æ•™ç¨‹</a></p><p>å¼€å¯ : <code>brew services start redis</code><br>å…³é—­: <code>brew services stop redis</code><br>éªŒè¯: <code>redis-cli ping</code></p><h2 id="mongod"><a href="#mongod" class="headerlink" title="mongod"></a>mongod</h2><p>[æŸ¥çœ‹ mongod ç‰ˆæœ¬]<a href="https://www.mongodb.com/try/download/community">https://www.mongodb.com/try/download/community</a></p><p>è¿™é‡Œæ¨èç”¨ brew å®‰è£… 4.4 ç‰ˆæœ¬</p><blockquote><ol><li> <code>brew tap mongodb/brew</code></li></ol></blockquote><blockquote><ol start="2"><li> <code>brew install mongodb-community@4.4</code></li></ol></blockquote><p>è®¾ç½®ç¯å¢ƒå˜é‡</p><ol><li><p><code>vim ~/.zshrc</code> ç¼–è¾‘</p><p><code>cat ~/.zshrc</code> æŸ¥çœ‹</p></li></ol><p>æŒ‰ i è°ƒåˆ°è¾“å…¥æ¨¡å¼ï¼Œæ„æ€æ˜¯ insert<br>æ·»åŠ <br><code>export PATH=&quot;/usr/local/opt/mongodb-community@4.4/bin:$PATH&quot;</code></p><p>æŒ‰ escï¼Œå†æŒ‰:wqï¼Œä¿å­˜é€€å‡º</p><ol start="2"><li><code>source  ~/.zshrc</code> ç”Ÿæ•ˆ</li></ol><p>æŸ¥çœ‹ç‰ˆæœ¬</p><blockquote><p><code>mongod --version</code></p></blockquote><p>db version v4.4.19<br>Build Info: {<br>â€œversionâ€: â€œ4.4.19â€,<br>â€œgitVersionâ€: â€œ9a996e0ad993148b9650dc402e6d3b1804ad3b8aâ€,<br>â€œmodulesâ€: [],<br>â€œallocatorâ€: â€œsystemâ€,<br>â€œenvironmentâ€: {<br>â€œdistarchâ€: â€œx86_64â€,<br>â€œtarget_archâ€: â€œx86_64â€<br>}<br>}</p><p>@ ç¬¦å·åé¢çš„ 4.4 æ˜¯æœ€æ–°ç‰ˆæœ¬å·ã€‚<br>å®‰è£…ä¿¡æ¯ï¼š</p><p>é…ç½®æ–‡ä»¶ï¼š<code>/usr/local/etc/mongod.conf</code><br>æ—¥å¿—æ–‡ä»¶è·¯å¾„ï¼š<code>/usr/local/var/log/mongodb</code><br>æ•°æ®å­˜æ”¾è·¯å¾„ï¼š<code>/usr/local/var/mongodb</code><br>è¿è¡Œ MongoDB<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ brew å‘½ä»¤æˆ– mongod å‘½ä»¤æ¥å¯åŠ¨æœåŠ¡ã€‚</p><p>brew å¯åŠ¨ï¼š<br><code>brew services start mongodb-community@4.4</code><br>brew åœæ­¢ï¼š<br><code>brew services stop mongodb-community@4.4</code></p><p>è®¾ç½®å¯†ç </p><p><a href="https://www.90175.com/wenku/txtlist_i40v.html">https://www.90175.com/wenku/txtlist_i40v.html</a></p><p>è¿è¡Œå‘½å</p><blockquote><ol><li><code>mongo</code></li><li><code>show dbs</code></li><li><code>exit</code></li></ol></blockquote>]]></content>
    
    
    <summary type="html">macç³»ç»Ÿæ“ä½œ</summary>
    
    
    
    <category term="mac" scheme="https://wecy-chen.github.io/categories/mac/"/>
    
    
    <category term="macæ“ä½œ" scheme="https://wecy-chen.github.io/tags/mac%E6%93%8D%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>js/html/cssæ–¹æ³•</title>
    <link href="https://wecy-chen.github.io/2022/09/12/fn/"/>
    <id>https://wecy-chen.github.io/2022/09/12/fn/</id>
    <published>2022-09-11T23:04:35.000Z</published>
    <updated>2023-07-11T08:23:21.504Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h1><p>åœ¨ JavaScript ä¸­ï¼Œæ·±æ‹·è´æ˜¯æŒ‡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶å°†åŸå§‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’ŒåµŒå¥—å¯¹è±¡çš„å±æ€§éƒ½å¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­ï¼Œç¡®ä¿åŸå§‹å¯¹è±¡å’Œæ–°å¯¹è±¡ä¹‹é—´æ²¡æœ‰å¼•ç”¨å…³ç³»ã€‚è¿™æ ·åšå¯ä»¥é¿å…åœ¨ä¿®æ”¹æ–°å¯¹è±¡æ—¶å½±å“åˆ°åŸå§‹å¯¹è±¡ã€‚</p><p>ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„ JavaScript æ·±æ‹·è´æ–¹æ³•ï¼š</p><p>æ‰‹åŠ¨é€’å½’å¤åˆ¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepCopy</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span> || obj === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> copy = <span class="built_in">Array</span>.isArray(obj) ? [] : &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">      copy[key] = deepCopy(obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ JSON åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> copy = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•å¯ä»¥å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åå†å°†å­—ç¬¦ä¸²è½¬æ¢å›å¯¹è±¡ï¼Œä»è€Œå®ç°æ·±æ‹·è´ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒæ— æ³•å¤åˆ¶å‡½æ•°å’Œç‰¹æ®Šå¯¹è±¡ï¼ˆå¦‚æ­£åˆ™è¡¨è¾¾å¼ã€Date å¯¹è±¡ç­‰ï¼‰ï¼Œå¹¶ä¸”ä¼šå¿½ç•¥å¯¹è±¡çš„åŸå‹é“¾ã€‚</p><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Lodashï¼‰ï¼š<br>ç¬¬ä¸‰æ–¹åº“ Lodash æä¾›äº† cloneDeep æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œæ·±æ‹·è´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> _ = <span class="built_in">require</span>(<span class="string">&quot;lodash&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> copy = _.cloneDeep(obj);</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•å¯ä»¥å¤„ç†å„ç§ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶ä¸”å…·æœ‰è‰¯å¥½çš„æ€§èƒ½å’Œå…¼å®¹æ€§ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ·±æ‹·è´å¯èƒ½ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œå³æŸä¸ªå¯¹è±¡çš„å±æ€§å¼•ç”¨äº†è‡ªèº«æˆ–è€…å½¢æˆäº†å¾ªç¯å¼•ç”¨é“¾ã€‚åœ¨è¿›è¡Œæ·±æ‹·è´æ—¶ï¼Œéœ€è¦ç¡®ä¿å¤„ç†å¾ªç¯å¼•ç”¨çš„æƒ…å†µï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´æ— é™é€’å½’çš„é—®é¢˜ã€‚</p><p>é€‰æ‹©åˆé€‚çš„æ·±æ‹·è´æ–¹æ³•å–å†³äºä½ çš„å…·ä½“éœ€æ±‚å’Œä½¿ç”¨åœºæ™¯ã€‚å¦‚æœä½ åªéœ€è¦ç®€å•çš„æ•°æ®ç»“æ„æ‹·è´ï¼Œæ‰‹åŠ¨é€’å½’å¤åˆ¶æˆ–ä½¿ç”¨ JSON åºåˆ—åŒ–å’Œååºåˆ—åŒ–å¯èƒ½å·²ç»è¶³å¤Ÿã€‚å¦‚æœéœ€è¦å¤„ç†å¤æ‚çš„å¯¹è±¡å’Œå¾ªç¯å¼•ç”¨ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ¥è¿›è¡Œæ·±æ‹·è´ã€‚</p><h1 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h1><p>é˜²æŠ–ï¼ˆdebouncingï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„å‰ç«¯æŠ€æœ¯ï¼Œç”¨äºé™åˆ¶æŸä¸ªå‡½æ•°åœ¨çŸ­æ—¶é—´å†…è¢«é¢‘ç¹è§¦å‘çš„æƒ…å†µã€‚å½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œé˜²æŠ–ä¼šå»¶è¿Ÿæ‰§è¡Œè¯¥äº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œå¦‚æœåœ¨å»¶è¿ŸæœŸé—´å†…è¯¥äº‹ä»¶å†æ¬¡è¢«è§¦å‘ï¼Œé‚£ä¹ˆå»¶è¿Ÿæ—¶é—´ä¼šè¢«é‡æ–°è®¡ç®—ã€‚è¿™æ ·å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘å‡½æ•°çš„æ‰§è¡Œæ¬¡æ•°ï¼Œæå‡æ€§èƒ½ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ JavaScript ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•å®ç°é˜²æŠ–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timerId;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> context = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">const</span> args = <span class="built_in">arguments</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">clearTimeout</span>(timerId);</span><br><span class="line">    timerId = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      func.apply(context, args);</span><br><span class="line">    &#125;, delay);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleInput</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;å¤„ç†è¾“å…¥...&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> debouncedHandleInput = debounce(handleInput, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬è¾“å…¥äº‹ä»¶</span></span><br><span class="line"><span class="built_in">document</span></span><br><span class="line">  .getElementById(<span class="string">&quot;input&quot;</span>)</span><br><span class="line">  .addEventListener(<span class="string">&quot;input&quot;</span>, debouncedHandleInput);</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œdebounce å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šfunc æ˜¯è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œdelay æ˜¯å»¶è¿Ÿçš„æ—¶é—´é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨å»¶è¿ŸæœŸé—´å†…è¢«å¤šæ¬¡è°ƒç”¨æ—¶ï¼Œåªæ‰§è¡Œæœ€åä¸€æ¬¡è°ƒç”¨ã€‚</p><p>ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´å»¶è¿Ÿæ—¶é—´ï¼Œä»¥åŠè¦æ‰§è¡Œçš„å‡½æ•°ã€‚åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† handleInput å‡½æ•°åŒ…è£…åœ¨ debounce ä¸­ï¼Œå¹¶å°†è¿”å›çš„å‡½æ•° debouncedHandleInput ç”¨ä½œè¾“å…¥äº‹ä»¶çš„å¤„ç†å‡½æ•°ã€‚è¿™æ ·ï¼Œå½“ç”¨æˆ·è¾“å…¥æ—¶ï¼ŒhandleInput å‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ç”¨æˆ·åœæ­¢è¾“å…¥ä¸€æ®µæ—¶é—´åæ‰ä¼šæ‰§è¡Œã€‚</p><h1 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h1><p>èŠ‚æµï¼ˆthrottlingï¼‰æ˜¯å¦ä¸€ç§å¸¸ç”¨çš„å‰ç«¯æŠ€æœ¯ï¼Œç”¨äºé™åˆ¶æŸä¸ªå‡½æ•°åœ¨ä¸€å®šæ—¶é—´é—´éš”å†…è¢«è§¦å‘çš„é¢‘ç‡ã€‚ä¸é˜²æŠ–ä¸åŒï¼ŒèŠ‚æµä¼šåœ¨å›ºå®šçš„æ—¶é—´é—´éš”å†…æ‰§è¡Œå‡½æ•°ï¼Œè€Œä¸ç®¡è¯¥å‡½æ•°æ˜¯å¦è¢«é¢‘ç¹è§¦å‘ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ JavaScript ç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºäº†å¦‚ä½•å®ç°èŠ‚æµï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timerId;</span><br><span class="line">  <span class="keyword">let</span> lastExecutedTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> context = <span class="built_in">this</span>;</span><br><span class="line">    <span class="keyword">const</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">    <span class="keyword">const</span> currentTime = <span class="built_in">Date</span>.now();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentTime - lastExecutedTime &gt;= delay) &#123;</span><br><span class="line">      func.apply(context, args);</span><br><span class="line">      lastExecutedTime = currentTime;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(timerId);</span><br><span class="line">      timerId = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        func.apply(context, args);</span><br><span class="line">        lastExecutedTime = <span class="built_in">Date</span>.now();</span><br><span class="line">      &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleScroll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;å¤„ç†æ»šåŠ¨...&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> throttledHandleScroll = throttle(handleScroll, <span class="number">300</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬æ»šåŠ¨äº‹ä»¶</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;scroll&quot;</span>, throttledHandleScroll);</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œthrottle å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šfunc æ˜¯è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œdelay æ˜¯æ—¶é—´é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨å›ºå®šçš„æ—¶é—´é—´éš”å†…è¢«è°ƒç”¨ï¼Œæ— è®ºè¢«è°ƒç”¨çš„æ¬¡æ•°ã€‚</p><p>åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å°† handleScroll å‡½æ•°åŒ…è£…åœ¨ throttle ä¸­ï¼Œå¹¶å°†è¿”å›çš„å‡½æ•° throttledHandleScroll ç”¨ä½œæ»šåŠ¨äº‹ä»¶çš„å¤„ç†å‡½æ•°ã€‚è¿™æ ·ï¼Œæ— è®ºç”¨æˆ·å¤šå¿«åœ°æ»šåŠ¨é¡µé¢ï¼ŒhandleScroll å‡½æ•°éƒ½ä¼šä»¥å›ºå®šçš„æ—¶é—´é—´éš”è¢«æ‰§è¡Œã€‚</p><p>ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´æ—¶é—´é—´éš”ï¼Œä»¥åŠè¦æ‰§è¡Œçš„å‡½æ•°ã€‚è¯·æ³¨æ„ï¼ŒèŠ‚æµä¼šåœ¨å›ºå®šçš„æ—¶é—´é—´éš”å†…æ‰§è¡Œå‡½æ•°ï¼Œè€Œä¸ä¼šåƒé˜²æŠ–é‚£æ ·ç­‰å¾…ç”¨æˆ·åœæ­¢è§¦å‘äº‹ä»¶ã€‚</p><h1 id="è½¬ç½®çŸ©é˜µ"><a href="#è½¬ç½®çŸ©é˜µ" class="headerlink" title="è½¬ç½®çŸ©é˜µ"></a>è½¬ç½®çŸ©é˜µ</h1><p>è¦è½¬ç½®ä¸€ä¸ªçŸ©é˜µï¼Œå¯ä»¥å°†çŸ©é˜µçš„è¡Œå˜ä¸ºåˆ—ï¼Œåˆ—å˜ä¸ºè¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">transposeMatrix</span>(<span class="params">matrix</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è·å–çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°</span></span><br><span class="line">  <span class="keyword">const</span> rows = matrix.length;</span><br><span class="line">  <span class="keyword">const</span> cols = matrix[<span class="number">0</span>].length;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„çŸ©é˜µæ¥å­˜å‚¨è½¬ç½®åçš„ç»“æœ</span></span><br><span class="line">  <span class="keyword">const</span> transposedMatrix = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; cols; i++) &#123;</span><br><span class="line">    transposedMatrix[i] = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; rows; j++) &#123;</span><br><span class="line">      <span class="comment">// å°†åŸçŸ©é˜µçš„è¡Œå˜ä¸ºåˆ—</span></span><br><span class="line">      transposedMatrix[i][j] = matrix[j][i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> transposedMatrix;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¤ºä¾‹çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">const</span> matrix = [</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">  [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</span><br><span class="line">  [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</span><br><span class="line">];</span><br><span class="line"><span class="comment">// è½¬ç½®çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">const</span> transposed = transposeMatrix(matrix);</span><br><span class="line"><span class="built_in">console</span>.log(transposed);</span><br><span class="line">[</span><br><span class="line">  [<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="number">5</span>, <span class="number">8</span>],</span><br><span class="line">  [<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>],</span><br><span class="line">];</span><br></pre></td></tr></table></figure><h1 id="çŸ©é˜µåˆ—åŒ¹é…"><a href="#çŸ©é˜µåˆ—åŒ¹é…" class="headerlink" title="çŸ©é˜µåˆ—åŒ¹é…"></a>çŸ©é˜µåˆ—åŒ¹é…</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>], <span class="comment">// åŒ¹é…é€‰æ‹©1</span></span><br><span class="line">  [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>], <span class="comment">// åŒ¹é…é€‰æ‹©2</span></span><br><span class="line">];</span><br><span class="line"><span class="keyword">let</span> list = [];</span><br><span class="line"><span class="keyword">let</span> r_list = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">$arr, $i</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; $arr[$i].length; i++) &#123;</span><br><span class="line">    r_list[$i] = $arr[$i][i];</span><br><span class="line">    <span class="keyword">if</span> ($i !== $arr.length - <span class="number">1</span>) &#123;</span><br><span class="line">      fn($arr, $i + <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      list.push(r_list.slice());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">fn(arr, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(list);</span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//   [1, &quot;a&quot;],</span></span><br><span class="line"><span class="comment">//   [1, &quot;b&quot;],</span></span><br><span class="line"><span class="comment">//   [2, &quot;a&quot;],</span></span><br><span class="line"><span class="comment">//   [2, &quot;b&quot;]</span></span><br><span class="line"><span class="comment">// ]</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">è¿™æ˜¯å‰ç«¯ä¸€äº›æ–¹æ³•</summary>
    
    
    
    <category term="å·¥å…·" scheme="https://wecy-chen.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="js" scheme="https://wecy-chen.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>å·¥å…·/æ’ä»¶</title>
    <link href="https://wecy-chen.github.io/2022/09/12/tool/"/>
    <id>https://wecy-chen.github.io/2022/09/12/tool/</id>
    <published>2022-09-11T23:04:35.000Z</published>
    <updated>2022-09-12T08:50:07.280Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h1><h2 id="åŒæ­¥ä¹¦ç­¾"><a href="#åŒæ­¥ä¹¦ç­¾" class="headerlink" title="åŒæ­¥ä¹¦ç­¾"></a>åŒæ­¥ä¹¦ç­¾</h2><p><a href="https://zhuanlan.zhihu.com/p/503592340">åŒæ­¥ä¹¦ç­¾</a></p><p><strong>ä¸€. é…ç½® github token</strong></p><ol><li><a href="https://github.com/settings/tokens/new">è¿›å…¥ github token</a></li><li>å¡«å†™ Note <code>BookmarkHub</code></li><li>å¤±æ•ˆæ—¥æœŸè®¾ç½®ä¸º<code>No expiration</code></li><li>å‹¾é€‰<code>gist</code>é€‰é¡¹</li><li>ç‚¹å‡»<code>Generate token</code>ç”Ÿæˆå¹¶å¤åˆ¶ token</li></ol><p><strong>äºŒ. è·å– gist id</strong></p><ol><li><p><a href="https://gist.github.com/">è¿›å…¥ gist</a></p><p>æ³¨ï¼šå¦‚æœè¿›å…¥ä¸äº†ï¼Œéœ€é…ç½®ä¸€ä¸‹ hosts æ–‡ä»¶<br>C:\Windows\System32\drivers\etc\hosts<br>åœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š<br>140.82.114.3 <a href="http://gist.github.com/">http://gist.github.com</a><br>140.82.114.4 <a href="http://gist.github.com/">http://gist.github.com</a><br><a href="https://ping.chinaz.com/gist.github.com">å¤±è´¥é‡æ–°è·å–å¹¶ä¿®æ”¹ ip</a><br>åˆ·æ–°&gt; <code>ipconfig /flushdns</code> åˆ·æ–° dns</p></li><li><p>æè¿°å¡«å†™<code>bookmarkHub</code></p></li><li><p>å†…å®¹å¡«å†™<code>ä¹¦ç­¾åŒæ­¥</code></p></li><li><p>gist åˆ›å»ºå®Œæˆï¼Œå¾—åˆ° gist id</p></li></ol><p><strong>ä¸‰.è®¾ç½® bookmarkHub</strong></p><ol><li>æŠŠè®¾ç½®å¥½çš„ github token å’Œ gist id å¡«å†™åˆ° BookmarkHub æ’ä»¶ä¸­</li></ol><p><img src="https://pic2.zhimg.com/80/v2-d0b54ab370627a66deb6634c7cc92e05_1440w.jpg" alt="BookmarkHub"></p><ol start="2"><li>é…ç½®å¥½ä¸Šä¼ ä¹¦ç­¾</li></ol><h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><p>è°·æ­Œæ’ä»¶åœ°å€</p><p>C:\Users\wecy\AppData\Local\Google\Chrome\User Data\Default\Extensions</p><table><thead><tr><th align="center">æ’ä»¶å</th><th align="center">æ’ä»¶ id</th></tr></thead><tbody><tr><td align="center">BookmarkHub - ä¹¦ç­¾åŒæ­¥</td><td align="center">fohimdklhhcpcnpmmichieidclgfdmol</td></tr></tbody></table><p><a href="http://crx.zhuzhu.org/">æ’ä»¶ä¸‹è½½ ctx</a></p><p>ä¸‹è½½æ’ä»¶ <code>https://chrome.google.com/webstore/detail/fohimdklhhcpcnpmmichieidclgfdmol</code></p>]]></content>
    
    
    <summary type="html">è¿™æ˜¯ä¸€äº›å·¥å…·/æ’ä»¶ä½¿ç”¨æ–¹æ³•</summary>
    
    
    
    <category term="å·¥å…·" scheme="https://wecy-chen.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="å·¥å…· æ’ä»¶ æµè§ˆå™¨ è°·æ­Œ" scheme="https://wecy-chen.github.io/tags/%E5%B7%A5%E5%85%B7-%E6%8F%92%E4%BB%B6-%E6%B5%8F%E8%A7%88%E5%99%A8-%E8%B0%B7%E6%AD%8C/"/>
    
  </entry>
  
  <entry>
    <title>Vue3.0</title>
    <link href="https://wecy-chen.github.io/2022/08/22/vue3/"/>
    <id>https://wecy-chen.github.io/2022/08/22/vue3/</id>
    <published>2022-08-22T01:42:38.316Z</published>
    <updated>2023-04-21T07:49:11.080Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Vue3 å­¦ä¹ </strong></p><h1 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h1><p>æ–‡æ¡£è¯´æ˜</p><ol><li> <a href="https://vue3js.cn/">å­¦ä¹ åœ°å€</a></li><li> <a href="https://24kcs.github.io/vue3_study/">å¿«é€Ÿä¸Šæ‰‹</a></li><li> <a href="https://v3.cn.vuejs.org/">vue ä¸­æ–‡å®˜ç½‘</a></li><li> <a href="https://sfc.vuejs.org/#eyJBcHAudnVlIjoiPHRlbXBsYXRlPlxuICA8aDE+e3sgbXNnIH19PC9oMT5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5jb25zdCBtc2cgPSAnSGVsbG8gV29ybGQhJ1xuPC9zY3JpcHQ+IiwiaW1wb3J0LW1hcC5qc29uIjoie1xuICBcImltcG9ydHNcIjoge1xuICAgIFwidnVlXCI6IFwiaHR0cHM6Ly9zZmMudnVlanMub3JnL3Z1ZS5ydW50aW1lLmVzbS1icm93c2VyLmpzXCJcbiAgfVxufSJ9">ä»£ç æµ‹è¯•</a></li><li> <a href="https://juejin.cn/post/6955129410705948702">Vue3 æ˜é‡‘</a></li></ol><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><p><a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">æ–‡æ¡£</a></p><h3 id="ä½¿ç”¨-vue-cli-åˆ›å»º"><a href="#ä½¿ç”¨-vue-cli-åˆ›å»º" class="headerlink" title="ä½¿ç”¨ vue-cli åˆ›å»º"></a>ä½¿ç”¨ vue-cli åˆ›å»º</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install - g @vue / cli # # å®‰è£…æˆ–è€…å‡çº§</span><br><span class="line">$ vue--version # # ä¿è¯ vue cli ç‰ˆæœ¬åœ¨ <span class="number">4.5</span> <span class="number">.0</span> ä»¥ä¸Š å½“å‰å®‰è£…ç‰ˆæœ¬<span class="number">5</span> <span class="number">.0</span> <span class="number">.4</span></span><br><span class="line">$ vue create my - project # # åˆ›å»ºé¡¹ç›®</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£…æ­¥éª¤<br>æ³¨æ„: é€‰é¡¹æ— æ³•æŒ‰ç®­å¤´é”®é€‰æ‹©æ—¶, å¯ä»¥ç”¨æ•°å­—é”®é€‰æ‹©</p></blockquote><ul><li>Use <a href="https://registry.npmmirror.com/">https://registry.npmmirror.com</a> for faster installation? Yes ä½¿ç”¨æ›´å¿«çš„ npm é•œåƒ</li><li>Target directory D:\æ¡Œé¢\github\vue-3.0 already exists. Pick an action: (Use<br>arrow keys) ** merge æ–‡ä»¶å·²å­˜åœ¨, åˆå¹¶æœ¬åœ°æ–‡ä»¶</li><li>? Please pick a preset: Default ([Vue 3] babel, eslint)**1 ä½¿ç”¨ vue3 é…ç½®é¡¹(ä¸€èˆ¬é€‰æ‹©è‡ªå®šä¹‰é…ç½®)</li><li>? Pick the package manager to use when installing dependencies: Yarn å®‰è£…</li></ul><p>åˆ›å»ºæˆåŠŸä¹‹åä¸€èˆ¬ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd vue - <span class="number">3.0</span></span><br><span class="line">$ yarn serve</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-vite-åˆ›å»º"><a href="#ä½¿ç”¨-vite-åˆ›å»º" class="headerlink" title="ä½¿ç”¨ vite åˆ›å»º"></a>ä½¿ç”¨ vite åˆ›å»º</h3><p><a href="https://v3.cn.vuejs.org/guide/installation.html">æ–‡æ¡£</a></p><ul><li><p>vite æ˜¯ä¸€ä¸ªç”±åŸç”Ÿ ESM é©±åŠ¨çš„ Web å¼€å‘æ„å»ºå·¥å…·ã€‚åœ¨å¼€å‘ç¯å¢ƒä¸‹åŸºäºæµè§ˆå™¨åŸç”Ÿ ES imports å¼€å‘</p></li><li><p>å®ƒåšåˆ°äº†**<em>æœ¬åœ°å¿«é€Ÿå¼€å‘å¯åŠ¨</em>**, åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹åŸºäº Rollup æ‰“åŒ…</p></li><li><ol><li>å¿«é€Ÿçš„å†·å¯åŠ¨ï¼Œä¸éœ€è¦ç­‰å¾…æ‰“åŒ…æ“ä½œï¼›</li></ol></li><li><ol start="2"><li>å³æ—¶çš„çƒ­æ¨¡å—æ›´æ–°ï¼Œæ›¿æ¢æ€§èƒ½å’Œæ¨¡å—æ•°é‡çš„è§£è€¦è®©æ›´æ–°é£èµ·</li></ol></li><li><ol start="3"><li>çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ”¹å˜ã€‚</li></ol></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm init vite - app &lt; project - name &gt;</span><br><span class="line">    $ cd &lt; project - name &gt;</span><br><span class="line">    $ npm install æˆ–è€… yarn</span><br><span class="line">$ npm run dev æˆ–è€… yarn dev</span><br></pre></td></tr></table></figure><h1 id="Composition-API"><a href="#Composition-API" class="headerlink" title="Composition API"></a>Composition API</h1><h2 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h2><ul><li>æ–°çš„ option, æ‰€æœ‰çš„ç»„åˆ API å‡½æ•°éƒ½åœ¨æ­¤ä½¿ç”¨, åªåœ¨åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡</li><li>å‡½æ•°å¦‚æœè¿”å›å¯¹è±¡, å¯¹è±¡ä¸­çš„å±æ€§æˆ–æ–¹æ³•, æ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨</li></ul><p><code>æ³¨æ„:</code> setup ç»†èŠ‚é—®é¢˜</p><ul><li><p>setup æ˜¯åœ¨ beforeCreate ç”Ÿå‘½å‘¨æœŸå›è°ƒä¹‹å‰å°±æ‰§è¡Œäº†, è€Œä¸”å°±æ‰§è¡Œä¸€æ¬¡</p></li><li><ol><li>ç”±æ­¤å¯ä»¥æ¨æ–­å‡º:setup åœ¨æ‰§è¡Œçš„æ—¶å€™, å½“å‰çš„ç»„ä»¶è¿˜æ²¡æœ‰åˆ›å»ºå‡ºæ¥, ä¹Ÿå°±æ„å‘³ç€: ç»„ä»¶å®ä¾‹å¯¹è±¡ this æ ¹æœ¬å°±ä¸èƒ½ç”¨</li></ol></li><li><p>2.this æ˜¯ undefined, è¯´æ˜, å°±ä¸èƒ½é€šè¿‡ this å†å»è°ƒç”¨ data/computed/methods/props ä¸­çš„ç›¸å…³å†…å®¹äº†</p></li><li><ol start="3"><li>å…¶å®æ‰€æœ‰çš„ composition API ç›¸å…³å›è°ƒå‡½æ•°ä¸­ä¹Ÿéƒ½ä¸å¯ä»¥</li></ol></li><li><p>setup ä¸­çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡, å†…éƒ¨çš„å±æ€§å’Œæ–¹æ³•æ˜¯ç»™ html æ¨¡ç‰ˆä½¿ç”¨çš„</p></li><li><p>setup ä¸­çš„å¯¹è±¡å†…éƒ¨çš„å±æ€§å’Œ data å‡½æ•°ä¸­çš„ return å¯¹è±¡çš„å±æ€§éƒ½å¯ä»¥åœ¨ html æ¨¡ç‰ˆä¸­ä½¿ç”¨</p></li><li><p>setup ä¸­çš„å¯¹è±¡ä¸­çš„å±æ€§å’Œ data å‡½æ•°ä¸­çš„å¯¹è±¡ä¸­çš„å±æ€§ä¼šåˆå¹¶ä¸ºç»„ä»¶å¯¹è±¡çš„å±æ€§</p></li><li><p>setup ä¸­çš„å¯¹è±¡ä¸­çš„æ–¹æ³•å’Œ methods å¯¹è±¡ä¸­çš„æ–¹æ³•ä¼šåˆå¹¶ä¸ºç»„ä»¶å¯¹è±¡çš„æ–¹æ³•</p></li><li><p>åœ¨ Vue3 ä¸­å°½é‡ä¸è¦æ··åˆçš„ä½¿ç”¨ data å’Œ setup åŠ methods å’Œ setup</p></li><li><p>ä¸€èˆ¬ä¸è¦æ··åˆä½¿ç”¨: methods ä¸­å¯ä»¥è®¿é—® setup æä¾›çš„å±æ€§å’Œæ–¹æ³•, ä½†åœ¨ setup æ–¹æ³•ä¸­ä¸èƒ½è®¿é—® data å’Œ methods</p></li><li><p>setup ä¸èƒ½æ˜¯ä¸€ä¸ª async å‡½æ•°: å› ä¸ºè¿”å›å€¼ä¸å†æ˜¯ return çš„å¯¹è±¡, è€Œæ˜¯ promise, æ¨¡æ¿çœ‹ä¸åˆ° return å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®</p></li><li><p>setup çš„å‚æ•°</p><ul><li>setup(props, context) / setup(props, {attrs, slots, emit})</li><li>props: åŒ…å« props é…ç½®å£°æ˜ä¸”ä¼ å…¥äº†çš„æ‰€æœ‰å±æ€§çš„å¯¹è±¡</li><li>attrs: åŒ…å«æ²¡æœ‰åœ¨ props é…ç½®ä¸­å£°æ˜çš„å±æ€§çš„å¯¹è±¡, ç›¸å½“äº this.$attrs</li><li>slots: åŒ…å«æ‰€æœ‰ä¼ å…¥çš„æ’æ§½å†…å®¹çš„å¯¹è±¡, ç›¸å½“äº this.$slots</li><li>emit: ç”¨æ¥åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº this.$emit</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Childå­çº§ç»„ä»¶<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>msg:&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;h3&gt;count:&#123;&#123; count &#125;&#125;&lt;/h3&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;emitXxx&quot;</span>&gt;</span>åˆ†å‘äº‹ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;Child&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">props</span>: [<span class="string">&quot;msg&quot;</span>],</span></span><br><span class="line"><span class="javascript">    <span class="attr">emits</span>: [<span class="string">&quot;fn&quot;</span>], <span class="comment">// å¯é€‰çš„, å£°æ˜äº†æ›´åˆ©äºç¨‹åºå‘˜é˜…è¯», ä¸”å¯ä»¥å¯¹åˆ†å‘çš„äº‹ä»¶æ•°æ®è¿›è¡Œæ ¡éªŒ</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// beforeCreate() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(&#x27;beforeCreateæ‰§è¡Œäº†&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// ç•Œé¢æ¸²æŸ“å®Œæ¯•</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// mounted() &#123;&#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// setup(props,context) &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; attrs, slots, emit &#125;</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// propså‚æ•°,æ˜¯ä¸€ä¸ªå¯¹è±¡,é‡Œé¢æœ‰çˆ¶çº§ç»„ä»¶å‘å­çº§ç»„ä»¶ä¼ é€’çš„æ•°æ®,å¹¶ä¸”æ˜¯åœ¨å­çº§ç»„ä»¶ä¸­ä½¿ç”¨propsæ¥æ”¶åˆ°çš„æ‰€æœ‰çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// åŒ…å«propsé…ç½®å£°æ˜ä¸”ä¼ å…¥äº†çš„æ‰€æœ‰å±æ€§çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(props.msg)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(context.attrs)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(context.emit)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// contextå‚æ•°,æ˜¯ä¸€ä¸ªå¯¹è±¡,é‡Œé¢æœ‰attrså¯¹è±¡(è·å–å½“å‰ç»„ä»¶æ ‡ç­¾ä¸Šçš„æ‰€æœ‰çš„å±æ€§çš„å¯¹è±¡,ä½†æ˜¯è¯¥å±æ€§æ˜¯åœ¨propsä¸­æ²¡æœ‰å£°æ˜æ¥æ”¶çš„æ‰€æœ‰çš„å°šéœ€ç»çš„å¯¹è±¡),emitæ–¹æ³•(åˆ†å‘äº‹ä»¶çš„),slotså¯¹è±¡(æ’æ§½)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// åŒ…å«æ²¡æœ‰åœ¨propsé…ç½®ä¸­å£°æ˜çš„å±æ€§çš„å¯¹è±¡, ç›¸å½“äº this.$attrs</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(context.attrs.msg2)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(&#x27;=============&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;setupæ‰§è¡Œäº†&quot;</span>, <span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> showMsg1 = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;setupä¸­çš„showMsg1æ–¹æ³•&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°</span></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">emitXxx</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// context.emit(&#x27;xxx&#x27;,&#x27;++&#x27;)</span></span></span><br><span class="line"><span class="javascript">        emit(<span class="string">&quot;fn&quot;</span>, <span class="string">&quot;++&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        showMsg1,</span></span><br><span class="line"><span class="javascript">        emitXxx</span></span><br><span class="line"><span class="javascript">        <span class="comment">// setupä¸­ä¸€èˆ¬éƒ½æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡,å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•éƒ½å¯ä»¥åœ¨htmlæ¨¡ç‰ˆä¸­ç›´æ¥ä½¿ç”¨</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// data() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   return &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     count: 10,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// // ç•Œé¢æ¸²æŸ“åçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒ</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// mounted() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(this)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// // æ–¹æ³•çš„</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// methods: &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   showMsg2() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     console.log(&#x27;methodsä¸­çš„showMsgæ–¹æ³•&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><ul><li>ä½œç”¨: å®šä¹‰ä¸€ä¸ªæ•°æ®çš„å“åº”å¼</li><li>è¯­æ³•: const xxx = ref(initValue):<ul><li>åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„å¼•ç”¨(reference)å¯¹è±¡</li><li>js ä¸­æ“ä½œæ•°æ®: xxx.value</li><li>æ¨¡æ¿ä¸­æ“ä½œæ•°æ®: ä¸éœ€è¦.value</li></ul></li><li>ä¸€èˆ¬ç”¨æ¥å®šä¹‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®</li></ul><p>æ›´æ–°é¡µé¢æ•°é‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>setupå’Œrefçš„åŸºæœ¬ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateCount&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt; script lang = <span class="string">&quot;ts&quot;</span> &gt;</span><br><span class="line">    <span class="keyword">import</span> &#123;</span><br><span class="line">        defineComponent,</span><br><span class="line">        ref</span><br><span class="line">    &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">    <span class="comment">// éœ€æ±‚:é¡µé¢æ‰“å¼€åå¯ä»¥ç›´æ¥çœ‹åˆ°ä¸€ä¸ªæ•°æ®,ç‚¹å‡»æŒ‰é’®å,è¯¥æ•°æ®å¯ä»¥å‘ç”Ÿå˜åŒ–</span></span><br><span class="line">    <span class="comment">// vue2çš„æ–¹å¼å®ç°</span></span><br><span class="line">    <span class="comment">// data() &#123;</span></span><br><span class="line">    <span class="comment">//   return &#123;</span></span><br><span class="line">    <span class="comment">//     count: 0, // å±æ€§</span></span><br><span class="line">    <span class="comment">//   &#125;</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// methods: &#123;</span></span><br><span class="line">    <span class="comment">//   updateCount() &#123; // æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//     this.count++</span></span><br><span class="line">    <span class="comment">//   &#125;,</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// vue3çš„æ–¹å¼å®ç°</span></span><br><span class="line">    <span class="comment">// setupæ˜¯ç»„åˆAPIçš„å…¥å£å‡½æ•°</span></span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;ç¬¬ä¸€æ¬¡&#x27;)</span></span><br><span class="line">        <span class="comment">// å˜é‡</span></span><br><span class="line">        <span class="comment">// let count = 0 // æ­¤æ—¶çš„æ•°æ®å¹¶ä¸æ˜¯å“åº”å¼çš„æ•°æ®(å“åº”å¼æ•°æ®:æ•°æ®å˜åŒ–,é¡µé¢è·Ÿç€æ¸²æŸ“å˜åŒ–)</span></span><br><span class="line">        <span class="comment">// refæ˜¯ä¸€ä¸ªå‡½æ•°,ä½œç”¨:å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ®,è¿”å›çš„æ˜¯ä¸€ä¸ªRefå¯¹è±¡,å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªvalueå±æ€§,å¦‚æœéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ“ä½œ,éœ€è¦ä½¿ç”¨è¯¥Refå¯¹è±¡è°ƒç”¨valueå±æ€§çš„æ–¹å¼è¿›è¡Œæ•°æ®çš„æ“ä½œ</span></span><br><span class="line">        <span class="comment">// htmlæ¨¡ç‰ˆä¸­æ˜¯ä¸éœ€è¦ä½¿ç”¨.valueå±æ€§çš„å†™æ³•</span></span><br><span class="line">        <span class="comment">// ä¸€èˆ¬ç”¨æ¥å®šä¹‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®</span></span><br><span class="line">        <span class="comment">// count çš„ç±»å‹ Refç±»å‹</span></span><br><span class="line">        <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(count);</span><br><span class="line">        <span class="comment">// æ–¹æ³•</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">updateCount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&quot;=====&quot;</span>);</span><br><span class="line">            <span class="comment">// æŠ¥é”™çš„åŸå› :countæ˜¯ä¸€ä¸ªRefå¯¹è±¡,å¯¹è±¡æ˜¯ä¸èƒ½è¿›è¡Œ++çš„æ“ä½œ</span></span><br><span class="line">            <span class="comment">// count++</span></span><br><span class="line">            count.value++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// å±æ€§</span></span><br><span class="line">            count,</span><br><span class="line">            <span class="comment">// æ–¹æ³•</span></span><br><span class="line">            updateCount,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;); &lt;</span><br><span class="line">/script&gt;</span><br></pre></td></tr></table></figure><h2 id="reactive"><a href="#reactive" class="headerlink" title="reactive"></a>reactive</h2><ul><li>ä½œç”¨: å®šä¹‰å¤šä¸ªæ•°æ®çš„å“åº”å¼</li><li>const proxy = reactive(obj): æ¥æ”¶ä¸€ä¸ªæ™®é€šå¯¹è±¡ç„¶åè¿”å›è¯¥æ™®é€šå¯¹è±¡çš„å“åº”å¼ä»£ç†å™¨å¯¹è±¡</li><li>å“åº”å¼è½¬æ¢æ˜¯â€œæ·±å±‚çš„â€ï¼šä¼šå½±å“å¯¹è±¡å†…éƒ¨æ‰€æœ‰åµŒå¥—çš„å±æ€§</li><li>å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®éƒ½æ˜¯å“åº”å¼çš„</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>reactiveçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åå­—:&#123;&#123; user.name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¹´é¾„:&#123;&#123; user.age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ€§åˆ«:&#123;&#123; user.gender &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åª³å¦‡:&#123;&#123; user.wife &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€æ±‚:æ˜¾ç¤ºç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯,ç‚¹å‡»æŒ‰é’®,å¯ä»¥æ›´æ–°ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯æ•°æ® /* reactive ä½œç”¨:</span></span><br><span class="line">å®šä¹‰å¤šä¸ªæ•°æ®çš„å“åº”å¼</span><br><span class="line"><span class="keyword">const</span> proxy = reactive(obj):</span><br><span class="line">    æ¥æ”¶ä¸€ä¸ªæ™®é€šå¯¹è±¡ç„¶åè¿”å›è¯¥æ™®é€šå¯¹è±¡çš„å“åº”å¼ä»£ç†å™¨å¯¹è±¡</span><br><span class="line">å“åº”å¼è½¬æ¢æ˜¯â€œ æ·±å±‚çš„â€ï¼š ä¼šå½±å“å¯¹è±¡å†…éƒ¨æ‰€æœ‰åµŒå¥—çš„å±æ€§ å†…éƒ¨åŸºäº ES6 çš„ <span class="built_in">Proxy</span></span><br><span class="line">å®ç°ï¼Œ é€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ * / &lt;</span><br><span class="line">script lang = <span class="string">&quot;ts&quot;</span> &gt;</span><br><span class="line">    <span class="keyword">import</span> &#123;</span><br><span class="line">        defineComponent,</span><br><span class="line">        reactive</span><br><span class="line">    &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> obj = &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">            <span class="attr">wife</span>: &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;å°ç”œç”œ&quot;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">                <span class="attr">cars</span>: [<span class="string">&quot;å¥”é©°&quot;</span>, <span class="string">&quot;å®é©¬&quot;</span>, <span class="string">&quot;å¥¥è¿ª&quot;</span>],</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// æŠŠæ•°æ®å˜æˆå“åº”å¼çš„æ•°æ®</span></span><br><span class="line">        <span class="comment">// è¿”å›çš„æ˜¯ä¸€ä¸ªProxyçš„ä»£ç†å¯¹è±¡,è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡å°±æ˜¯objå¯¹è±¡</span></span><br><span class="line">        <span class="comment">// userç°åœ¨æ˜¯ä»£ç†å¯¹è±¡,objæ˜¯ç›®æ ‡å¯¹è±¡</span></span><br><span class="line">        <span class="comment">// userå¯¹è±¡çš„ç±»å‹æ˜¯Proxy</span></span><br><span class="line">        <span class="keyword">const</span> user = reactive &lt; any &gt; (obj); <span class="comment">//Proxyå¯¹è±¡</span></span><br><span class="line">        <span class="built_in">console</span>.log(user);</span><br><span class="line">        <span class="keyword">const</span> updateUser = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">//åªèƒ½ä½¿ç”¨ä»£ç†å¯¹è±¡çš„æ–¹å¼æ¥æ›´æ–°æ•°æ®(å“åº”å¼æ•°æ®)</span></span><br><span class="line">            user.name = <span class="string">&quot;å°å·¥&quot;</span>;</span><br><span class="line">            user.wife.cars[<span class="number">3</span>] = <span class="string">&quot;å¥¥æ‹“&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            updateUser,</span><br><span class="line">            user,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;); &lt;</span><br><span class="line">/script&gt;</span><br></pre></td></tr></table></figure><p><code>å“åº”å¼çš„åŸç†</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>reactiveçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åå­—:&#123;&#123; proxyUser.name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¹´é¾„:&#123;&#123; proxyUser.age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ€§åˆ«:&#123;&#123; proxyUser.gender &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åª³å¦‡:&#123;&#123; proxyUser.wife &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//å®šä¹‰æ¥å£</span></span></span><br><span class="line"><span class="javascript">      interface User &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: string;</span></span><br><span class="line"><span class="javascript">        age: number;</span></span><br><span class="line"><span class="javascript">        wife: &#123;</span></span><br><span class="line"><span class="javascript">          name?: string;</span></span><br><span class="line"><span class="javascript">          age: number;</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">        gender?: string;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//[proppName:string]:any;</span></span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›®æ ‡å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> user: User = &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;ä½åŠ©&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">wife</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å°æ¨±&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">age</span>: <span class="number">19</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŠŠç›®æ ‡å¯¹è±¡å˜æˆä»£ç†å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å‚æ•°1:user----&gt;targetç›®æ ‡å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å‚æ•°2:handler----&gt;å¤„ç†å™¨å¯¹è±¡,ç”¨æ¥ç›‘è§†æ•°æ®,åŠæ•°æ®çš„æ“</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> proxyUser = <span class="keyword">new</span> <span class="built_in">Proxy</span>(user, &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è·å–ç›®æ ‡å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params">target, prop</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;getæ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, prop);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// ä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„å±æ€§å€¼/ä¸ºç›®æ ‡å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">target, prop, val</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;setæ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, prop, val);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// åˆ é™¤ç›®æ ‡å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">deleteProperty</span>(<span class="params">target, prop</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;deleteæ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="built_in">Reflect</span>.deleteProperty(target, prop);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//é¡µé¢ä¸ä¼šæ›´æ–°å“åº”å¼æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> updateUser = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(proxyUser.name);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡ä»£ç†å¯¹è±¡æ›´æ–°ç›®æ ‡å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§å€¼</span></span></span><br><span class="line"><span class="javascript">        proxyUser.name = <span class="string">&quot;é¸£äºº&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(proxyUser);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡ä»£ç†å¯¹è±¡å‘ç›®æ ‡å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">        proxyUser.gender = <span class="string">&quot;ç”·&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(user);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">delete</span> proxyUser.gender;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// æ›´æ–°ç›®æ ‡å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å¯¹è±¡ä¸­çš„å±æ€§å€¼</span></span></span><br><span class="line"><span class="javascript">        proxyUser.wife.name = <span class="string">&quot;é›ç”°&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(user);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        proxyUser,</span></span><br><span class="line"><span class="javascript">        updateUser</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="reactive-ä¸-ref-ç»†èŠ‚"><a href="#reactive-ä¸-ref-ç»†èŠ‚" class="headerlink" title="reactive ä¸ ref-ç»†èŠ‚"></a>reactive ä¸ ref-ç»†èŠ‚</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>reactiveå’Œrefçš„ç»†èŠ‚é—®é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m1:&#123;&#123; m1 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m2:&#123;&#123; m2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m3:&#123;&#123; m3 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, ref, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// æ˜¯Vue3çš„ composition APIä¸­2ä¸ªæœ€é‡è¦çš„å“åº”å¼API(refå’Œreactive)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// refç”¨æ¥å¤„ç†åŸºæœ¬ç±»å‹æ•°æ®, reactiveç”¨æ¥å¤„ç†å¯¹è±¡(é€’å½’æ·±åº¦å“åº”å¼)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// å¦‚æœç”¨refå¯¹è±¡/æ•°ç»„, å†…éƒ¨ä¼šè‡ªåŠ¨å°†å¯¹è±¡/æ•°ç»„è½¬æ¢ä¸ºreactiveçš„ä»£ç†å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// refå†…éƒ¨: é€šè¿‡ç»™valueå±æ€§æ·»åŠ getter/setteræ¥å®ç°å¯¹æ•°æ®çš„åŠ«æŒ</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// reactiveå†…éƒ¨: é€šè¿‡ä½¿ç”¨Proxyæ¥å®ç°å¯¹å¯¹è±¡å†…éƒ¨æ‰€æœ‰æ•°æ®çš„åŠ«æŒ, å¹¶é€šè¿‡Reflectæ“ä½œå¯¹è±¡å†…éƒ¨æ•°æ®</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// refçš„æ•°æ®æ“ä½œ: åœ¨jsä¸­è¦.value, åœ¨æ¨¡æ¿ä¸­ä¸éœ€è¦(å†…éƒ¨è§£ææ¨¡æ¿æ—¶ä¼šè‡ªåŠ¨æ·»åŠ .value)</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é€šè¿‡refçš„æ–¹å¼è®¾ç½®çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m1 = ref(<span class="string">&quot;abc&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m2 = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">wife</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å°çº¢&quot;</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// refä¹Ÿå¯ä»¥ä¼ å…¥å¯¹è±¡å—</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m3 = ref(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">wife</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å°çº¢&quot;</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ›´æ–°æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// refä¸­å¦‚æœæ”¾å…¥çš„æ˜¯ä¸€ä¸ªå¯¹è±¡,é‚£ä¹ˆæ˜¯ç»è¿‡äº†reactiveçš„å¤„ç†,å½¢æˆäº†ä¸€ä¸ªProxyç±»å‹çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(m3);</span></span><br><span class="line"><span class="javascript">        m1.value += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        m2.wife.name += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// m3.value.name += &#x27;===&#x27;</span></span></span><br><span class="line"><span class="javascript">        m3.value.wife.name += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(m3.value.wife);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        m1,</span></span><br><span class="line"><span class="javascript">        m2,</span></span><br><span class="line"><span class="javascript">        m3,</span></span><br><span class="line"><span class="javascript">        update</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="watch-å’Œ-watchEffect"><a href="#watch-å’Œ-watchEffect" class="headerlink" title="watch å’Œ watchEffect"></a>watch å’Œ watchEffect</h2><ul><li><p>computed å‡½æ•°:</p><ul><li>ä¸ computed é…ç½®åŠŸèƒ½ä¸€è‡´</li><li>åªæœ‰ getter</li><li>æœ‰ getter å’Œ setter</li></ul></li><li><p>watch å‡½æ•°</p><ul><li>ä¸ watch é…ç½®åŠŸèƒ½ä¸€è‡´</li><li>ç›‘è§†æŒ‡å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªå“åº”å¼æ•°æ®, ä¸€æ—¦æ•°æ®å˜åŒ–, å°±è‡ªåŠ¨æ‰§è¡Œç›‘è§†å›è°ƒ</li><li>é»˜è®¤åˆå§‹æ—¶ä¸æ‰§è¡Œå›è°ƒ, ä½†å¯ä»¥é€šè¿‡é…ç½® immediate ä¸º true, æ¥æŒ‡å®šåˆå§‹æ—¶ç«‹å³æ‰§è¡Œç¬¬ä¸€æ¬¡</li><li>é€šè¿‡é…ç½® deep ä¸º true, æ¥æŒ‡å®šæ·±åº¦ç›‘è§†</li></ul></li><li><p>watchEffect å‡½æ•°</p><ul><li>ä¸ç”¨ç›´æ¥æŒ‡å®šè¦ç›‘è§†çš„æ•°æ®, å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨çš„å“ªäº›å“åº”å¼æ•°æ®å°±ç›‘è§†å“ªäº›å“åº”å¼æ•°æ®</li><li>é»˜è®¤åˆå§‹æ—¶å°±ä¼šæ‰§è¡Œç¬¬ä¸€æ¬¡, ä»è€Œå¯ä»¥æ”¶é›†éœ€è¦ç›‘è§†çš„æ•°æ®</li><li>ç›‘è§†æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶å›è°ƒ</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è®¡ç®—å±æ€§å’Œç›‘è§†<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>å§“åæ“ä½œ<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    å§“æ°:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“æ°&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;user.firstName&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    åå­—:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥åå­—&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;user.lastName&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>è®¡ç®—å±æ€§å’Œç›‘è§†çš„æ¼”ç¤º<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    å§“å1:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;æ˜¾ç¤ºå§“å1&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;fullName1&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    å§“å2:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;æ˜¾ç¤ºå§“å2&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;fullName2&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    å§“å3:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;æ˜¾ç¤ºå§“å3&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;fullName3&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">    defineComponent,</span></span><br><span class="line"><span class="javascript">    reactive,</span></span><br><span class="line"><span class="javascript">    computed,</span></span><br><span class="line"><span class="javascript">    watch,</span></span><br><span class="line"><span class="javascript">    ref,</span></span><br><span class="line"><span class="javascript">    watchEffect</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// å®šä¹‰ä¸€ä¸ªå“åº”å¼å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> user = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// å§“æ°</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">firstName</span>: <span class="string">&quot;ä¸œæ–¹&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// åå­—</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">lastName</span>: <span class="string">&quot;ä¸è´¥&quot;</span></span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é€šè¿‡è®¡ç®—å±æ€§çš„æ–¹å¼,å®ç°ç¬¬ä¸€ä¸ªå§“åçš„æ˜¾ç¤º</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// vue3ä¸­çš„è®¡ç®—å±æ€§</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// è®¡ç®—å±æ€§çš„å‡½æ•°ä¸­å¦‚æœåªä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°,è¡¨ç¤ºçš„æ˜¯get</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç¬¬ä¸€ä¸ªå§“å:</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¿”å›çš„æ˜¯ä¸€ä¸ªRefç±»å‹çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fullName1 = computed(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> user.firstName + <span class="string">&quot;_&quot;</span> + user.lastName;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç¬¬äºŒä¸ªå§“å:</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fullName2 = computed(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> user.firstName + <span class="string">&quot;_&quot;</span> + user.lastName;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">val: string</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// console.log(&#x27;=====&#x27;,val)</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> names = val.split(<span class="string">&quot;_&quot;</span>);</span></span><br><span class="line"><span class="javascript">          user.firstName = names[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">          user.lastName = names[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç¬¬ä¸‰ä¸ªå§“å:</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fullName3 = ref(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†----ç›‘è§†æŒ‡å®šçš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      watch(</span></span><br><span class="line"><span class="javascript">        user,</span></span><br><span class="line"><span class="javascript">        <span class="function">(<span class="params">&#123; firstName, lastName &#125;</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          fullName3.value = firstName + <span class="string">&quot;_&quot;</span> + lastName;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">immediate</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">deep</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      <span class="comment">// immediate é»˜è®¤ä¼šæ‰§è¡Œä¸€æ¬¡watch,deep æ·±åº¦ç›‘è§†</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†,ä¸éœ€è¦é…ç½®immediate,æœ¬èº«é»˜è®¤å°±ä¼šè¿›è¡Œç›‘è§†,(é»˜è®¤æ‰§è¡Œä¸€æ¬¡)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// watchEffect(() =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   fullName3.value = user.firstName + &#x27;_&#x27; + user.lastName</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†fullName3çš„æ•°æ®,æ”¹å˜firstNameå’ŒlastName</span></span></span><br><span class="line"><span class="javascript">      watchEffect(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> names = fullName3.value.split(<span class="string">&quot;_&quot;</span>);</span></span><br><span class="line"><span class="javascript">        user.firstName = names[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        user.lastName = names[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// watch---å¯ä»¥ç›‘è§†å¤šä¸ªæ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// watch([user.firstName,user.lastName,fullName3],()=&gt;&#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   // è¿™é‡Œçš„ä»£ç å°±æ²¡æœ‰æ‰§è¡Œ,fullName3æ˜¯å“åº”å¼çš„æ•°æ®,ä½†æ˜¯,user.firstName,user.lastNameä¸æ˜¯å“åº”å¼çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log(&#x27;====&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å½“æˆ‘ä»¬ä½¿ç”¨watchç›‘è§†éå“åº”å¼çš„æ•°æ®çš„æ—¶å€™,ä»£ç éœ€è¦æ”¹ä¸€ä¸‹</span></span></span><br><span class="line"><span class="javascript">      watch([<span class="function">() =&gt;</span> user.firstName, <span class="function">() =&gt;</span> user.lastName, fullName3], <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿™é‡Œçš„ä»£ç å°±æ²¡æœ‰æ‰§è¡Œ,fullName3æ˜¯å“åº”å¼çš„æ•°æ®,ä½†æ˜¯,user.firstName,user.lastNameä¸æ˜¯å“åº”å¼çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;====&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        user,</span></span><br><span class="line"><span class="javascript">        fullName1,</span></span><br><span class="line"><span class="javascript">        fullName2,</span></span><br><span class="line"><span class="javascript">        fullName3</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><p><strong>ç”Ÿå‘½å‘¨æœŸ svg</strong></p><svg width="838" height="1388" xmlns="http://www.w3.org/2000/svg" fill="none" font-family="Inter, Roboto, sans-serif" font-size="14" text-anchor="middle">  <g transform="translate(283 63)">    <path d="M131 66v35h6l-7 14-7-14h6v-35h2z" fill="#9AA9B2"/>    <rect stroke="#2F679A" fill="#3E6B94" x="0.5" y="0.5" width="259" height="66" rx="8"/>    <text x="130" y="24.5" fill="#FFF" dominant-baseline="middle">      app = Vue.<tspan fill="#FFB196" dominant-baseline="middle">createApp</tspan>(<tspan fill="#39DD95" dominant-baseline="middle">options</tspan>)    </text>    <text x="130" y="43" fill="#FFF" dominant-baseline="middle">      app.<tspan fill="#FFB196" dominant-baseline="middle">mount</tspan>(<tspan fill="#39DD95" dominant-baseline="middle">el</tspan>)    </text>  </g>  <g transform="translate(316 178)">    <path d="M98 58v46h6l-7 14-7-14h6v-46h2z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="193" height="58" rx="8"/>    <text x="97" y="20.5" fill="#FFF" dominant-baseline="middle">Init</text>    <text x="97" y="39" fill="#FFF" dominant-baseline="middle">events &amp; lifecycle</text>  </g>  <g transform="translate(73 235)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeCreate</text>  </g>  <g transform="translate(316 296)">    <path d="M98 58v46h6l-7 14-7-14h6v-46h2z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="193" height="58" rx="8"/>    <text x="97" y="20.5" fill="#FFF" dominant-baseline="middle">Init</text>    <text x="97" y="39" fill="#FFF" dominant-baseline="middle">injections &amp; reactivity</text>  </g>  <g transform="translate(73 353)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">created</text>  </g>  <g transform="translate(317 414)">    <path d="M-45 53v52h6l-7 14-7-14h6v-54h286v54h6l-7 14-7-14h6v-52z" fill="#9AA9B2"/>    <polygon points="96,0.5 192,52 96,103.5 0,52" stroke="#F2781E" fill="#FF8228"/>    <text fill="#FFF" x="96" y="33.5" dominant-baseline="middle">Has</text>    <text fill="#FFF" x="96" y="52" dominant-baseline="middle">â€œtemplateâ€</text>    <text fill="#FFF" x="96" y="70.5" dominant-baseline="middle">option?</text>    <text fill="#8E9EA9" x="-58.5" y="66.5" text-anchor="end" dominant-baseline="middle">YES</text>    <text fill="#8E9EA9" x="250" y="66.5" text-anchor="start" dominant-baseline="middle">NO</text>  </g>  <g transform="translate(167 533)">    <path d="M103 58h2v44h282v-44h2v46h-142v54h6l-7 14l-7-14h6v-54h-142z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="207" height="58" rx="8"/>    <text fill="#FFF" x="104" y="20.5" dominant-baseline="middle">Compile template</text>    <text fill="#FFF" x="104" y="39" dominant-baseline="middle">into render function <tspan fill="#F6DA72" dominant-baseline="middle">*</tspan></text>    <g transform="translate(284 0)">      <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="207" height="58" rx="8"/>      <text fill="#FFF" x="104" y="20.5" dominant-baseline="middle">Compile elâ€™s innerHTML</text>      <text fill="#FFF" x="104" y="39" dominant-baseline="middle">as template <tspan fill="#F6DA72" dominant-baseline="middle">*</tspan></text>    </g>  </g>  <g transform="translate(73 639)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeMount</text>  </g>  <g transform="translate(316 705)">    <path d="M98 58v77h6l-7 14-7-14h6v-77h2z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="193" height="58" rx="8"/>    <text x="97" y="20.5" fill="#FFF" dominant-baseline="middle">Create app.$el and</text>    <text x="97" y="39" fill="#FFF" dominant-baseline="middle">append it to el</text>  </g>  <g transform="translate(73 777)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">mounted</text>  </g>  <g>    <g transform="translate(651.5 802.363) rotate(140 0 0)">      <path d="M14 0v14l-14-7l14-7z" fill="#DB5B62"/>      <line x1="60" y1="7" x2="15" y2="7" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    </g>    <g transform="translate(619 747)">      <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>      <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeUpdate</text>    </g>    <g transform="translate(642.5 1008.363) rotate(220 0 0)">      <path d="M14 0v14l-14-7l14-7z" fill="#DB5B62"/>      <line x1="60" y1="7" x2="15" y2="7" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    </g>    <g transform="translate(619 1003)">      <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>      <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">updated</text>    </g>    <path transform="translate(430 803)" stroke="#8999A4" stroke-width="2" stroke-dasharray="4" stroke-dashoffset="6" d="M147 16a95 95,0,1,1,-102 0"/>    <g transform="translate(539 860)">      <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="141" height="77" rx="8"/>      <text x="71" y="20.5" fill="#FFF" dominant-baseline="middle">Virtual DOM</text>      <text x="71" y="39" fill="#FFF" dominant-baseline="middle">re-rendered</text>      <text x="71" y="57.5" fill="#FFF" dominant-baseline="middle">and patch</text>    </g>    <g transform="translate(526 803)">      <text x="0" y="0" fill="#8E9EA9" dominant-baseline="middle">when data</text>      <text x="0" y="18.5" fill="#8E9EA9" dominant-baseline="middle">changes</text>    </g>  </g>  <g transform="translate(366 854)">    <circle stroke="#DC424C" fill="#DB5860" cx="47" cy="47" r="46.5"/>    <text x="47" y="48" fill="#FFF" dominant-baseline="middle">Mounted</text>    <path stroke="#9AA9B2" stroke-width="2" stroke-dasharray="3" d="M47 96v33"/>  </g>  <g transform="translate(355 947)">    <text x="58" y="55" fill="#8E9EA9" dominant-baseline="middle">when</text>    <text x="58" y="73.5" fill="#8E9EA9" dominant-baseline="middle">app.<tspan fill="#DB5B62" dominant-baseline="middle">unmount</tspan>()</text>    <text x="56" y="92" fill="#8E9EA9" dominant-baseline="middle">is called</text>    <path stroke="#9AA9B2" stroke-width="2" stroke-dasharray="3" d="M58 107v51"/>    <path d="M51 159l7 14 7-14z" fill="#9AA9B2"/>  </g>  <g transform="translate(73 1056)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeUnmount</text>  </g>  <g transform="translate(73 1150)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">unmounted</text>  </g>  <g transform="translate(359 1120)">    <circle stroke="#DC424C" fill="#DB5860" cx="54" cy="54" r="53.5"/>    <text x="54" y="55" fill="#FFF" dominant-baseline="middle">Unmounted</text>  </g>  <g transform="translate(413 1299.5)">    <text x="0" y="0" fill="#848484" dominant-baseline="middle">* Template compilation is performed ahead-of-time if using</text>    <text x="0" y="18.5" fill="#848484" dominant-baseline="middle">a build step, e.g., with single-file components.</text>  </g></svg><p><img src="/image/vue3/lifecycle.png" alt="ç”Ÿå‘½å‘¨æœŸ"></p><p><a href="https://blog.csdn.net/qq_42445025/article/details/121978510">ç”Ÿå‘½å‘¨æœŸ</a></p><p><strong>ä¸ 2.x ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸç›¸å¯¹åº”çš„ç»„åˆå¼ API</strong></p><ul><li><code>beforeCreate</code> -&gt; ä½¿ç”¨ <code>setup()</code></li><li><code>created</code> -&gt; ä½¿ç”¨ <code>setup()</code></li><li><code>beforeMount</code> -&gt; <code>onBeforeMount</code></li><li><code>mounted</code> -&gt; <code>onMounted</code></li><li><code>beforeUpdate</code> -&gt; <code>onBeforeUpdate</code></li><li><code>updated</code> -&gt; <code>onUpdated</code></li><li><code>beforeDestroy</code> -&gt; <code>onBeforeUnmount</code></li><li><code>destroyed</code> -&gt; <code>onUnmounted</code></li><li><code>errorCaptured</code> -&gt; <code>onErrorCaptured</code></li></ul><p><strong>æ–°å¢çš„é’©å­å‡½æ•°</strong></p><p>ç»„åˆå¼ API è¿˜æä¾›äº†ä»¥ä¸‹è°ƒè¯•é’©å­å‡½æ•°ï¼š</p><ul><li>onRenderTracked</li><li>onRenderTriggered</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Childå­çº§ç»„ä»¶<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h4</span>&gt;</span>msg:&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">    defineComponent,</span></span><br><span class="line"><span class="javascript">    ref,</span></span><br><span class="line"><span class="javascript">    onBeforeMount,</span></span><br><span class="line"><span class="javascript">    onMounted,</span></span><br><span class="line"><span class="javascript">    onBeforeUpdate,</span></span><br><span class="line"><span class="javascript">    onUpdated,</span></span><br><span class="line"><span class="javascript">    onBeforeUnmount,</span></span><br><span class="line"><span class="javascript">    onUnmounted</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;Child&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// vue2.xä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeCreate...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„created...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeMount...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„mounted...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeUpdate</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeUpdate...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">updated</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„updated...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// vue2.xä¸­çš„beforeDestroyå’Œdestroyedè¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå›è°ƒå·²ç»åœ¨vue3ä¸­æ”¹åäº†,æ‰€ä»¥,ä¸èƒ½å†ä½¿ç”¨äº†</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeUnmount</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeUnmount...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">unmounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„unmounted...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„setup&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// å“åº”å¼çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> msg = ref(<span class="string">&quot;abc&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŒ‰é’®ç‚¹å‡»äº‹ä»¶çš„å›è°ƒ</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg.value += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      onBeforeMount(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onBeforeMount&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onMounted&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onBeforeUpdate(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onBeforeUpdate&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onUpdated(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onUpdated&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onBeforeUnmount(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onBeforeUnmount&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onUnmounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onUnmounted&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg,</span></span><br><span class="line"><span class="javascript">        update</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="hooks"><a href="#hooks" class="headerlink" title="hooks"></a>hooks</h2><p>è‡ªå®šä¹‰ hook å‡½æ•°</p><ul><li><p>ä½¿ç”¨ Vue3 çš„ç»„åˆ API å°è£…çš„å¯å¤ç”¨çš„åŠŸèƒ½å‡½æ•°</p></li><li><p>è‡ªå®šä¹‰ hook çš„ä½œç”¨ç±»ä¼¼äº vue2 ä¸­çš„ mixin æŠ€æœ¯</p></li><li><p>è‡ªå®šä¹‰ Hook çš„ä¼˜åŠ¿: å¾ˆæ¸…æ¥šå¤ç”¨åŠŸèƒ½ä»£ç çš„æ¥æº, æ›´æ¸…æ¥šæ˜“æ‡‚</p></li><li><p>éœ€æ±‚ 1: æ”¶é›†ç”¨æˆ·é¼ æ ‡ç‚¹å‡»çš„é¡µé¢åæ ‡</p></li><li><p>æ”¶é›†ç”¨æˆ·é¼ æ ‡ç‚¹å‡»çš„é¡µé¢åæ ‡</p></li></ul><p>useMousePosition.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onBeforeUnmount, onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> x = ref(-<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">const</span> y = ref(-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> clickHandler = <span class="function">(<span class="params">event: MouseEvent</span>) =&gt;</span> &#123;</span><br><span class="line">    x.value = event.pageX;</span><br><span class="line">    y.value = event.pageY;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// é¡µé¢å·²ç»åŠ è½½å®Œæ¯•äº†,å†è¿›è¡Œç‚¹å‡»çš„æ“ä½œ</span></span><br><span class="line">  <span class="comment">// é¡µé¢åŠ è½½å®Œæ¯•çš„ç”Ÿå‘½å‘¨æœŸç»„åˆAPI</span></span><br><span class="line">  onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;click&quot;</span>, clickHandler);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// é¡µé¢å¸è½½ä¹‹å‰çš„ç”Ÿå‘½å‘¨æœŸç»„åˆAPI</span></span><br><span class="line">  onBeforeUnmount(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&quot;click&quot;</span>, clickHandler);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    x,</span><br><span class="line">    y</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¼ æ ‡ç‚¹å‡»è·å–åæ ‡<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>x:&#123;&#123; x &#125;&#125;,y:&#123;&#123; y &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¯·æ±‚æ¥å£æ•°æ®<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;loading&quot;</span>&gt;</span>æ­£åœ¨åŠ è½½ä¸­....<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-else-if</span>=<span class="string">&quot;errorMsg&quot;</span>&gt;</span>é”™è¯¯ä¿¡æ¯:&#123;&#123; errorMsg &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>id:&#123;&#123; addressData.id &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>address:&#123;&#123; addressData.address &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>distance:&#123;&#123; addressData.distance &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°ç»„æ•°æ®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;item in data&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>id:&#123;&#123; item.id &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>title:&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>price:&#123;&#123; item.price &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, watch &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> useMousePosition <span class="keyword">from</span> <span class="string">&quot;./useMousePosition&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> useRequest <span class="keyword">from</span> <span class="string">&quot;./useRequest&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// å®šä¹‰æ¥å£,çº¦æŸå¯¹è±¡çš„ç±»å‹</span></span></span><br><span class="line"><span class="javascript">  interface AddressData &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">id</span>: number;</span></span><br><span class="line"><span class="javascript">    address: string;</span></span><br><span class="line"><span class="javascript">    distance: string;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  interface ProductsData &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">id</span>: string;</span></span><br><span class="line"><span class="javascript">    title: string;</span></span><br><span class="line"><span class="javascript">    price: number;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//1.é¼ æ ‡åæ ‡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; x, y &#125; = useMousePosition();</span></span><br><span class="line"><span class="javascript">      <span class="comment">//2.è‡ªå®šä¹‰æ•°æ®è·å–</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å‘é€è¯·æ±‚</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; <span class="attr">data</span>: addressData &#125; =</span></span><br><span class="line"><span class="javascript">        useRequest&lt;AddressData&gt;(<span class="string">&quot;/data/address.json&quot;</span>); <span class="comment">// è·å–å¯¹è±¡æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ•°ç»„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; loading, data, errorMsg &#125; = useRequest&lt;ProductsData[]&gt;(</span></span><br><span class="line"><span class="javascript">        <span class="string">&quot;/data/products.json&quot;</span></span></span><br><span class="line"><span class="javascript">      ); <span class="comment">// è·å–æ•°ç»„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†</span></span></span><br><span class="line"><span class="javascript">      watch(data, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (data.value) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(data.value.length);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        x,</span></span><br><span class="line"><span class="javascript">        y,</span></span><br><span class="line"><span class="javascript">        loading,</span></span><br><span class="line"><span class="javascript">        data,</span></span><br><span class="line"><span class="javascript">        addressData,</span></span><br><span class="line"><span class="javascript">        errorMsg</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>åˆ©ç”¨ TS æ³›å‹å¼ºåŒ–ç±»å‹æ£€æŸ¥</p></li><li><p>éœ€æ±‚ 2: å°è£…å‘ ajax è¯·æ±‚çš„ hook å‡½æ•°</p><p>useRequest.ts</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="comment">// å‘é€ajaxçš„è¯·æ±‚</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> &lt;<span class="title">T</span>&gt;(<span class="params">url: string</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŠ è½½çš„çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">const</span> loading = ref(<span class="literal">true</span>);</span><br><span class="line">  <span class="comment">// è¯·æ±‚æˆåŠŸçš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> data = (ref &lt; T) | (<span class="literal">null</span> &gt; <span class="literal">null</span>); <span class="comment">// å‘</span></span><br><span class="line">  <span class="comment">// é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">const</span> errorMsg = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">  axios</span><br><span class="line">    .get(url)</span><br><span class="line">    .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ”¹å˜åŠ è½½çŠ¶æ€</span></span><br><span class="line">      loading.value = <span class="literal">false</span>;</span><br><span class="line">      data.value = response.data;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ”¹å˜åŠ è½½çŠ¶æ€</span></span><br><span class="line">      loading.value = <span class="literal">false</span>;</span><br><span class="line">      errorMsg.value = error.message || <span class="string">&quot;æœªçŸ¥é”™è¯¯&quot;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    loading,</span><br><span class="line">    data,</span><br><span class="line">    errorMsg</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs"></a>toRefs</h2><ul><li>æŠŠä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢æˆæ™®é€šå¯¹è±¡ï¼Œè¯¥æ™®é€šå¯¹è±¡çš„æ¯ä¸ª property éƒ½æ˜¯ä¸€ä¸ª ref</li><li>åº”ç”¨: å½“ä»åˆæˆå‡½æ•°è¿”å›å“åº”å¼å¯¹è±¡æ—¶ï¼ŒtoRefs éå¸¸æœ‰ç”¨ï¼Œè¿™æ ·æ¶ˆè´¹ç»„ä»¶å°±å¯ä»¥åœ¨ä¸ä¸¢å¤±å“åº”å¼çš„æƒ…å†µä¸‹å¯¹è¿”å›çš„å¯¹è±¡è¿›è¡Œåˆ†è§£ä½¿ç”¨</li><li>é—®é¢˜: reactive å¯¹è±¡å–å‡ºçš„æ‰€æœ‰å±æ€§å€¼éƒ½æ˜¯éå“åº”å¼çš„</li><li>è§£å†³: åˆ©ç”¨ toRefs å¯ä»¥å°†ä¸€ä¸ªå“åº”å¼ reactive å¯¹è±¡çš„æ‰€æœ‰åŸå§‹å±æ€§è½¬æ¢ä¸ºå“åº”å¼çš„ ref å±æ€§</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>toRefsçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;h3&gt;name:&#123;&#123; state.name &#125;&#125;&lt;/h3&gt;</span></span><br><span class="line"><span class="comment">  &lt;h3&gt;age:&#123;&#123; state.age &#125;&#125;&lt;/h3&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>name:&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age:&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>name2:&#123;&#123; name2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age2:&#123;&#123; age2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive, toRefs &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useFeatureX</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">name2</span>: <span class="string">&quot;è‡ªæ¥ä¹Ÿ&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">age2</span>: <span class="number">47</span></span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      ...toRefs(state)</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;è‡ªæ¥ä¹Ÿ&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">47</span></span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// toRefså¯ä»¥æŠŠä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢æˆæ™®é€šå¯¹è±¡ï¼Œè¯¥æ™®é€šå¯¹è±¡çš„æ¯ä¸ª property éƒ½æ˜¯ä¸€ä¸ª ref</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const state2 = toRefs(state)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; name, age &#125; = toRefs(state);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(state2)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å®šæ—¶å™¨,æ›´æ–°æ•°æ®,(å¦‚æœæ•°æ®å˜åŒ–äº†,ç•Œé¢ä¹Ÿä¼šéšä¹‹å˜åŒ–,è‚¯å®šæ˜¯å“åº”å¼çš„æ•°æ®)</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state.name += &#x27;==&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.name.value+=&#x27;===&#x27;</span></span></span><br><span class="line"><span class="javascript">        name.value += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;======&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; name2, age2 &#125; = useFeatureX();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ä¸‹é¢çš„æ–¹å¼ä¸è¡Œå•Š</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ...state // ä¸æ˜¯å“åº”å¼çš„æ•°æ®äº†----&gt;&#123;name:&#x27;è‡ªæ¥ä¹Ÿ&#x27;,age:47&#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ...state2  toRefsè¿”å›æ¥çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">        name,</span></span><br><span class="line"><span class="javascript">        age,</span></span><br><span class="line"><span class="javascript">        name2,</span></span><br><span class="line"><span class="javascript">        age2</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ref-è·å–å…ƒç´ "><a href="#ref-è·å–å…ƒç´ " class="headerlink" title="ref è·å–å…ƒç´ "></a>ref è·å–å…ƒç´ </h2><p>åˆ©ç”¨ ref å‡½æ•°è·å–ç»„ä»¶ä¸­çš„æ ‡ç­¾å…ƒç´ </p><p>åŠŸèƒ½éœ€æ±‚: è®©è¾“å…¥æ¡†è‡ªåŠ¨è·å–ç„¦ç‚¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>refçš„å¦ä¸€ä¸ªä½œç”¨:å¯ä»¥è·å–é¡µé¢ä¸­çš„å…ƒç´ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;inputRef&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// éœ€æ±‚:å½“é¡µé¢åŠ è½½å®Œæ¯•å,é¡µé¢ä¸­çš„æ–‡æœ¬æ¡†å¯ä»¥ç›´æ¥è·å–ç„¦ç‚¹(è‡ªåŠ¨è·å–ç„¦ç‚¹)</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é»˜è®¤æ˜¯ç©ºçš„,é¡µé¢åŠ è½½å®Œæ¯•,è¯´æ˜ç»„ä»¶å·²ç»å­˜åœ¨äº†,è·å–æ–‡æœ¬æ¡†å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> inputRef = ref&lt;HTMLElement | <span class="literal">null</span>&gt;(<span class="literal">null</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é¡µé¢åŠ è½½åçš„ç”Ÿå‘½å‘¨æœŸç»„åˆAPI</span></span></span><br><span class="line"><span class="javascript">      onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        inputRef.value &amp;&amp; inputRef.value.focus(); <span class="comment">// è‡ªåŠ¨è·å–ç„¦ç‚¹</span></span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        inputRef</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="shallowReactive-ä¸-shallowRef"><a href="#shallowReactive-ä¸-shallowRef" class="headerlink" title="shallowReactive ä¸ shallowRef"></a>shallowReactive ä¸ shallowRef</h2><ul><li><p>shallowReactive : åªå¤„ç†äº†å¯¹è±¡å†…æœ€å¤–å±‚å±æ€§çš„å“åº”å¼(ä¹Ÿå°±æ˜¯æµ…å“åº”å¼)</p></li><li><p>shallowRef: åªå¤„ç†äº† value çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„ reactive å¤„ç†</p></li><li><p>ä»€ä¹ˆæ—¶å€™ç”¨æµ…å“åº”å¼å‘¢?</p><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ ref å’Œ reactive å³å¯</li><li>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, ç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– ===&gt; shallowReactive</li><li>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, åé¢ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ ===&gt; shallowRef</li></ul></li></ul><p>shallowReactive ä¸ shallowRef<br>shallowReactive: åªå¤„ç†äº†å¯¹è±¡å†…æœ€å¤–å±‚å±æ€§çš„å“åº”å¼(ä¹Ÿå°±æ˜¯æµ…å“åº”å¼)<br>shallowRef: åªå¤„ç†äº† value çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„ reactive å¤„ç†<br>æ€»ç»“:<br>reactive ä¸ ref å®ç°çš„æ˜¯æ·±åº¦å“åº”å¼, è€Œ shallowReactive ä¸ shallowRef æ˜¯æµ…å“åº”å¼<br>ä»€ä¹ˆæ—¶å€™ç”¨æµ…å“åº”å¼å‘¢?<br>ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ ref å’Œ reactive å³å¯,<br>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, ç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– ===&gt; shallowReactive<br>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, åé¢ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ ===&gt; shallowRef</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>App<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m1: &#123;&#123;m1&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m2: &#123;&#123;m2&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m3: &#123;&#123;m3&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m4: &#123;&#123;m4&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; reactive, ref, shallowReactive, shallowRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m1 = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">a</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">b</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">c</span>: <span class="number">2</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m2 = shallowReactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">a</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">b</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">c</span>: <span class="number">2</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m3 = ref(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">a</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">b</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">c</span>: <span class="number">2</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m4 = shallowRef(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">a</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">b</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">c</span>: <span class="number">2</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// m1.b.c += 1</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// m2.b.c += 1</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// m3.value.a += 1</span></span></span><br><span class="line"><span class="javascript">        m4.value.a += <span class="number">1</span>; <span class="comment">//ä¸ä¼šæ›´æ–°è§†å›¾</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        m1,</span></span><br><span class="line"><span class="javascript">        m2,</span></span><br><span class="line"><span class="javascript">        m3,</span></span><br><span class="line"><span class="javascript">        m4,</span></span><br><span class="line"><span class="javascript">        update</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="readonly-ä¸-shallowReadonly"><a href="#readonly-ä¸-shallowReadonly" class="headerlink" title="readonly ä¸ shallowReadonly"></a>readonly ä¸ shallowReadonly</h2><ul><li>readonly:<ul><li>æ·±åº¦åªè¯»æ•°æ®</li><li>è·å–ä¸€ä¸ªå¯¹è±¡ (å“åº”å¼æˆ–çº¯å¯¹è±¡) æˆ– ref å¹¶è¿”å›åŸå§‹ä»£ç†çš„åªè¯»ä»£ç†ã€‚</li><li>åªè¯»ä»£ç†æ˜¯æ·±å±‚çš„ï¼šè®¿é—®çš„ä»»ä½•åµŒå¥— property ä¹Ÿæ˜¯åªè¯»çš„ã€‚</li></ul></li><li>shallowReadonly<ul><li>æµ…åªè¯»æ•°æ®</li><li>åˆ›å»ºä¸€ä¸ªä»£ç†ï¼Œä½¿å…¶è‡ªèº«çš„ property ä¸ºåªè¯»ï¼Œä½†ä¸æ‰§è¡ŒåµŒå¥—å¯¹è±¡çš„æ·±åº¦åªè¯»è½¬æ¢</li></ul></li><li>åº”ç”¨åœºæ™¯:<ul><li>åœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹, æˆ‘ä»¬å¯èƒ½ä¸å¸Œæœ›å¯¹æ•°æ®è¿›è¡Œæ›´æ–°çš„æ“ä½œ, é‚£å°±å¯ä»¥åŒ…è£…ç”Ÿæˆä¸€ä¸ªåªè¯»ä»£ç†å¯¹è±¡æ¥è¯»å–æ•°æ®, è€Œä¸èƒ½ä¿®æ”¹æˆ–åˆ é™¤</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>readonlyå’ŒshallowReadonly<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>state:&#123;&#123; state2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive, readonly, shallowReadonly &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;ä½åŠ©&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">car</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å¥”é©°&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">color</span>: <span class="string">&quot;yellow&quot;</span></span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// åªè¯»çš„æ•°æ®---æ·±åº¦çš„åªè¯»</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const state2 = readonly(state)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// åªè¯»çš„æ•°æ®---æµ…åªè¯»çš„</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state2 = shallowReadonly(state);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.name += &#x27;===&#x27;//ä¸èƒ½æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.car.name += &#x27;==&#x27; //ä¸èƒ½æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.name+=&#x27;===&#x27; // ä¸èƒ½æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">        state2.car.name += <span class="string">&quot;===&quot;</span>; <span class="comment">//å¯ä»¥æ›´æ–°è§†å›¾</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        state2,</span></span><br><span class="line"><span class="javascript">        update</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="toRaw-ä¸-markRaw"><a href="#toRaw-ä¸-markRaw" class="headerlink" title="toRaw ä¸ markRaw"></a>toRaw ä¸ markRaw</h2><ul><li>toRaw<ul><li>è¿”å›ç”± <code>reactive</code> æˆ– <code>readonly</code> æ–¹æ³•è½¬æ¢æˆå“åº”å¼ä»£ç†çš„æ™®é€šå¯¹è±¡ã€‚</li><li>è¿™æ˜¯ä¸€ä¸ªè¿˜åŸæ–¹æ³•ï¼Œå¯ç”¨äºä¸´æ—¶è¯»å–ï¼Œè®¿é—®ä¸ä¼šè¢«ä»£ç†/è·Ÿè¸ªï¼Œå†™å…¥æ—¶ä¹Ÿä¸ä¼šè§¦å‘ç•Œé¢æ›´æ–°ã€‚</li></ul></li><li>markRaw<ul><li>æ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šè½¬æ¢ä¸ºä»£ç†ã€‚è¿”å›å¯¹è±¡æœ¬èº«</li><li>åº”ç”¨åœºæ™¯:<ul><li>æœ‰äº›å€¼ä¸åº”è¢«è®¾ç½®ä¸ºå“åº”å¼çš„ï¼Œä¾‹å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹ç±»å®ä¾‹æˆ– Vue ç»„ä»¶å¯¹è±¡ã€‚</li><li>å½“æ¸²æŸ“å…·æœ‰ä¸å¯å˜æ•°æ®æºçš„å¤§åˆ—è¡¨æ—¶ï¼Œè·³è¿‡ä»£ç†è½¬æ¢å¯ä»¥æé«˜æ€§èƒ½ã€‚</li></ul></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>toRawå’ŒmarkRaw<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>state:&#123;&#123; state &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;testToRaw&quot;</span>&gt;</span>æµ‹è¯•toRaw<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;testMarkRaw&quot;</span>&gt;</span>æµ‹è¯•markRaw<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, markRaw, reactive, toRaw &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  interface UserInfo &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: string;</span></span><br><span class="line"><span class="javascript">    age: number;</span></span><br><span class="line"><span class="javascript">    likes?: string[];</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive&lt;UserInfo&gt;(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">20</span></span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> testToRaw = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// æŠŠä»£ç†å¯¹è±¡å˜æˆäº†æ™®é€šå¯¹è±¡äº†,æ•°æ®å˜åŒ–,ç•Œé¢ä¸å˜åŒ–</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> user = toRaw(state);</span></span><br><span class="line"><span class="javascript">        user.name += <span class="string">&quot;==&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;å“ˆå“ˆ,æˆ‘å¥½å¸…å“¦&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> testMarkRaw = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state.likes = [&#x27;åƒ&#x27;, &#x27;å–&#x27;]</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state.likes[0] += &#x27;==&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(state)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> likes = [<span class="string">&quot;åƒ&quot;</span>, <span class="string">&quot;å–&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">// markRawæ ‡è®°çš„å¯¹è±¡æ•°æ®,ä»æ­¤ä»¥åéƒ½ä¸èƒ½å†æˆä¸ºä»£ç†å¯¹è±¡äº†</span></span></span><br><span class="line"><span class="javascript">        state.likes = markRaw(likes);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//ä¸ä¼šæ›´æ–°è§†å›¾</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (state.likes) &#123;</span></span><br><span class="line"><span class="javascript">            state.likes[<span class="number">0</span>] += <span class="string">&quot;=&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;å®šæ—¶å™¨èµ°èµ·æ¥&quot;</span>);</span></span><br><span class="line"><span class="javascript">          &#125;</span></span><br><span class="line"><span class="javascript">        &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        state,</span></span><br><span class="line"><span class="javascript">        testToRaw,</span></span><br><span class="line"><span class="javascript">        testMarkRaw</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="customRef"><a href="#customRef" class="headerlink" title="customRef"></a>customRef</h2><ul><li>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶</li><li>éœ€æ±‚: ä½¿ç”¨ customRef å®ç° debounce çš„ç¤ºä¾‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>CustomRefçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; keyword &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; customRef, defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// è‡ªå®šä¹‰hooké˜²æŠ–çš„å‡½æ•°</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// valueä¼ å…¥çš„æ•°æ®,å°†æ¥æ•°æ®çš„ç±»å‹ä¸ç¡®å®š,æ‰€ä»¥,ç”¨æ³›å‹,delayé˜²æŠ–çš„é—´éš”æ—¶é—´.é»˜è®¤æ˜¯200æ¯«ç§’</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useDebouncedRef</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T, delay = <span class="number">200</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å‡†å¤‡ä¸€ä¸ªå­˜å‚¨å®šæ—¶å™¨çš„idçš„å˜é‡</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> timeOutId: number | any;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> customRef(<span class="function">(<span class="params">track, trigger</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿”å›æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å‘Šè¯‰Vueè¿½è¸ªæ•°æ®</span></span></span><br><span class="line"><span class="javascript">          track();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> value;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è®¾ç½®æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">newValue: T</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// æ¸…ç†å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">clearTimeout</span>(timeOutId);</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å¼€å¯å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          timeOutId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            value = newValue;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// å‘Šè¯‰Vueæ›´æ–°ç•Œé¢</span></span></span><br><span class="line"><span class="javascript">            trigger();</span></span><br><span class="line"><span class="javascript">          &#125;, delay);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// const keyword = ref(&#x27;abc&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> keyword = useDebouncedRef(<span class="string">&quot;abc&quot;</span>, <span class="number">500</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        keyword</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="toRef-å­çˆ¶ç»„ä»¶é€šè®¯"><a href="#toRef-å­çˆ¶ç»„ä»¶é€šè®¯" class="headerlink" title="toRef(å­çˆ¶ç»„ä»¶é€šè®¯)"></a>toRef(å­çˆ¶ç»„ä»¶é€šè®¯)</h2><ul><li>ä¸ºæºå“åº”å¼å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§åˆ›å»ºä¸€ä¸ª ref å¯¹è±¡, äºŒè€…å†…éƒ¨æ“ä½œçš„æ˜¯åŒä¸€ä¸ªæ•°æ®å€¼, æ›´æ–°æ—¶äºŒè€…æ˜¯åŒæ­¥çš„</li><li>åŒºåˆ« ref: æ‹·è´äº†ä¸€ä»½æ–°çš„æ•°æ®å€¼å•ç‹¬æ“ä½œ, æ›´æ–°æ—¶ç›¸äº’ä¸å½±å“</li><li>åº”ç”¨: å½“è¦å°† æŸä¸ª prop çš„ ref ä¼ é€’ç»™å¤åˆå‡½æ•°æ—¶ï¼ŒtoRef å¾ˆæœ‰ç”¨</li></ul><blockquote><p>Child å­çº§ç»„ä»¶</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Childå­çº§ç»„ä»¶<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age:&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>length:&#123;&#123; length &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, computed, Ref, toRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useGetLength</span>(<span class="params">age: Ref</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> computed(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> age.value.toString().length;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;Child&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">age</span>: &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">type</span>: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">required</span>: <span class="literal">true</span> <span class="comment">// å¿…é¡»çš„</span></span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> length = useGetLength(toRef(props, <span class="string">&quot;age&quot;</span>));</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        length</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>çˆ¶ç»„ä»¶</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>toRefçš„ä½¿ç”¨åŠç‰¹ç‚¹:<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>state:&#123;&#123; state &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age:&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>money:&#123;&#123; money &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Child</span> <span class="attr">:age</span>=<span class="string">&quot;age&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive, toRef, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&quot;./child.vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">      Child</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">money</span>: <span class="number">100</span></span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŠŠå“åº”å¼æ•°æ®stateå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ageå˜æˆäº†refå¯¹è±¡äº†</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> age = toRef(state, <span class="string">&quot;age&quot;</span>); <span class="comment">//å­çˆ¶ç»„ä»¶å…¬ç”¨æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŠŠå“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ä½¿ç”¨refè¿›è¡ŒåŒ…è£…,å˜æˆäº†ä¸€ä¸ªrefå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> money = ref(state.money);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(age)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(money)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// æ›´æ–°æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(&#x27;æµ‹è¯•&#x27;)</span></span></span><br><span class="line"><span class="javascript">        state.age += <span class="number">2</span>; <span class="comment">//å­çˆ¶è§†å›¾æ›´æ–°</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//age.value += 3 //å­çˆ¶è§†å›¾æ›´æ–°</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//money.value += 10 //çˆ¶è§†å›¾æ›´æ–°</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        state,</span></span><br><span class="line"><span class="javascript">        age,</span></span><br><span class="line"><span class="javascript">        money,</span></span><br><span class="line"><span class="javascript">        update</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="customRef-1"><a href="#customRef-1" class="headerlink" title="customRef"></a>customRef</h2><ul><li>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶</li><li>éœ€æ±‚: ä½¿ç”¨ customRef å®ç° debounce çš„ç¤ºä¾‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>CustomRefçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; keyword &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; customRef, defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// è‡ªå®šä¹‰hooké˜²æŠ–çš„å‡½æ•°</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// valueä¼ å…¥çš„æ•°æ®,å°†æ¥æ•°æ®çš„ç±»å‹ä¸ç¡®å®š,æ‰€ä»¥,ç”¨æ³›å‹,delayé˜²æŠ–çš„é—´éš”æ—¶é—´.é»˜è®¤æ˜¯200æ¯«ç§’</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useDebouncedRef</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T, delay = <span class="number">200</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å‡†å¤‡ä¸€ä¸ªå­˜å‚¨å®šæ—¶å™¨çš„idçš„å˜é‡</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> timeOutId: number | any;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> customRef(<span class="function">(<span class="params">track, trigger</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿”å›æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å‘Šè¯‰Vueè¿½è¸ªæ•°æ®</span></span></span><br><span class="line"><span class="javascript">          track();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> value;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è®¾ç½®æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">newValue: T</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// æ¸…ç†å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">clearTimeout</span>(timeOutId);</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å¼€å¯å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          timeOutId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            value = newValue;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// å‘Šè¯‰Vueæ›´æ–°ç•Œé¢</span></span></span><br><span class="line"><span class="javascript">            trigger();</span></span><br><span class="line"><span class="javascript">          &#125;, delay);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// const keyword = ref(&#x27;abc&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> keyword = useDebouncedRef(<span class="string">&quot;abc&quot;</span>, <span class="number">500</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        keyword</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="provide-ä¸-inject"><a href="#provide-ä¸-inject" class="headerlink" title="provide ä¸ inject"></a>provide ä¸ inject</h2><ul><li><p><code>provide</code>å’Œ<code>inject</code>æä¾›ä¾èµ–æ³¨å…¥ï¼ŒåŠŸèƒ½ç±»ä¼¼ 2.x çš„<code>provide/inject</code></p></li><li><p>å®ç°è·¨å±‚çº§ç»„ä»¶(ç¥–å­™)é—´é€šä¿¡</p></li><li><p>ä»£ç ç³–</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    reactive,</span><br><span class="line">    provide</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;parent&quot;</span>,</span><br><span class="line">    <span class="attr">components</span>: &#123;</span><br><span class="line">        childTest,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> person = reactive(&#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">            <span class="attr">sex</span>: <span class="string">&quot;ç”·&quot;</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// ç»™è‡ªå·±çš„åä»£ç»„ä»¶ä¼ é€’æ•°æ®</span></span><br><span class="line">        provide(<span class="string">&quot;person&quot;</span>, person);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            person,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åä»£ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    inject</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="comment">// å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯æˆ‘ä»¬æ‰€æ¥æ”¶çš„å€¼</span></span><br><span class="line">        <span class="keyword">let</span> person = inject(<span class="string">&quot;person&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            person,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å“åº”å¼æ•°æ®çš„åˆ¤æ–­"><a href="#å“åº”å¼æ•°æ®çš„åˆ¤æ–­" class="headerlink" title="å“åº”å¼æ•°æ®çš„åˆ¤æ–­"></a>å“åº”å¼æ•°æ®çš„åˆ¤æ–­</h2><ul><li>isRef: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª ref å¯¹è±¡</li><li>isReactive: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> åˆ›å»ºçš„å“åº”å¼ä»£ç†</li><li>isReadonly: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>readonly</code> åˆ›å»ºçš„åªè¯»ä»£ç†</li><li>isProxy: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> æˆ–è€… <code>readonly</code> æ–¹æ³•åˆ›å»ºçš„ä»£ç†</li></ul><h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><h2 id="Fragment-ç‰‡æ–­"><a href="#Fragment-ç‰‡æ–­" class="headerlink" title="Fragment(ç‰‡æ–­)"></a>Fragment(ç‰‡æ–­)</h2><ul><li>åœ¨ Vue2 ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li><li>åœ¨ Vue3 ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ª Fragment è™šæ‹Ÿå…ƒç´ ä¸­</li><li>å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>aaaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>aaaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Teleport-ç¬ç§»"><a href="#Teleport-ç¬ç§»" class="headerlink" title="Teleport(ç¬ç§»)"></a>Teleport(ç¬ç§»)</h2><ul><li>Teleport æä¾›äº†ä¸€ç§å¹²å‡€çš„æ–¹æ³•, è®©ç»„ä»¶çš„ html åœ¨çˆ¶ç»„ä»¶ç•Œé¢å¤–çš„ç‰¹å®šæ ‡ç­¾(å¾ˆå¯èƒ½æ˜¯ body)ä¸‹æ’å…¥æ˜¾ç¤º</li></ul><p>ModalButton.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;modalOpen = true&quot;</span>&gt;</span></span><br><span class="line">    Open full screen modal! (With teleport!)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&quot;body&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;modalOpen&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        I&#x27;m a teleported modal! (My parent is &quot;body&quot;)</span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;modalOpen = false&quot;</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;modal-button&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> modalOpen = ref(<span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        modalOpen</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.modal</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">    <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line"><span class="css">    <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">    <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="css">    <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">    <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.modal</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">    <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="css">    <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">    <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">    <span class="attribute">background-color</span>: white;</span></span><br><span class="line"><span class="css">    <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>App<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modal-button</span>&gt;</span><span class="tag">&lt;/<span class="name">modal-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> ModalButton <span class="keyword">from</span> <span class="string">&quot;./ModalButton.vue&quot;</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;&#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">      ModalButton</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Suspense-ä¸ç¡®å®šçš„"><a href="#Suspense-ä¸ç¡®å®šçš„" class="headerlink" title="Suspense(ä¸ç¡®å®šçš„)"></a>Suspense(ä¸ç¡®å®šçš„)</h2><ul><li>å®ƒä»¬å…è®¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›åå¤‡å†…å®¹ï¼Œå¯ä»¥è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¹³æ»‘çš„ç”¨æˆ·ä½“éªŒ</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Suspense</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">AsyncComp</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;AsyncAddress/&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:fallback</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>LOADING...<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">å¼‚æ­¥ç»„ä»¶ + Suspenseç»„ä»¶</span></span></span><br><span class="line"><span class="comment"><span class="javascript">*/</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// import AsyncComp from &#x27;./AsyncComp.vue&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> AsyncAddress <span class="keyword">from</span> <span class="string">&quot;./AsyncAddress.vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineAsyncComponent &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> AsyncComp = defineAsyncComponent(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;./AsyncComp.vue&quot;</span>));</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;&#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">      AsyncComp,</span></span><br><span class="line"><span class="javascript">      AsyncAddress</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>AsyncComp.vue</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>AsyncComp22<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;AsyncComp&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// return new Promise((resolve, reject) =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   setTimeout(() =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     resolve(&#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//       msg: &#x27;abc&#x27;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     &#125;)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   &#125;, 2000)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">msg</span>: <span class="string">&quot;abc&quot;</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>AsyncAddress.vue</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; data &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">async</span> <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> result = <span class="keyword">await</span> axios.get(<span class="string">&quot;/data/address.json&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">data</span>: result.data</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="createVNode"><a href="#createVNode" class="headerlink" title="createVNode"></a>createVNode</h2><ul><li>åˆ›å»ºè™šæ‹ŸèŠ‚ç‚¹æ’å…¥åˆ°å¯¹åº”å…ƒç´ ä¸­</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&quot;here&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span> <span class="attr">setup</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; render, ref, createVNode, onMounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// å…ƒç´ Dom</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> here = ref();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="comment">// åˆ›å»ºvnodeèŠ‚ç‚¹</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> div = createVNode(<span class="string">&quot;div&quot;</span>, &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">class</span>: [<span class="string">&quot;className&quot;</span>],</span></span><br><span class="line"><span class="javascript">    <span class="attr">style</span>: &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">width</span>: <span class="string">&quot;100px&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">height</span>: <span class="string">&quot;100px&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">border</span>: <span class="string">&quot;1px solid black&quot;</span></span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="attr">onClick</span>: <span class="function">() =&gt;</span> (&#123;&#125;)</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// æ¸²æŸ“åˆ°å¯¹åº”å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">    render(div, here.value);</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶çº§ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-slot:</span>&#x27;æ’æ§½å&#x27;&gt;</span>æˆ‘æ˜¯æ’æ§½å†…å®¹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> #æ’æ§½å&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;æ’æ§½å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å­™ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&#x27;æ’æ§½å&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="attrs"><a href="#attrs" class="headerlink" title="$attrs"></a>$attrs</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶çº§ --&gt;</span></span><br><span class="line">&lt;å­ç»„ä»¶ v-bind=&quot;$attrs&quot;&gt;&lt;/å­ç»„ä»¶&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;çˆ¶çº§ç»„ä»¶å&quot;</span>,</span><br><span class="line">  <span class="attr">inheritAttrs</span>: <span class="literal">true</span> <span class="comment">// ç»§æ‰¿ç»„ä»¶propsç­‰å±æ€§,</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h1><blockquote><p>æ­¥éª¤</p></blockquote><ul><li><ol><li>å®‰è£…<br><code>npm install vue-router@next --save</code></li></ol></li><li><ol start="2"><li>æ–°å»ºç»„ä»¶<br>åœ¨ components æ–‡ä»¶ä¸‹æ–°å»º vue é¡µé¢æ–‡ä»¶</li></ol></li><li><ol start="3"><li>åœ¨ src ç›®å½•ä¸‹æ–°å»º router.ts æ–‡ä»¶</li></ol></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥vue-router</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Reactive <span class="keyword">from</span> <span class="string">&quot;./components/reactive.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  <span class="attr">history</span>: createWebHashHistory(),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/reactive&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: Reactive</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å¯¼å‡ºrouter</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><code>æ³¨æ„</code></p><p>æ‰¾ä¸åˆ°æ¨¡å—â€œxxx.vueâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜é—®é¢˜è§£å†³<br>åœ¨é¡¹ç›®æ ¹ç›®å½•æˆ– src æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåç¼€ä¸º .d.ts çš„æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š<br>åœ¨ src æ–°å»º vue.d.ts æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">declare <span class="built_in">module</span> <span class="string">&#x27;*.vue&#x27;</span> &#123;</span><br><span class="line">    <span class="keyword">import</span> &#123;</span><br><span class="line">        App,</span><br><span class="line">        defineComponent</span><br><span class="line">    &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> component: ReturnType &lt; <span class="keyword">typeof</span> defineComponent &gt; &amp; &#123;</span><br><span class="line">        install(app: App): <span class="keyword">void</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> component</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><ol start="4"><li>åœ¨å…¥å£æ–‡ä»¶ main.ts ä¸­æŒ‚è½½ä½¿ç”¨ router</li></ol></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./index.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>; <span class="comment">// å¼•å…¥router</span></span><br><span class="line"><span class="comment">// createApp(App).mount(&#x27;#app&#x27;)</span></span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line">app.use(router); <span class="comment">//æŒ‚è½½ä½¿ç”¨router</span></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li><ol start="5"><li>åœ¨è·Ÿç»„ä»¶ App.vue ä¸­ä½¿ç”¨è·¯ç”±</li></ol></li><li><p>è§†å›¾</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>è·³è½¬</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/reative&quot;</span>&gt;</span>reative<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="å¯¼å…¥-axios-æ—¶ï¼ŒæŠ¥é”™"><a href="#å¯¼å…¥-axios-æ—¶ï¼ŒæŠ¥é”™" class="headerlink" title="å¯¼å…¥ axios æ—¶ï¼ŒæŠ¥é”™"></a>å¯¼å…¥ axios æ—¶ï¼ŒæŠ¥é”™</h2><p><span style="color:#fe2c24; ">Uncaught SyntaxError: The requested module â€˜/@modules/axios/index.jsâ€™ does not provide an export named â€˜defaultâ€™</span></p><p>æ–¹æ³•ä¸€<br>å¤„ç†: ä¸‹è½½ axios çš„ä½ç½®å¿…é¡»åœ¨â€dependenciesâ€ä¸­è€Œä¸èƒ½æ˜¯ â€œdevDependenciesâ€</p><p>æ–¹æ³•äºŒ</p><ol><li>å°† vite å‡çº§åˆ°äº† vite2.x ç‰ˆæœ¬</li><li>å¯¹åº”æ’ä»¶@vitejs/plugin-vue</li></ol><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line"><span class="attr">&quot;@vue/compiler-sfc&quot;</span>: <span class="string">&quot;^3.0.4&quot;</span>,</span><br><span class="line"><span class="attr">&quot;@vitejs/plugin-vue&quot;</span>: <span class="string">&quot;^2.3.3&quot;</span>,</span><br><span class="line"><span class="attr">&quot;vite&quot;</span>: <span class="string">&quot;^1.0.0-rc.13&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’ä»¶é…ç½®<br>æ ¹ç›®å½•æ–°å»º vite.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vue = <span class="built_in">require</span>(<span class="string">&quot;@vitejs/plugin-vue&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [vue()]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">vue3å­¦ä¹ </summary>
    
    
    
    <category term="vue" scheme="https://wecy-chen.github.io/categories/vue/"/>
    
    
    <category term="vue" scheme="https://wecy-chen.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript</title>
    <link href="https://wecy-chen.github.io/2022/08/22/ts/"/>
    <id>https://wecy-chen.github.io/2022/08/22/ts/</id>
    <published>2022-08-22T01:42:38.310Z</published>
    <updated>2022-08-22T01:42:38.311Z</updated>
    
    <content type="html"><![CDATA[<!-- å›¾ç‰‡è·¯å¾„/image/ts/ --><p><strong>TypeScriptå­¦ä¹ </strong></p><h1 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h1><p>æ–‡æ¡£è¯´æ˜</p><ol><li> <a href="https://jkchao.github.io/typescript-book-chinese/typings/literals.html">å­¦ä¹ åœ°å€</a>Â Â </li><li><a href="https://24kcs.github.io/vue3_study/">å¿«é€Ÿä¸Šæ‰‹</a></li><li><a href="https://www.typescriptlang.org/zh/play?ts=4.1.0-pr-40336-8#code/C4TwDgpgBAggJnAThAziqBeKBtFxECWAdgOYA0URArgLYBGEiAugNwBQAZlUQMbAEB7IlBQRg8JKhQAKAHTyAhohIoAXLATI0ASigBvNlCgB6YyIE1oPAXGgALRhENRrRFAIA2EWR4ElpSira7AC+bKLimlLSAEQAjDEUAEzBQA">ä»£ç æµ‹è¯•</a></li><li>å®‰è£…</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;npm install -g typescriptÂ  Â å®‰è£…</span><br><span class="line">&gt;tsc -vÂ  Â  Â æŸ¥çœ‹ç‰ˆæœ¬Version <span class="number">4.6</span><span class="number">.4</span></span><br><span class="line">&gt;tsc --initÂ  ç”Ÿæˆtsconfig.jsoné…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><blockquote><p>æ–°å»ºtsæ–‡ä»¶</p></blockquote><p>src/helloworld.ts</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span> (<span class="params">person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> user = <span class="string">&#x27;Yee&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(greeter(user))</span><br></pre></td></tr></table></figure><p><code>&gt;tsc helloworld.ts</code>  ç¼–è¯‘<br><code>&gt;node helloworld.js</code> è¿è¡Œ<br><code> hello,Yee</code> æ‰“å°</p><blockquote><p>vscodeè‡ªåŠ¨ç¼–è¯‘</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>). ç”Ÿæˆé…ç½®æ–‡ä»¶tsconfig.json</span><br><span class="line">    tsc --init</span><br><span class="line"><span class="number">2</span>). ä¿®æ”¹tsconfig.jsoné…ç½®</span><br><span class="line">    <span class="string">&quot;outDir&quot;</span>: <span class="string">&quot;./js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;strict&quot;</span>: <span class="literal">false</span>,    </span><br><span class="line"><span class="number">3</span>). å¯åŠ¨ç›‘è§†ä»»åŠ¡: </span><br><span class="line">    ç»ˆç«¯ -&gt; è¿è¡Œä»»åŠ¡ -&gt; ç›‘è§†tsconfig.json</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯ä»»åŠ¡é‡ç”¨<br><img src="/image/ts/639_1.png" alt="e273c55cd0693cc35d379d5a6791b045.png"></p><p>å¦‚æœè¿˜æ˜¯å¤±è´¥,vscodeç¼–è¾‘å™¨è¦é€‰æ‹©é»˜è®¤ç»ˆç«¯</p><p>é…ç½®ä¸­æ–‡æç¤º<br>é…é€æœç´¢ typescript local è®¾ç½®æˆzh-CN</p><p><a href="https://jkchao.github.io/typescript-book-chinese/project/compilationContext.html#%E5%9F%BA%E7%A1%80">ç¼–è¯‘é€‰é¡¹</a></p><h1 id="åŸºç¡€ç±»å‹"><a href="#åŸºç¡€ç±»å‹" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h1><p>Â &gt; åŸºæœ¬è¯­æ³•<br>Â <br> <code> let å˜é‡å: æ•°æ®ç±»å‹ = å€¼</code></p><p>Â <br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> a2: number = <span class="number">0b1010</span> Â <span class="comment">// äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="comment">// ç±»å‹åŒ…æ‹¬ :</span></span><br><span class="line"> <span class="comment">// number string undefined boolean object </span></span><br><span class="line"> <span class="comment">// any  ä»»ä½•å˜é‡</span></span><br></pre></td></tr></table></figure></p><h1 id="æ•°ç»„ç±»å‹"><a href="#æ•°ç»„ç±»å‹" class="headerlink" title="æ•°ç»„ç±»å‹"></a>æ•°ç»„ç±»å‹</h1><p>è¯­æ³•:<br> <code>let å˜é‡å: æ•°æ®ç±»å‹[] = [å€¼1,å€¼2,å€¼3]</code><br>è¯­æ³•:<br> <code>let å˜é‡å: Array&lt;æ•°æ®ç±»å‹&gt; = [å€¼1,å€¼2,å€¼3]</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="keyword">let</span> arr1: number[] = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"><span class="keyword">let</span> arr2: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>]</span><br></pre></td></tr></table></figure><h1 id="æšä¸¾ç±»å‹"><a href="#æšä¸¾ç±»å‹" class="headerlink" title="æšä¸¾ç±»å‹"></a>æšä¸¾ç±»å‹</h1><p>æšä¸¾é‡Œé¢çš„æ¯ä¸ªæ•°æ®å€¼éƒ½å¯ä»¥å«å…ƒç´ ,æ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„ç¼–å·,ç¼–å·æ˜¯ä»0å¼€å§‹çš„,ä¾æ¬¡çš„é€’å¢åŠ 1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Â Â enumÂ ColorÂ &#123;</span><br><span class="line">Â Â Â Â redÂ =Â <span class="number">1</span>,</span><br><span class="line">Â Â Â Â green,</span><br><span class="line">Â Â Â Â blue</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªColorçš„æšä¸¾ç±»å‹çš„å˜é‡æ¥æ¥æ”¶æšä¸¾çš„å€¼</span></span><br><span class="line">Â Â <span class="keyword">let</span>Â color:Â ColorÂ =Â Color.red</span><br><span class="line">Â Â <span class="built_in">console</span>.log(color)Â Â <span class="comment">//1Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(Color.red,Â Color.green,Â Color.blue)Â <span class="comment">//Â 1,2,3</span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(Color[<span class="number">3</span>])Â <span class="comment">//Â &quot;blue&quot;Â </span></span><br></pre></td></tr></table></figure><blockquote><p>void ç±»å‹</p></blockquote><p>åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™,å°æ‹¬å·çš„åé¢ä½¿ç”¨:void,ä»£è¡¨çš„æ˜¯è¯¥å‡½æ•°æ²¡æœ‰ä»»ä½•çš„è¿”å›å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">showMsg</span>(<span class="params"></span>):Â <span class="title">void</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;ä½ å¥½&#x27;</span>)</span><br><span class="line">Â Â Â Â <span class="comment">//Â return</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â returnÂ undefined</span></span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="literal">null</span>Â <span class="comment">//æŠ¥é”™</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(showMsg())</span><br></pre></td></tr></table></figure><blockquote><p>object ç±»å‹</p></blockquote><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°,å‚æ•°æ˜¯objectç±»å‹,è¿”å›å€¼ä¹Ÿæ˜¯objectç±»å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getObj</span>(<span class="params">obj:Â object</span>):Â <span class="title">object</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(obj)</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="attr">name</span>:Â <span class="string">&#x27;å¡å¡è¥¿&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">age</span>:Â <span class="number">27</span></span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(getObj(<span class="built_in">String</span>))</span><br><span class="line">Â Â <span class="comment">//functionÂ String()Â &#123;Â [nativeÂ code]Â &#125;Â </span></span><br><span class="line">Â Â <span class="comment">//Â &#123;&quot;name&quot;:Â &quot;å¡å¡è¥¿&quot;,&quot;age&quot;:Â 27Â &#125;Â </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è”åˆç±»å‹ï¼Œç±»å‹æ–­è¨€ï¼Œç±»å‹æ¨æ–­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç±»å‹æ–­è¨€(Type Assertion): å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹</span></span><br><span class="line"><span class="comment">è¯­æ³•:</span></span><br><span class="line"><span class="comment">Â  Â  æ–¹å¼ä¸€: &lt;ç±»å‹&gt;å€¼</span></span><br><span class="line"><span class="comment">Â  Â  æ–¹å¼äºŒ: å€¼ as ç±»å‹ Â tsxä¸­åªèƒ½ç”¨è¿™ç§æ–¹å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/* éœ€æ±‚: å®šä¹‰ä¸€ä¸ªå‡½æ•°å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ•°å€¼æ•°æ®çš„é•¿åº¦ */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLength</span>(<span class="params">x: number | string</span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">if</span> ((x <span class="keyword">as</span> string).length) &#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> (x <span class="keyword">as</span> string).length</span><br><span class="line">Â  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x.toString().length</span><br><span class="line">Â  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getLength(<span class="string">&#x27;abcd&#x27;</span>), getLength(<span class="number">1234</span>))</span><br></pre></td></tr></table></figure><h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><p>æ¥å£æ˜¯å¯¹è±¡çš„çŠ¶æ€(å±æ€§)å’Œè¡Œä¸º(æ–¹æ³•)çš„æŠ½è±¡(æè¿°)<br>æ¥å£:æ˜¯ä¸€ç§ç±»å‹,æ˜¯ä¸€ç§è§„èŒƒ,æ˜¯ä¸€ç§è§„åˆ™,æ˜¯ä¸€ä¸ªèƒ½åŠ›,æ˜¯ä¸€ç§çº¦æŸ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// éœ€æ±‚: åˆ›å»ºäººçš„å¯¹è±¡, éœ€è¦å¯¹äººçš„å±æ€§è¿›è¡Œä¸€å®šçš„çº¦æŸ</span></span><br><span class="line">Â  <span class="comment">// idæ˜¯numberç±»å‹, å¿…é¡»æœ‰, åªè¯»çš„</span></span><br><span class="line">Â  <span class="comment">// nameæ˜¯stringç±»å‹, å¿…é¡»æœ‰</span></span><br><span class="line">Â  <span class="comment">// ageæ˜¯numberç±»å‹, å¿…é¡»æœ‰</span></span><br><span class="line">Â  <span class="comment">// sexæ˜¯stringç±»å‹, å¯ä»¥æ²¡æœ‰</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£,è¯¥æ¥å£ä½œä¸ºpersonå¯¹è±¡çš„ç±»å‹ä½¿ç”¨,é™å®šæˆ–è€…æ˜¯çº¦æŸè¯¥å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®</span></span><br><span class="line">Â  interface IPerson &#123;</span><br><span class="line">Â  Â  <span class="comment">// readonly idæ˜¯åªè¯»çš„,æ˜¯numberç±»å‹,constä¿®é¥°å±æ€§,æƒ³è¦è®¾ç½®è¯¥å±æ€§æ˜¯åªè¯»çš„,æ˜¯ä¸èƒ½ä½¿ç”¨çš„</span></span><br><span class="line">Â  Â  readonly id: Â number</span><br><span class="line">Â  Â  <span class="attr">name</span>: string</span><br><span class="line">Â  Â  <span class="attr">age</span>: number</span><br><span class="line">Â  Â  <span class="comment">// ? å¯æœ‰å¯æ— çš„</span></span><br><span class="line">Â  Â  sex?: string</span><br><span class="line"><span class="comment">//å®šä¹‰äº†ä»»æ„å±æ€§å– string ç±»å‹çš„å€¼</span></span><br><span class="line">[proppName:string]:any;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå¯¹è±¡,è¯¥å¯¹è±¡çš„ç±»å‹å°±æ˜¯æˆ‘å®šä¹‰çš„æ¥å£IPerson</span></span><br><span class="line">Â  <span class="keyword">const</span> person: IPerson = &#123;</span><br><span class="line">Â  Â  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">Â  Â  <span class="attr">name</span>: <span class="string">&#x27;å°ç”œç”œ&#x27;</span>,</span><br><span class="line">Â  Â  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">Â  Â  <span class="comment">// sexè¿™ä¸ªå±æ€§æ²¡æœ‰ä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line">Â  Â  <span class="comment">// sex: &#x27;å¥³&#x27;</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  <span class="comment">// idå±æ€§æ­¤æ—¶æ˜¯å¯è¯»å¯å†™</span></span><br><span class="line">Â  <span class="comment">// person.id = 100</span></span><br><span class="line">Â  person.sex=<span class="string">&#x27;å¥³&#x27;</span></span><br><span class="line">Â  <span class="comment">// person.money = &#x27;123131&#x27;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br></pre></td></tr></table></figure><blockquote><p>å‡½æ•°ç±»å‹</p></blockquote><p>Â ä¸ºäº†ä½¿ç”¨æ¥å£è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¥å£å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾åã€‚</p><p>å®ƒå°±åƒæ˜¯ä¸€ä¸ªåªæœ‰å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çš„å‡½æ•°å®šä¹‰ã€‚å‚æ•°åˆ—è¡¨é‡Œçš„æ¯ä¸ªå‚æ•°éƒ½éœ€è¦åå­—å’Œç±»å‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å‡½æ•°ç±»å‹:é€šè¿‡æ¥å£çš„æ–¹å¼ä½œä¸ºå‡½æ•°çš„ç±»å‹æ¥ä½¿ç”¨</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£,ç”¨æ¥ä½œä¸ºæŸä¸ªå‡½æ•°çš„ç±»å‹ä½¿ç”¨</span></span><br><span class="line">Â  interface ISearchFunc &#123;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾å</span></span><br><span class="line">Â  Â  (source: string, <span class="attr">subString</span>: string): boolean</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°,è¯¥ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£</span></span><br><span class="line">Â  <span class="keyword">const</span> searchString: ISearchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">source: string, subString: string</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// åœ¨sourceå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾subStringè¿™ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">Â  Â  <span class="keyword">return</span> source.search(subString) &gt; -<span class="number">1</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(searchString(<span class="string">&#x27;å“ˆå“ˆ,æˆ‘åˆå˜å¸…äº†&#x27;</span>, <span class="string">&#x27;å¸…&#x27;</span>))</span><br><span class="line"><span class="comment">//&quot;Hello, Yee Huang&quot;</span></span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure><blockquote><p>ç±»ç±»å‹(çº¦æŸ) </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£</span></span><br><span class="line">Â  interface IFly &#123;</span><br><span class="line">Â  Â  <span class="comment">// è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°(æ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰)</span></span><br><span class="line">Â  Â  <span class="comment">// fly()</span></span><br><span class="line">Â  Â  <span class="attr">fly</span>:<span class="built_in">Function</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,è¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£(å®é™…ä¸Šä¹Ÿå¯ä»¥ç†è§£ä¸º,IFlyæ¥å£çº¦æŸäº†å½“å‰çš„è¿™ä¸ªPersonç±»)</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">implements</span> <span class="title">IFly</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å®ç°æ¥å£ä¸­çš„æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">fly</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘ä¼šé£äº†,æˆ‘æ˜¯è¶…äºº&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person = <span class="keyword">new</span> Person()</span><br><span class="line">Â  person.fly()   <span class="comment">//&quot;æˆ‘ä¼šé£äº†,æˆ‘æ˜¯è¶…äºº&quot;</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£</span></span><br><span class="line">Â  interface ISwim &#123;</span><br><span class="line">Â  Â  <span class="attr">swim</span>:<span class="built_in">Function</span></span><br><span class="line">Â  Â  <span class="comment">// swim()</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,è¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯IFlyå’ŒISwim(å½“å‰è¿™ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£,ä¸€ä¸ªç±»åŒæ—¶ä¹Ÿå¯ä»¥è¢«å¤šä¸ªæ¥å£è¿›è¡Œçº¦æŸ)</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person2</span> <span class="title">implements</span> <span class="title">IFly</span>, <span class="title">ISwim</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="function"><span class="title">fly</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘é£äº†2&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">swim</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘ä¼šæ¸¸æ³³å•¦2&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person2 = <span class="keyword">new</span> Person2()</span><br><span class="line">Â  person2.fly()  <span class="comment">//&quot;æˆ‘é£äº†2&quot;</span></span><br><span class="line">Â  person2.swim()   <span class="comment">//&quot;æˆ‘ä¼šæ¸¸æ³³å•¦2&quot;</span></span><br><span class="line">Â  <span class="comment">// æ€»ç»“: ç±»å¯ä»¥é€šè¿‡æ¥å£çš„æ–¹å¼,æ¥å®šä¹‰å½“å‰è¿™ä¸ªç±»çš„ç±»å‹</span></span><br><span class="line">Â  <span class="comment">// ç±»å¯ä»¥å®ç°ä¸€ä¸ªæ¥å£,ç±»ä¹Ÿå¯ä»¥å®ç°å¤šä¸ªæ¥å£,è¦æ³¨æ„,æ¥å£ä¸­çš„å†…å®¹éƒ½è¦çœŸæ­£çš„å®ç°</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰äº†ä¸€ä¸ªæ¥å£,ç»§æ‰¿å…¶ä»–çš„å¤šä¸ªæ¥å£</span></span><br><span class="line">Â  interface IMyFlyAndSwim <span class="keyword">extends</span> IFly, ISwim &#123; &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,ç›´æ¥å®ç°IMyFlyAndSwimè¿™ä¸ªæ¥å£</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person3</span> <span class="title">implements</span> <span class="title">IMyFlyAndSwim</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="function"><span class="title">fly</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘é£äº†3&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">swim</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘ä¼šæ¸¸æ³³å•¦3&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="keyword">const</span> person3 = <span class="keyword">new</span> Person3()</span><br><span class="line">Â  person3.fly()   <span class="comment">//&quot;æˆ‘é£äº†3&quot;</span></span><br><span class="line">Â  person3.swim()   <span class="comment">//æˆ‘ä¼šæ¸¸æ³³å•¦3</span></span><br><span class="line">  </span><br><span class="line">Â  <span class="comment">// æ€»ç»“:æ¥å£å’Œæ¥å£ä¹‹é—´å«ç»§æ‰¿(ä½¿ç”¨çš„æ˜¯extendså…³é”®å­—),ç±»å’Œæ¥å£ä¹‹é—´å«å®ç°(ä½¿ç”¨çš„æ˜¯implements)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><p>å»ºä¸€ä¸ªÂ UserÂ ç±»ï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€äº›å…¬å…±å­—æ®µã€‚å› ä¸ºç±»çš„å­—æ®µåŒ…å«äº†æ¥å£æ‰€éœ€è¦çš„å­—æ®µï¼Œæ‰€ä»¥ä»–ä»¬èƒ½å¾ˆå¥½çš„å…¼å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ç±»:å¯ä»¥ç†è§£ä¸ºæ¨¡ç‰ˆ,é€šè¿‡æ¨¡ç‰ˆå¯ä»¥å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="comment">// é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="attr">fullName</span>: string</span><br><span class="line">  <span class="attr">firstName</span>: string</span><br><span class="line">  <span class="attr">lastName</span>: string</span><br><span class="line"></span><br><span class="line">  <span class="title">constructor</span> (<span class="params">firstName: string, lastName: string</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.firstName = firstName</span><br><span class="line">    <span class="built_in">this</span>.lastName = lastName</span><br><span class="line">    <span class="built_in">this</span>.fullName = firstName + <span class="string">&#x27; &#x27;</span> + lastName</span><br><span class="line">  &#125;&#125;</span><br><span class="line"></span><br><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">firstName</span>: string</span><br><span class="line">  <span class="attr">lastName</span>: string&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span> (<span class="params">person: Person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person.firstName + <span class="string">&#x27; &#x27;</span> + person.lastName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User(<span class="string">&#x27;Yee&#x27;</span>, <span class="string">&#x27;Huang&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(greeter(user)) <span class="comment">//&quot;Hello, Yee Huang&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>ç»§æ‰¿</p></blockquote><p> ç»§æ‰¿:ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»<br> ç»§æ‰¿åç±»ä¸ç±»ä¹‹é—´çš„å«æ³•:<br>Aç±»ç»§æ‰¿äº†Bè¿™ä¸ªç±»,é‚£ä¹ˆæ­¤æ—¶Aç±»å«å­ç±»,Bç±»å«åŸºç±»<br> å­ç±»â€”-&gt;æ´¾ç”Ÿç±»<br>åŸºç±»â€”-&gt;è¶…ç±»(çˆ¶ç±»)<br>ä¸€æ—¦å‘ç”Ÿäº†ç»§æ‰¿çš„å…³ç³»,å°±å‡ºç°äº†çˆ¶å­ç±»çš„å…³ç³»(å«æ³•)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,ä½œä¸ºåŸºç±»(è¶…ç±»/çˆ¶ç±»)</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰å±æ€§</span></span><br><span class="line">Â  Â  <span class="attr">name</span>: string <span class="comment">// åå­—</span></span><br><span class="line">Â  Â  <span class="attr">age</span>: number <span class="comment">// å¹´é¾„</span></span><br><span class="line">Â  Â  <span class="attr">gender</span>: string <span class="comment">// æ€§åˆ«</span></span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string=<span class="string">&#x27;å°æ˜&#x27;</span>, age: number=<span class="number">18</span>, gender: string=<span class="string">&#x27;ç”·&#x27;</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ›´æ–°å±æ€§æ•°æ®</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.age = age</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.gender = gender</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params">str: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`æˆ‘æ˜¯:<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>,<span class="subst">$&#123;str&#125;</span>`</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,ç»§æ‰¿è‡ªPerson</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string, age: number, gender: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°,ä½¿ç”¨çš„æ˜¯super</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name, age, gender)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å¯ä»¥è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘æ˜¯å­¦ç”Ÿç±»ä¸­çš„sayHiæ–¹æ³•&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çˆ¶ç±»ä¸­çš„sayHiæ–¹æ³•</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>.sayHi(<span class="string">&#x27;å“ˆå“ˆ&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–Person</span></span><br><span class="line">Â  <span class="keyword">const</span> person = <span class="keyword">new</span> Person(<span class="string">&#x27;å¤§æ˜æ˜&#x27;</span>,<span class="number">89</span>,<span class="string">&#x27;ç”·&#x27;</span>)</span><br><span class="line">Â  person.sayHi(<span class="string">&#x27;å˜å˜&#x27;</span>)</span><br><span class="line">Â  <span class="comment">//æ‰“å°: &quot;æˆ‘æ˜¯:å¤§æ˜æ˜,å˜å˜&quot;</span></span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–Student</span></span><br><span class="line">Â  <span class="keyword">const</span> stu = <span class="keyword">new</span> Student(<span class="string">&#x27;å°ç”œç”œ&#x27;</span>,<span class="number">16</span>,<span class="string">&#x27;å¥³&#x27;</span>)</span><br><span class="line">Â  stu.sayHi()</span><br><span class="line">Â  <span class="comment">//æ‰“å°: &quot;æˆ‘æ˜¯å­¦ç”Ÿç±»ä¸­çš„sayHiæ–¹æ³•&quot;</span></span><br><span class="line">Â  <span class="comment">//æ‰“å°: &quot;æˆ‘æ˜¯:å°ç”œç”œ,å“ˆå“ˆ&quot;</span></span><br><span class="line">Â  <span class="comment">// æ€»ç»“:ç±»å’Œç±»ä¹‹é—´å¦‚æœè¦æœ‰ç»§æ‰¿å…³ç³»,éœ€è¦ä½¿ç”¨extendså…³é”®å­—</span></span><br><span class="line">Â  <span class="comment">// å­ç±»ä¸­å¯ä»¥è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°,ä½¿ç”¨çš„æ˜¯superå…³é”®å­—(åŒ…æ‹¬è°ƒç”¨çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•,ä¹Ÿå¯ä»¥ä½¿ç”¨super)</span></span><br><span class="line">Â  <span class="comment">// å­ç±»ä¸­å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å¤šæ€</p></blockquote><p>å¤šæ€:çˆ¶ç±»å‹çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»å‹çš„å¯¹è±¡,ä¸åŒç±»å‹çš„å¯¹è±¡é’ˆå¯¹ç›¸åŒçš„æ–¹æ³•,äº§ç”Ÿäº†ä¸åŒçš„è¡Œä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="comment">// å®šä¹‰ä¸€ä¸ªçˆ¶ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå±æ€§</span></span><br><span class="line">Â  Â  <span class="attr">name</span>: string</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ›´æ–°å±æ€§å€¼</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">run</span>(<span class="params">distance: number = <span class="number">0</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`è·‘äº†<span class="subst">$&#123;distance&#125;</span> ç±³è¿™ä¹ˆè¿œçš„è·ç¦»`</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°,å®ç°å­ç±»ä¸­å±æ€§çš„åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•,é‡å†™çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">run</span>(<span class="params">distance: number = <span class="number">5</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`è·‘äº†<span class="subst">$&#123;distance&#125;</span> ç±³è¿™ä¹ˆè¿œçš„è·ç¦»`</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Pig</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°,å®ç°å­ç±»ä¸­å±æ€§çš„åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•,é‡å†™çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">run</span>(<span class="params">distance: number = <span class="number">10</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`è·‘äº†<span class="subst">$&#123;distance&#125;</span> ç±³è¿™ä¹ˆè¿œçš„è·ç¦»`</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–çˆ¶ç±»å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> ani: Animal = <span class="keyword">new</span> Animal(<span class="string">&#x27;åŠ¨ç‰©&#x27;</span>)</span><br><span class="line">Â  ani.run() <span class="comment">//&quot;è·‘äº†0 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;åŠ¨ç‰©&quot;</span></span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å­ç±»å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> dog: Dog = <span class="keyword">new</span> Dog(<span class="string">&#x27;å¤§é»„&#x27;</span>)</span><br><span class="line">Â  dog.run() <span class="comment">//&quot;è·‘äº†5 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å¤§é»„&quot;</span></span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å­ç±»å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> pig: Pig = <span class="keyword">new</span> Pig(<span class="string">&#x27;å…«æˆ’&#x27;</span>)</span><br><span class="line">Â  pig.run() <span class="comment">//&quot;è·‘äº†10 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å…«æˆ’&quot;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(<span class="string">&#x27;===========&#x27;</span>)</span><br><span class="line">Â  <span class="comment">// çˆ¶ç±»å’Œå­ç±»çš„å…³ç³»:çˆ¶å­å…³ç³»,æ­¤æ—¶,çˆ¶ç±»ç±»å‹åˆ›å»ºå­ç±»çš„å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> dog1: Animal = <span class="keyword">new</span> Dog(<span class="string">&#x27;å°é»„&#x27;</span>)</span><br><span class="line">Â  dog1.run() <span class="comment">// &quot;è·‘äº†5 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°é»„&quot; Â </span></span><br><span class="line">Â  <span class="keyword">const</span> pig1: Animal = <span class="keyword">new</span> Pig(<span class="string">&#x27;å°çŒª&#x27;</span>)</span><br><span class="line">Â  pig1.run() <span class="comment">// Â &quot;è·‘äº†10 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°çŒª&quot;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(<span class="string">&#x27;=============&#x27;</span>)</span><br><span class="line">Â  <span class="comment">// è¯¥å‡½æ•°éœ€è¦çš„å‚æ•°æ˜¯Animalç±»å‹çš„</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">showRun</span>(<span class="params">ani: Animal</span>) </span>&#123;</span><br><span class="line">Â  Â  ani.run()</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  showRun(dog1) <span class="comment">//&quot;è·‘äº†5 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°é»„&quot;</span></span><br><span class="line">Â  showRun(pig1) <span class="comment">//&quot;è·‘äº†10 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°çŒª&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä¿®é¥°ç¬¦</p></blockquote><p>ä¿®é¥°ç¬¦(ç±»ä¸­çš„æˆå‘˜çš„ä¿®é¥°ç¬¦):ä¸»è¦æ˜¯æè¿°ç±»ä¸­çš„æˆå‘˜(å±æ€§,æ„é€ å‡½æ•°,æ–¹æ³•)çš„å¯è®¿é—®æ€§<br>ç±»ä¸­çš„æˆå‘˜éƒ½æœ‰è‡ªå·±çš„é»˜è®¤çš„è®¿é—®ä¿®é¥°ç¬¦,public<br>publicä¿®é¥°ç¬¦â€”å…¬å…±çš„,ç±»ä¸­æˆå‘˜é»˜è®¤çš„ä¿®é¥°ç¬¦,ä»£è¡¨çš„æ˜¯å…¬å…±çš„,ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®ç±»ä¸­çš„æˆå‘˜<br>privateä¿®é¥°ç¬¦â€”ç§æœ‰çš„,ç±»ä¸­çš„æˆå‘˜å¦‚æœä½¿ç”¨privateæ¥ä¿®é¥°,é‚£ä¹ˆå¤–éƒ¨æ˜¯æ— æ³•è®¿é—®è¿™ä¸ªæˆå‘˜æ•°æ®çš„,å½“ç„¶,å­ç±»ä¸­ä¹Ÿæ˜¯æ— æ³•è®¿é—®è¯¥æˆå‘˜æ•°æ®çš„<br>protectedä¿®é¥°ç¬¦â€”-å—ä¿æŠ¤çš„,ç±»ä¸­çš„æˆå‘˜å¦‚æœä½¿ç”¨protectedæ¥ä¿®é¥°,é‚£ä¹ˆå¤–éƒ¨æ˜¯æ— æ³•è®¿é—®è¿™ä¸ªæˆå‘˜æ•°æ®çš„,å½“ç„¶,å­ç±»ä¸­æ˜¯å¯ä»¥è®¿é—®è¯¥æˆå‘˜æ•°æ®çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å±æ€§ public ä¿®é¥°äº†å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  <span class="comment">// public name: string</span></span><br><span class="line">Â  Â  <span class="comment">// å±æ€§ private ä¿®é¥°äº†å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  <span class="comment">// private name: string</span></span><br><span class="line">Â  Â  <span class="comment">// å±æ€§protected ä¿®é¥°äº†å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  protected name:string</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  public <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ›´æ–°å±æ€§</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// æ–¹æ³•</span></span><br><span class="line">Â  Â  public <span class="function"><span class="title">eat</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;å—¯,è¿™ä¸ªéª¨å¤´çœŸå¥½åƒ&#x27;</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">play</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘å°±å–œæ¬¢ç©å¸ƒå¨ƒå¨ƒ&#x27;</span>,<span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> per = <span class="keyword">new</span> Person(<span class="string">&#x27;å¤§è›‡ä¸¸&#x27;</span>)</span><br><span class="line">Â  <span class="comment">// ç±»çš„å¤–éƒ¨å¯ä»¥è®¿é—®ç±»ä¸­çš„å±æ€§æˆå‘˜</span></span><br><span class="line">Â  <span class="comment">// console.log(per.name)</span></span><br><span class="line">Â  per.eat() Â <span class="comment">//&quot;å—¯,è¿™ä¸ªéª¨å¤´çœŸå¥½åƒ&quot;, Â &quot;å¤§è›‡ä¸¸&quot;</span></span><br><span class="line">Â  <span class="keyword">const</span> stu = <span class="keyword">new</span> Student(<span class="string">&#x27;çº¢è±†&#x27;</span>)</span><br><span class="line">Â  stu.play() <span class="comment">//&quot;æˆ‘å°±å–œæ¬¢ç©å¸ƒå¨ƒå¨ƒ&quot;, Â &quot;çº¢è±†&quot;</span></span><br><span class="line">Â  <span class="comment">// console.log(stu.name)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>readonlyä¿®é¥°ç¬¦</p></blockquote><p>readonlyä¿®é¥°ç¬¦:é¦–å…ˆæ˜¯ä¸€ä¸ªå…³é”®å­—,å¯¹ç±»ä¸­çš„å±æ€§æˆå‘˜è¿›è¡Œä¿®é¥°,ä¿®é¥°å,è¯¥å±æ€§æˆå‘˜,å°±ä¸èƒ½åœ¨å¤–éƒ¨è¢«éšæ„çš„ä¿®æ”¹äº†<br>æ„é€ å‡½æ•°ä¸­,å¯ä»¥å¯¹åªè¯»çš„å±æ€§æˆå‘˜çš„æ•°æ®è¿›è¡Œä¿®æ”¹<br>å¦‚æœæ„é€ å‡½æ•°ä¸­æ²¡æœ‰ä»»ä½•çš„å‚æ•°,ç±»ä¸­çš„å±æ€§æˆå‘˜æ­¤æ—¶å·²ç»ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°äº†,é‚£ä¹ˆå¤–éƒ¨ä¹Ÿæ˜¯ä¸èƒ½å¯¹è¿™ä¸ªå±æ€§å€¼è¿›è¡Œæ›´æ”¹çš„<br>æ„é€ å‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°,ä¸€æ—¦ä¿®é¥°äº†,é‚£ä¹ˆè¯¥ç±»ä¸­å°±æœ‰äº†è¿™ä¸ªåªè¯»çš„æˆå‘˜å±æ€§äº†,å¤–éƒ¨å¯ä»¥è®¿é—®,ä½†æ˜¯ä¸èƒ½ä¿®æ”¹<br>æ„é€ å‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥ä½¿ç”¨publicåŠprivteå’Œprotectedè¿›è¡Œä¿®é¥°,æ— è®ºæ˜¯å“ªä¸ªè¿›è¡Œä¿®é¥°,è¯¥ç±»ä¸­éƒ½ä¼šè‡ªåŠ¨çš„æ·»åŠ è¿™ä¹ˆä¸€ä¸ªå±æ€§æˆå‘˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// readonlyä¿®é¥°ç±»ä¸­çš„æˆå‘˜å±æ€§æ“ä½œ</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»å‹</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å±æ€§</span></span><br><span class="line">Â  Â  <span class="comment">// readonly name: string=&#x27;å¤§ç”œç”œ&#x27; // åˆå§‹å€¼</span></span><br><span class="line">Â  Â  readonly name: string</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string = <span class="string">&#x27;å¤§ç”œç”œ&#x27;</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;è€ƒå°¼å¥‡ç“¦&#x27;</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  Â  <span class="comment">// ç±»ä¸­çš„æ™®é€šæ–¹æ³•ä¸­,ä¹Ÿæ˜¯ä¸èƒ½ä¿®æ”¹readonlyä¿®é¥°çš„æˆå‘˜å±æ€§å€¼</span></span><br><span class="line">Â  Â  Â  <span class="comment">// this.name = &#x27;å¤§ç”œç”œ&#x27;</span></span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person: Person = <span class="keyword">new</span> Person(<span class="string">&#x27;å°ç”œç”œ&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person.name) <span class="comment">//å°ç”œç”œ</span></span><br><span class="line">Â <span class="comment">// æ­¤æ—¶æ— æ³•ä¿®æ”¹,å› ä¸ºnameå±æ€§æ˜¯åªè¯»çš„</span></span><br><span class="line">Â  person.name = <span class="string">&#x27;å¤§ç”œç”œ&#x27;</span> <span class="comment">//æŠ¥é”™</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.name)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»å‹</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆè¯¥nameå‚æ•°å¯ä»¥å«å‚æ•°å±æ€§</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonä¸­å°±æœ‰äº†ä¸€ä¸ªnameçš„å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°å,å¤–éƒ¨ä¹Ÿæ˜¯æ— æ³•ä¿®æ”¹ç±»ä¸­çš„nameå±æ€§æˆå‘˜å€¼çš„</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">readonly name: string = <span class="string">&#x27;å¤§ç”œç”œ&#x27;</span></span>)</span> &#123; <span class="comment">//public private protected</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨publicè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonç±»ä¸­å°±æœ‰äº†ä¸€ä¸ªå…¬å…±çš„nameå±æ€§æˆå‘˜äº†</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨privateè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonç±»ä¸­å°±æœ‰äº†ä¸€ä¸ªç§æœ‰çš„nameå±æ€§æˆå‘˜äº†</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨protectedè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonç±»ä¸­å°±æœ‰äº†ä¸€ä¸ªå—ä¿æŠ¤çš„nameå±æ€§æˆå‘˜äº†(åªèƒ½åœ¨æœ¬ç±»å’Œæ´¾ç”Ÿç±»ä¸­è®¿é—®åŠä½¿ç”¨)</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person: Person = <span class="keyword">new</span> Person(<span class="string">&#x27;å°ç”œç”œ&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  person.name = <span class="string">&#x27;ä½åŠ©&#x27;</span> <span class="comment">//æŠ¥é”™</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å­˜å‚¨å™¨</p></blockquote><p>å­˜å–å™¨:è®©æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆçš„æ§åˆ¶å¯¹ å¯¹è±¡ä¸­çš„æˆå‘˜çš„è®¿é—®,é€šè¿‡getterså’Œsettersæ¥è¿›è¡Œæ“ä½œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤–éƒ¨å¯ä»¥ä¼ å…¥å§“æ°å’Œåå­—æ•°æ®,åŒæ—¶ä½¿ç”¨setå’Œgetæ§åˆ¶å§“åçš„æ•°æ®,å¤–éƒ¨ä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹æ“ä½œ</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="attr">firstName</span>: string <span class="comment">// å§“æ°</span></span><br><span class="line">Â  Â  <span class="attr">lastName</span>: string <span class="comment">// åå­—</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">firstName: string, lastName: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.firstName = firstName</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.lastName = lastName</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å§“åçš„æˆå‘˜å±æ€§(å¤–éƒ¨å¯ä»¥è®¿é—®,ä¹Ÿå¯ä»¥ä¿®æ”¹)</span></span><br><span class="line">Â  Â  <span class="comment">// è¯»å–å™¨----è´Ÿè´£è¯»å–æ•°æ®çš„</span></span><br><span class="line">Â  Â  <span class="keyword">get</span> <span class="title">fullName</span>() &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;getä¸­...&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="comment">// å§“å====&gt;å§“æ°å’Œåå­—çš„æ‹¼æ¥</span></span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27;_&#x27;</span> + <span class="built_in">this</span>.lastName</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// è®¾ç½®å™¨----è´Ÿè´£è®¾ç½®æ•°æ®çš„(ä¿®æ”¹)</span></span><br><span class="line">Â  Â  <span class="keyword">set</span> <span class="title">fullName</span>(<span class="params">val</span>) &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;setä¸­...&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="comment">// å§“å----&gt;æŠŠå§“æ°å’Œåå­—è·å–åˆ°é‡æ–°çš„èµ‹å€¼ç»™firstNameå’ŒlastName</span></span><br><span class="line">Â  Â  Â  <span class="keyword">let</span> names = val.split(<span class="string">&#x27;_&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.firstName = names[<span class="number">0</span>]</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.lastName = names[<span class="number">1</span>]</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person: Person = <span class="keyword">new</span> Person(<span class="string">&#x27;ä¸œæ–¹&#x27;</span>, <span class="string">&#x27;ä¸è´¥&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  <span class="comment">// è·å–è¯¥å±æ€§æˆå‘˜å±æ€§</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.fullName)</span><br><span class="line">Â  <span class="comment">// è®¾ç½®è¯¥å±æ€§çš„æ•°æ®</span></span><br><span class="line">Â  person.fullName = <span class="string">&#x27;è¯¸è‘›_å­”æ˜&#x27;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.fullName)</span><br></pre></td></tr></table></figure><blockquote><p>é™æ€æˆå‘˜</p></blockquote><p>é™æ€æˆå‘˜:åœ¨ç±»ä¸­é€šè¿‡staticä¿®é¥°çš„å±æ€§æˆ–è€…æ–¹æ³•,é‚£ä¹ˆå°±æ˜¯é™æ€çš„å±æ€§åŠé™æ€çš„æ–¹æ³•,ä¹Ÿç§°ä¹‹ä¸º:é™æ€æˆå‘˜<br>é™æ€æˆå‘˜åœ¨ä½¿ç”¨çš„æ—¶å€™æ˜¯é€šè¿‡ç±»å.çš„è¿™ç§è¯­æ³•æ¥è°ƒç”¨çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// ç±»ä¸­é»˜è®¤æœ‰ä¸€ä¸ªå†…ç½®çš„nameå±æ€§,æ‰€ä»¥å‘¢,æ­¤æ—¶ä¼šå‡ºç°é”™è¯¯çš„æç¤ºä¿¡æ¯</span></span><br><span class="line">Â  Â  <span class="comment">// é™æ€å±æ€§</span></span><br><span class="line">Â  Â  <span class="keyword">static</span> name1: string = <span class="string">&#x27;å°ç”œç”œ&#x27;</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°æ˜¯ä¸èƒ½é€šè¿‡staticæ¥è¿›è¡Œä¿®é¥°çš„</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ­¤æ—¶thisæ˜¯å®ä¾‹å¯¹è±¡,name1æ˜¯é™æ€å±æ€§,ä¸èƒ½é€šè¿‡å®ä¾‹å¯¹è±¡ç›´æ¥è°ƒç”¨é™æ€å±æ€§æ¥ä½¿ç”¨</span></span><br><span class="line">Â  Â  Â  <span class="comment">// this.name1 = name</span></span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="keyword">static</span> <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;è¨ç“¦è¿ªå¡&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="comment">// const person: Person = new Person()</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨çš„å±æ€§(å®ä¾‹å±æ€§)</span></span><br><span class="line">Â  <span class="comment">// console.log(person.name1)</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•(å®ä¾‹æ–¹æ³•)</span></span><br><span class="line">Â  <span class="comment">// person.sayHi()</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡ç±»å.é™æ€å±æ€§çš„æ–¹å¼æ¥è®¿é—®è¯¥æˆå‘˜æ•°æ®</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(Person.name1) <span class="comment">// &quot;å°ç”œç”œ&quot;</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡ç±»å.é™æ€å±æ€§çš„æ–¹å¼æ¥è®¾ç½®è¯¥æˆå‘˜æ•°æ®</span></span><br><span class="line">Â  Person.name1 = <span class="string">&#x27;ä½åŠ©&#x27;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(Person.name1) <span class="comment">//&quot;ä½åŠ©&quot;</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡ç±»å.é™æ€æ–¹æ³•çš„æ–¹å¼æ¥è°ƒç”¨å†…éƒ¨çš„é™æ€çš„æ–¹æ³•</span></span><br><span class="line">Â  Person.sayHi() <span class="comment">// &quot;è¨ç“¦è¿ªå¡&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æŠ½è±¡ç±»</p></blockquote><p>æŠ½è±¡ç±»:åŒ…å«æŠ½è±¡æ–¹æ³•(æŠ½è±¡æ–¹æ³•ä¸€èˆ¬æ²¡æœ‰ä»»ä½•çš„å…·ä½“å†…å®¹çš„å®ç°),ä¹Ÿå¯ä»¥åŒ…å«å®ä¾‹æ–¹æ³•,æŠ½è±¡ç±»æ˜¯ä¸èƒ½è¢«å®ä¾‹åŒ–,ä¸ºäº†è®©å­ç±»è¿›è¡Œå®ä¾‹åŒ–åŠå®ç°å†…éƒ¨çš„æŠ½è±¡æ–¹æ³•<br>æŠ½è±¡ç±»çš„ç›®çš„æˆ–è€…æ˜¯ä½œç”¨æœ€ç»ˆéƒ½æ˜¯ä¸ºå­ç±»æœåŠ¡çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»</span></span><br><span class="line">Â  abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æŠ½è±¡å±æ€§</span></span><br><span class="line">Â  Â  <span class="comment">// abstract name:string</span></span><br><span class="line">Â  Â  <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">Â  Â  abstract eat()</span><br><span class="line">Â  Â  <span class="comment">// æŠ¥é”™çš„,æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰å…·ä½“çš„å®ç°</span></span><br><span class="line">Â  Â  <span class="comment">// abstract eat()&#123;</span></span><br><span class="line">Â  Â  <span class="comment">// Â  console.log(&#x27;è¶´ç€åƒ,è·³ç€åƒ&#x27;)</span></span><br><span class="line">Â  Â  <span class="comment">// &#125;</span></span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æ‚¨å¥½å•Š&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»(æ´¾ç”Ÿç±»)Dog</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// name:string=&#x27;å°é»„&#x27;</span></span><br><span class="line">Â  Â  <span class="comment">// é‡æ–°çš„å®ç°æŠ½è±¡ç±»ä¸­çš„æ–¹æ³•,æ­¤æ—¶è¿™ä¸ªæ–¹æ³•å°±æ˜¯å½“å‰Dogç±»çš„å®ä¾‹æ–¹æ³•äº†</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">eat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;èˆ”ç€åƒ,çœŸå¥½åƒ&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–Dogçš„å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> dog:Dog = <span class="keyword">new</span> Dog()</span><br><span class="line">Â  dog.eat()</span><br><span class="line">Â  <span class="comment">// è°ƒç”¨çš„æ˜¯æŠ½è±¡ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  dog.sayHi()</span><br><span class="line">Â  <span class="comment">// console.log(dog.name)</span></span><br><span class="line">Â  <span class="comment">// ä¸èƒ½å®ä¾‹åŒ–æŠ½è±¡ç±»çš„å¯¹è±¡</span></span><br><span class="line">Â  <span class="comment">// const ani:Animal = new Animal()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><p>å‡½æ•°:å°è£…äº†ä¸€äº›é‡å¤ä½¿ç”¨çš„ä»£ç ,åœ¨éœ€è¦çš„æ—¶å€™ç›´æ¥è°ƒç”¨å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// jsä¸­çš„ä¹¦å†™æ–¹å¼-----&gt;åœ¨tsä¸­åŒæ ·çš„å¯ä»¥è¿™ä¹ˆå†™</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°å£°æ˜,å‘½åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// function add(x, y) &#123; // æ±‚å’Œçš„å‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// Â  return x + y</span></span><br><span class="line">Â  <span class="comment">// &#125;</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°è¡¨è¾¾å¼,åŒ¿åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// const add2 = function (x, y) &#123;</span></span><br><span class="line">Â  <span class="comment">// Â  return x + y</span></span><br><span class="line">Â  <span class="comment">// &#125;</span></span><br><span class="line">Â  <span class="comment">// tsä¸­çš„ä¹¦å†™æ–¹å¼</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°å£°æ˜,å‘½åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°ä¸­çš„xå’Œyå‚æ•°çš„ç±»å‹éƒ½æ˜¯stringç±»å‹çš„,å°æ‹¬å·åé¢çš„:string,ä»£è¡¨çš„æ˜¯è¯¥å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯stringç±»å‹çš„</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: string, y: string</span>): <span class="title">string</span> </span>&#123; <span class="comment">// æ±‚å’Œçš„å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="keyword">return</span> x + y</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="keyword">const</span> result1: string = add(<span class="string">&#x27;111&#x27;</span>, <span class="string">&#x27;222&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(result1)</span><br><span class="line">Â  <span class="built_in">console</span>.log()</span><br><span class="line">Â  <span class="comment">// å‡½æ•°è¡¨è¾¾å¼,åŒ¿åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°ä¸­çš„xå’Œyå‚æ•°çš„ç±»å‹éƒ½æ˜¯numberç±»å‹çš„,å°æ‹¬å·åé¢çš„:number,ä»£è¡¨çš„æ˜¯è¯¥å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯numberç±»å‹çš„</span></span><br><span class="line">Â  <span class="keyword">const</span> add2 = <span class="function"><span class="keyword">function</span> (<span class="params">x: number, y: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x + y</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(add2(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">Â  <span class="comment">// å‡½æ•°çš„å®Œæ•´çš„å†™æ³•</span></span><br><span class="line">Â  <span class="comment">// add3----&gt;å˜é‡å---&gt;å‡½æ•°add3</span></span><br><span class="line">Â  <span class="comment">// (x: number, y: number) =&gt; number å½“å‰çš„è¿™ä¸ªå‡½æ•°çš„ç±»å‹</span></span><br><span class="line">Â  <span class="comment">// function (x: number, y: number): number &#123; return x+y &#125; Â å°±ç›¸å½“äºç¬¦åˆä¸Šé¢çš„è¿™ä¸ªå‡½æ•°ç±»å‹çš„å€¼</span></span><br><span class="line">Â  <span class="keyword">const</span> add3: <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> number = <span class="function"><span class="keyword">function</span> (<span class="params">x: number, y: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x+y</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(add3(<span class="number">10</span>,<span class="number">100</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å‚æ•°</p></blockquote><p>å¯é€‰å‚æ•°:å‡½æ•°åœ¨å£°æ˜çš„æ—¶å€™,å†…éƒ¨çš„å‚æ•°ä½¿ç”¨äº†?è¿›è¡Œä¿®é¥°,é‚£ä¹ˆå°±è¡¨ç¤ºè¯¥å‚æ•°å¯ä»¥ä¼ å…¥ä¹Ÿå¯ä»¥ä¸ç”¨ä¼ å…¥,å«å¯é€‰å‚æ•°<br>é»˜è®¤å‚æ•°:å‡½æ•°åœ¨å£°æ˜çš„æ—¶å€™,å†…éƒ¨çš„å‚æ•°æœ‰è‡ªå·±çš„é»˜è®¤å€¼,æ­¤æ—¶çš„è¿™ä¸ªå‚æ•°å°±å¯ä»¥å«é»˜è®¤å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°:ä¼ å…¥å§“æ°å’Œåå­—,å¯ä»¥å¾—åˆ°å§“å(å§“æ°+åå­—=å§“å)</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚:å¦‚æœä¸ä¼ å…¥ä»»ä½•å†…å®¹,é‚£ä¹ˆå°±è¿”å›é»˜è®¤çš„å§“æ°</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚:å¦‚æœåªä¼ å…¥å§“æ°,é‚£ä¹ˆå°±è¿”å›å§“æ°</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚:å¦‚æœä¼ å…¥å§“æ°å’Œåå­—,é‚£ä¹ˆè¿”å›æ¥çš„å°±æ˜¯å§“å</span></span><br><span class="line">Â  <span class="keyword">const</span> getFullName = <span class="function"><span class="keyword">function</span> (<span class="params">firstName: string=<span class="string">&#x27;ä¸œæ–¹&#x27;</span>, lastName?: string</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// åˆ¤æ–­åå­—æ˜¯å¦ä¼ å…¥äº†</span></span><br><span class="line">Â  Â  <span class="keyword">if</span> (lastName) &#123;</span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> firstName + <span class="string">&#x27;_&#x27;</span> + lastName</span><br><span class="line">Â  Â  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> firstName</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">Â  <span class="comment">// ä»€ä¹ˆä¹Ÿä¸ä¼ å…¥</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(getFullName()) Â <span class="comment">//&quot;ä¸œæ–¹&quot;</span></span><br><span class="line">Â  <span class="comment">// åªä¼ å…¥å§“æ°</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(getFullName(<span class="string">&#x27;è¯¸è‘›&#x27;</span>)) <span class="comment">//&quot;è¯¸è‘›&quot;</span></span><br><span class="line">Â  <span class="comment">// ä¼ å…¥å§“æ°å’Œåå­—</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(getFullName(<span class="string">&#x27;è¯¸è‘›&#x27;</span>,<span class="string">&#x27;å­”æ˜&#x27;</span>)) <span class="comment">// &quot;è¯¸è‘›_å­”æ˜&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰©ä½™å‚æ•°(restå‚æ•°)</span></span><br><span class="line"><span class="comment">// å‰©ä½™å‚æ•°æ˜¯æ”¾åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™æ‰€æœ‰çš„å‚æ•°çš„æœ€å</span></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">Â  <span class="comment">// ...args:string[] ----&gt;å‰©ä½™çš„å‚æ•°,æ”¾åœ¨äº†ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ä¸­,argsé‡Œé¢</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">showMsg</span>(<span class="params">str: string,str2:string, ...args: string[]</span>) </span>&#123;</span><br><span class="line">Â  Â  <span class="built_in">console</span>.log(str) <span class="comment">// a</span></span><br><span class="line">Â  Â  <span class="comment">// console.log(str2) // b</span></span><br><span class="line">Â  Â  <span class="built_in">console</span>.log(args) <span class="comment">// b ,c ,d ,e</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  showMsg(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>)</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å‡½æ•°é‡è½½</p></blockquote><p> å‡½æ•°é‡è½½:å‡½æ•°åå­—ç›¸åŒ,å‡½æ•°çš„å‚æ•°åŠä¸ªæ•°ä¸åŒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚: æˆ‘ä»¬æœ‰ä¸€ä¸ªaddå‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶2ä¸ªstringç±»å‹çš„å‚æ•°è¿›è¡Œæ‹¼æ¥ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶2ä¸ªnumberç±»å‹çš„å‚æ•°è¿›è¡Œç›¸åŠ </span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°é‡è½½å£°æ˜</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: string, y: string</span>): <span class="title">string</span></span></span><br><span class="line"><span class="function">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: number, y: number</span>): <span class="title">number</span></span></span></span><br><span class="line"><span class="function"><span class="function">Â  // å‡½æ•°å£°æ˜</span></span></span><br><span class="line"><span class="function"><span class="function">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: string | number, y: string | number</span>): <span class="title">string</span> | <span class="title">number</span> | <span class="title">undefined</span> </span>&#123;</span></span></span><br><span class="line"><span class="function"><span class="function">Â  Â  <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> x === <span class="string">&#x27;string&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> y === <span class="string">&#x27;string&#x27;</span></span>) </span>&#123;</span></span><br><span class="line"><span class="function">Â  Â  Â  <span class="title">return</span> <span class="title">x</span> + <span class="title">y</span> // å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line"><span class="function">Â  Â  &#125; <span class="title">else</span> <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> x === <span class="string">&#x27;number&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> y === <span class="string">&#x27;number&#x27;</span></span>) </span>&#123;</span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> x + y <span class="comment">// æ•°å­—ç›¸åŠ </span></span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="keyword">return</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">Â  <span class="comment">// ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(add(<span class="string">&#x27;è¯¸è‘›&#x27;</span>, <span class="string">&#x27;å­”æ˜&#x27;</span>))</span><br><span class="line">Â  <span class="comment">// ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æ•°å­—</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(add(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">Â  <span class="comment">// æ­¤æ—¶å¦‚æœä¼ å…¥çš„æ˜¯éæ³•çš„æ•°æ®ï¼Œtsåº”è¯¥ç»™æˆ‘æç¤ºå‡ºé”™è¯¯çš„ä¿¡æ¯å†…å®¹,æŠ¥çº¢è‰²é”™è¯¯çš„ä¿¡æ¯</span></span><br><span class="line">Â  <span class="comment">// console.log(add(&#x27;çœŸé¦™&#x27;, 10))</span></span><br><span class="line">Â  <span class="comment">// console.log(add(100, &#x27;çœŸå¥½&#x27;))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h1><p>åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£ã€ç±»çš„æ—¶å€™ä¸èƒ½é¢„å…ˆç¡®å®šè¦ä½¿ç”¨çš„æ•°æ®çš„ç±»å‹,è€Œæ˜¯åœ¨ä½¿ç”¨å‡½æ•°ã€æ¥å£ã€ç±»çš„æ—¶å€™æ‰èƒ½ç¡®å®šæ•°æ®çš„ç±»å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="comment">//Â éœ€æ±‚:å®šä¹‰ä¸€ä¸ªå‡½æ•°,ä¼ å…¥ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€å‚æ•°æ˜¯æ•°æ®,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°é‡</span></span><br><span class="line">Â Â <span class="comment">//Â å‡½æ•°çš„ä½œç”¨:æ ¹æ®æ•°é‡äº§ç”Ÿå¯¹åº”ä¸ªæ•°çš„æ•°æ®,å­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­</span></span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr1</span>(<span class="params">value:Â number,Â count:Â number</span>):Â <span class="title">number</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â number[]Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getArr1(<span class="number">100.123</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1)Â <span class="comment">//Â [100.123,Â 100.123,Â 100.123]Â </span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªå‡½æ•°,åŒä¸Š,åªä¸è¿‡ä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr2</span>(<span class="params">value:Â string,Â count:Â number</span>):Â <span class="title">string</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â string[]Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr2Â =Â getArr2(<span class="string">&#x27;abc&#x27;</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2)Â <span class="comment">//[&quot;abc&quot;,Â &quot;abc&quot;,Â &quot;abc&quot;]Â </span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â <span class="comment">//Â éœ€æ±‚:å¯ä»¥ä¼ å…¥ä»»æ„ç±»å‹çš„æ•°æ®,è¿”å›æ¥çš„æ˜¯å­˜å‚¨è¿™ä¸ªä»»æ„ç±»å‹æ•°æ®çš„æ•°ç»„</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr3</span>(<span class="params">value:Â any,Â count:Â number</span>):Â <span class="title">any</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â any[]Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getArr3(<span class="number">100.123</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr2Â =Â getArr3(<span class="string">&#x27;abc&#x27;</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1)Â <span class="comment">//[100.123,Â 100.123,Â 100.123]Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2)Â <span class="comment">//[&quot;abc&quot;,Â &quot;abc&quot;,Â &quot;abc&quot;]</span></span><br><span class="line">Â Â <span class="comment">//Â arr1ä¸­å­˜å‚¨çš„æ˜¯æ•°å­—ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="comment">//Â arr2ä¸­å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">0</span>].toFixed(<span class="number">2</span>))Â <span class="comment">//Â æ²¡æœ‰ä»»ä½•çš„æ™ºèƒ½æç¤ºçš„ä¿¡æ¯(è¦ä¹ˆæœ‰æ–¹æ³•åå­—çš„æç¤ºä¿¡æ¯,è¦ä¹ˆæœ‰é”™è¯¯çš„æç¤ºä¿¡æ¯)</span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2[<span class="number">0</span>].split(<span class="string">&#x27;&#x27;</span>))Â <span class="comment">//Â æ²¡æœ‰ä»»ä½•çš„æ™ºèƒ½æç¤ºçš„ä¿¡æ¯(è¦ä¹ˆæœ‰æ–¹æ³•åå­—çš„æç¤ºä¿¡æ¯,è¦ä¹ˆæœ‰é”™è¯¯çš„æç¤ºä¿¡æ¯)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr4</span>&lt;<span class="title">T</span>&gt;(<span class="params">value:Â T,Â count:Â number</span>):Â <span class="title">T</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â constÂ arr:Â T[]Â =Â []</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â <span class="built_in">Array</span>&lt;T&gt;Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getArr4&lt;number&gt;(<span class="number">200.12345</span>,Â <span class="number">5</span>)</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr2Â =Â getArr4&lt;string&gt;(<span class="string">&#x27;abcdefg&#x27;</span>,Â <span class="number">5</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">0</span>].toFixed(<span class="number">3</span>))</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2[<span class="number">0</span>].split(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">Â Â <span class="comment">//Â //Â arr1ä¸­å­˜å‚¨çš„æ˜¯æ•°å­—ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="comment">//Â //Â arr2ä¸­å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="comment">//Â console.log(arr1[0].toFixed(2))Â //Â æ²¡æœ‰ä»»ä½•çš„æ™ºèƒ½æç¤ºçš„ä¿¡æ¯(è¦ä¹ˆæœ‰æ–¹æ³•åå­—çš„æç¤ºä¿¡æ¯,è¦ä¹ˆæœ‰é”™è¯¯çš„æç¤ºä¿¡æ¯)</span></span><br><span class="line">Â Â <span class="comment">//Â console.log(arr2[0].split(&#x27;&#x27;))Â //Â æ²¡æœ‰</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å¤šä¸ªå‚æ•°</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å¤šä¸ªæ³›å‹å‚æ•°çš„å‡½æ•°:å‡½æ•°ä¸­æœ‰å¤šä¸ªæ³›å‹çš„å‚æ•°</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getMsg</span>&lt;<span class="title">K</span>,Â <span class="title">V</span>&gt;(<span class="params">value1:Â K,Â value2:Â V</span>):Â [<span class="title">K</span>,Â <span class="title">V</span>]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â [value1,Â value2]</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getMsg&lt;string,number&gt;(<span class="string">&#x27;jack&#x27;</span>,<span class="number">100.2345</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">0</span>].split(<span class="string">&#x27;&#x27;</span>))Â <span class="comment">//Â [&quot;j&quot;,Â &quot;a&quot;,Â &quot;c&quot;,Â &quot;k&quot;]Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">1</span>].toFixed(<span class="number">1</span>))Â <span class="comment">//&quot;100.2&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹æ¥å£</p></blockquote><p>åœ¨å®šä¹‰æ¥å£æ—¶, ä¸ºæ¥å£ä¸­çš„å±æ€§æˆ–æ–¹æ³•å®šä¹‰æ³›å‹ç±»å‹,åœ¨ä½¿ç”¨æ¥å£æ—¶, å†æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â Â <span class="comment">//Â éœ€æ±‚:å®šä¹‰ä¸€ä¸ªç±»,ç”¨æ¥å­˜å‚¨ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯(id,åå­—,å¹´é¾„)</span></span><br><span class="line">Â Â <span class="comment">//Â é€šè¿‡ä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡è°ƒç”¨addæ–¹æ³•å¯ä»¥æ·»åŠ å¤šä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡,è°ƒç”¨getUserIdæ–¹æ³•å¯ä»¥æ ¹æ®idè·å–æŸä¸ªæŒ‡å®šçš„ç”¨æˆ·ä¿¡æ¯å¯¹è±¡</span></span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£</span></span><br><span class="line">Â Â interfaceÂ IBaseCRUD&lt;T&gt;Â &#123;</span><br><span class="line">Â Â Â Â <span class="attr">data</span>:Â <span class="built_in">Array</span>&lt;T&gt;</span><br><span class="line">Â Â Â Â add:Â <span class="function">(<span class="params">t:Â T</span>)Â =&gt;</span>Â T</span><br><span class="line">Â Â Â Â <span class="attr">getUserId</span>:Â <span class="function">(<span class="params">id:Â number</span>)Â =&gt;</span>Â TÂ |Â <span class="literal">undefined</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯çš„ç±»</span></span><br><span class="line">Â Â <span class="class"><span class="keyword">class</span>Â <span class="title">User</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â id?:Â numberÂ <span class="comment">//Â ç”¨æˆ·çš„idÂ Â ?Â ä»£è¡¨è¯¥å±æ€§å¯æœ‰å¯æ— </span></span><br><span class="line">Â Â Â Â <span class="attr">name</span>:Â stringÂ <span class="comment">//Â ç”¨æˆ·çš„å§“å</span></span><br><span class="line">Â Â Â Â <span class="attr">age</span>:Â numberÂ <span class="comment">//Â ç”¨æˆ·çš„å¹´é¾„</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â æ„é€ å‡½æ•°</span></span><br><span class="line">Â Â Â Â <span class="function"><span class="title">constructor</span>(<span class="params">name:Â string,Â age:Â number</span>)</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="built_in">this</span>.nameÂ =Â name</span><br><span class="line">Â Â Â Â Â Â <span class="built_in">this</span>.ageÂ =Â age</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªç±»,å¯ä»¥é’ˆå¯¹ç”¨æˆ·çš„ä¿¡æ¯å¯¹è±¡è¿›è¡Œå¢åŠ åŠæŸ¥è¯¢çš„æ“ä½œ</span></span><br><span class="line">Â Â <span class="comment">//Â CRUD----&gt;create,Read,Update,Delete</span></span><br><span class="line">Â Â <span class="class"><span class="keyword">class</span>Â <span class="title">UserCRUD</span>Â <span class="title">implements</span>Â <span class="title">IBaseCRUD</span>&lt;<span class="title">User</span>&gt;Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â ç”¨æ¥ä¿å­˜å¤šä¸ªUserç±»å‹çš„ç”¨æˆ·ä¿¡æ¯å¯¹è±¡</span></span><br><span class="line">Â Â Â Â <span class="attr">data</span>:Â <span class="built_in">Array</span>&lt;User&gt;Â =Â []</span><br><span class="line">Â Â Â Â <span class="comment">//æ–¹æ³•ç”¨æ¥å­˜å‚¨ç”¨æˆ·ä¿¡æ¯å¯¹è±¡çš„</span></span><br><span class="line">Â Â Â Â add(user:Â User):Â UserÂ &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â äº§ç”Ÿid</span></span><br><span class="line">Â Â Â Â Â Â user.idÂ =Â <span class="built_in">Date</span>.now()Â +Â <span class="built_in">Math</span>.random()</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â æŠŠç”¨æˆ·ä¿¡æ¯å¯¹è±¡æ·»åŠ åˆ°dataæ•°ç»„ä¸­</span></span><br><span class="line">Â Â Â Â Â Â <span class="built_in">this</span>.data.push(user)</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">return</span>Â user</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ–¹æ³•æ ¹æ®idæŸ¥è¯¢æŒ‡å®šçš„ç”¨æˆ·ä¿¡æ¯å¯¹è±¡</span></span><br><span class="line">Â Â Â Â getUserId(id:numberÂ =Â <span class="number">0</span>):Â UserÂ |Â <span class="literal">undefined</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">return</span>Â <span class="built_in">this</span>.data.find(<span class="function"><span class="params">user</span>Â =&gt;</span>Â user.idÂ ===Â id)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®ä¾‹åŒ–æ·»åŠ ç”¨æˆ·ä¿¡æ¯å¯¹è±¡çš„ç±»UserCRUD</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â userCRUD:Â UserCRUDÂ =Â <span class="keyword">new</span>Â UserCRUD()</span><br><span class="line">Â Â <span class="comment">//Â è°ƒç”¨æ·»åŠ æ•°æ®çš„æ–¹æ³•</span></span><br><span class="line">Â Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;jack&#x27;</span>,Â <span class="number">20</span>))</span><br><span class="line">Â Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;tom&#x27;</span>,Â <span class="number">25</span>))</span><br><span class="line">Â Â <span class="keyword">const</span>Â &#123;Â idÂ &#125;Â =Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;lucy&#x27;</span>,Â <span class="number">23</span>))</span><br><span class="line">Â Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;rousi&#x27;</span>,Â <span class="number">21</span>))</span><br><span class="line"><span class="comment">//Â Â Â [User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;jack&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 20,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.5513</span></span><br><span class="line"><span class="comment">//Â &#125;,Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;tom&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 25,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.9338</span></span><br><span class="line"><span class="comment">//Â &#125;,Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;lucy&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 23,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.7893</span></span><br><span class="line"><span class="comment">//Â &#125;,Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;rousi&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 21,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.6506</span></span><br><span class="line"><span class="comment">//Â &#125;]Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(userCRUD.data)</span><br><span class="line">Â Â <span class="comment">//Â æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å¯¹è±¡æ•°æ®</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â userÂ =Â userCRUD.getUserId(id)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(user)</span><br><span class="line"><span class="comment">//Â Â Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;lucy&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 23,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.7893</span></span><br><span class="line"><span class="comment">//Â &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹ç±»</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//Â å®šä¹‰ä¸€ä¸ªç±»,ç±»ä¸­çš„å±æ€§å€¼çš„ç±»å‹æ˜¯ä¸ç¡®å®š,æ–¹æ³•ä¸­çš„å‚æ•°åŠè¿”å›å€¼çš„ç±»å‹ä¹Ÿæ˜¯ä¸ç¡®å®š</span></span><br><span class="line"><span class="comment">//Â å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»</span></span><br><span class="line">Â Â <span class="class"><span class="keyword">class</span>Â <span class="title">GenericNumber</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â é»˜è®¤çš„å±æ€§çš„å€¼çš„ç±»å‹æ˜¯æ³›å‹ç±»å‹</span></span><br><span class="line">Â Â Â Â <span class="attr">defaultValue</span>:Â T|Â <span class="literal">undefined</span></span><br><span class="line">Â Â Â Â <span class="attr">add</span>:Â (<span class="function">(<span class="params">x:Â T,y:Â T</span>)Â =&gt;</span>Â T)|Â <span class="literal">undefined</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â åœ¨å®ä¾‹åŒ–ç±»çš„å¯¹è±¡çš„æ—¶å€™,å†ç¡®å®šæ³›å‹çš„ç±»å‹</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â g1:Â GenericNumber&lt;number&gt;Â =Â <span class="keyword">new</span>Â GenericNumber&lt;number&gt;()</span><br><span class="line">Â Â <span class="comment">//Â è®¾ç½®å±æ€§å€¼</span></span><br><span class="line">Â Â g1.defaultValueÂ =Â <span class="number">100</span></span><br><span class="line">Â Â <span class="comment">//Â ç›¸åŠ çš„æ–¹æ³•</span></span><br><span class="line">Â Â g1.addÂ =Â <span class="function"><span class="keyword">function</span>Â (<span class="params">x,Â y</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â xÂ +Â y</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(g1.add(g1.defaultValue,<span class="number">20</span>))Â <span class="comment">//120Â </span></span><br><span class="line">Â Â <span class="comment">//Â åœ¨å®ä¾‹åŒ–ç±»çš„å¯¹è±¡çš„æ—¶å€™,å†ç¡®å®šæ³›å‹çš„ç±»å‹</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â g2:Â GenericNumber&lt;string&gt;Â =Â <span class="keyword">new</span>Â GenericNumber&lt;string&gt;()</span><br><span class="line">Â Â <span class="comment">//Â è®¾ç½®å±æ€§å€¼</span></span><br><span class="line">Â Â g2.defaultValueÂ =Â <span class="string">&#x27;å“ˆå“ˆ&#x27;</span></span><br><span class="line">Â Â <span class="comment">//Â ç›¸åŠ çš„æ–¹æ³•</span></span><br><span class="line">Â Â g2.addÂ =Â <span class="function"><span class="keyword">function</span>Â (<span class="params">x,Â y</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â xÂ +Â y</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(g2.add(<span class="string">&#x27;å¸…æ¨&#x27;</span>,g2.defaultValue))Â Â <span class="comment">//&quot;å¸…æ¨å“ˆå“ˆ&quot;Â </span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹çº¦æŸ</p></blockquote><p>å¦‚æœæˆ‘ä»¬ç›´æ¥å¯¹ä¸€ä¸ªæ³›å‹å‚æ•°å– length å±æ€§, ä¼šæŠ¥é”™, å› ä¸ºè¿™ä¸ªæ³›å‹æ ¹æœ¬å°±ä¸çŸ¥é“å®ƒæœ‰è¿™ä¸ªå±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£,ç”¨æ¥çº¦æŸå°†æ¥çš„æŸä¸ªç±»å‹ä¸­å¿…é¡»è¦æœ‰lengthè¿™ä¸ªå±æ€§</span></span><br><span class="line">Â  interface ILength&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ¥å£ä¸­æœ‰ä¸€ä¸ªå±æ€§length</span></span><br><span class="line">Â  Â  <span class="attr">length</span>:number</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">getLength</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">ILength</span>&gt;(<span class="params">x: T</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x.length</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(getLength&lt;string&gt;(<span class="string">&#x27;what are you no sha lei&#x27;</span>))</span><br><span class="line">Â  <span class="comment">// console.log(getLength&lt;number&gt;(123))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">TypeScriptå­¦ä¹ </summary>
    
    
    
    <category term="typescript" scheme="https://wecy-chen.github.io/categories/typescript/"/>
    
    
    <category term="typescript" scheme="https://wecy-chen.github.io/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>æ–°é›¶å”®é¡¹ç›®æ‚è®°</title>
    <link href="https://wecy-chen.github.io/2022/08/22/retail_core/"/>
    <id>https://wecy-chen.github.io/2022/08/22/retail_core/</id>
    <published>2022-08-22T01:42:38.307Z</published>
    <updated>2024-10-16T02:12:09.092Z</updated>
    
    <content type="html"><![CDATA[<p>ä»£ç ç‰‡æ®µ</p><h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><p><a href="https://doc.sequoiadb.com/cn/sequoiadb-cat_id-1558957224-edition_id-500">mongodb ä¸­æ–‡æ–‡æ¡£</a></p><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è·å–ä¸€æ¡æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> commodity = <span class="keyword">await</span> MAPP.db_getOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;</span><br><span class="line">    <span class="attr">_id</span>: <span class="string">&#x27;58805dd61d8bdc9c56cc3e2d&#x27;</span>,</span><br><span class="line">    <span class="attr">distributed</span>: &#123;</span><br><span class="line">      <span class="attr">$elemMatch</span>: &#123;</span><br><span class="line">        <span class="attr">store_id</span>: <span class="string">&#x27;5d64d9b75fc33f07bcfe1435&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">filters</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;distributed.$:&#x27;</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>ä¸åˆ†é¡µ</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;area&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">pageTurn</span>: <span class="literal">false</span>, <span class="comment">//é»˜è®¤true</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;noPage&#x27;</span>, <span class="comment">//é»˜è®¤&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">isCount</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">page</span>: i + <span class="number">1</span>,</span><br><span class="line">    <span class="attr">limit</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">lean</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">filters</span>: &#123;</span><br><span class="line">    <span class="attr">adcode</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="2"><li>è·å–è¿‡æ»¤æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  result = [], count = <span class="number">0</span></span><br><span class="line">&#125; = <span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;distributed.store_id&#x27;</span>: <span class="string">&#x27;5d64d9b75fc33f07bcfe1435&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">filters</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;distributed.$&#x27;</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›</span></span><br><span class="line">[&#123;</span><br><span class="line">  <span class="attr">_id</span>: <span class="number">58805</span> dd61d8bdc9c56cc3e2d,</span><br><span class="line">  <span class="attr">distributed</span>: [</span><br><span class="line">    [<span class="built_in">Object</span>]</span><br><span class="line">  ]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">$project</span>: &#123;</span><br><span class="line">   <span class="attr">medical</span>: <span class="number">1</span>, <span class="comment">// åŒ»ä¿å•†å“</span></span><br><span class="line">  <span class="attr">epidemic_situation</span>: <span class="number">1</span>, <span class="comment">// ç–«æƒ…å•†å“</span></span><br><span class="line">  <span class="attr">name</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">bar_code</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">prescription</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">original_price</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">current_price</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">unit_num</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="comment">// distributed: 1,</span></span><br><span class="line">  <span class="attr">three_categories</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">cold_chain</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">overseas</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">hide_goods</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">filteredArray</span>: &#123;</span><br><span class="line">              <span class="string">&#x27;$filter&#x27;</span>: &#123;</span><br><span class="line">                <span class="attr">input</span>: <span class="string">&#x27;$distributed&#x27;</span>,</span><br><span class="line">                <span class="attr">as</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">                <span class="attr">cond</span>: &#123;</span><br><span class="line">                  <span class="string">&#x27;$and&#x27;</span>: [</span><br><span class="line">                    &#123; <span class="string">&#x27;$eq&#x27;</span>: [<span class="string">&#x27;$$item.store_id&#x27;</span>, ObjectId(<span class="string">&#x27;6201e7893d257513aa054e5c&#x27;</span>)] &#125;,</span><br><span class="line">                    &#123; <span class="string">&#x27;$eq&#x27;</span>: [<span class="string">&#x27;$$item.shelf&#x27;</span>, <span class="literal">true</span>] &#125;,</span><br><span class="line">                    &#123; <span class="string">&#x27;$gt&#x27;</span>: [<span class="string">&#x27;$$item.stock&#x27;</span>, <span class="number">0</span>] &#125;</span><br><span class="line">                  ]</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"></span><br><span class="line"> <span class="comment">// è·å–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">&#123; <span class="attr">$project</span>: &#123; <span class="attr">firstArrayElement</span>: &#123; <span class="attr">$arrayElemAt</span>: [<span class="string">&quot;$myArrayField&quot;</span>, <span class="number">0</span>] &#125; &#125; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/image/retail_core/xxxx.png" alt="jsuan.png"></p><ol start="3"><li>è”è¡¨</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    page,</span><br><span class="line">    limit,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">isCount</span>: <span class="literal">false</span>, <span class="comment">//ä¸è¿”å›æ¡æ•°</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&quot;populate&quot;</span>, <span class="comment">//è®¾ç½®è¿è¡¨</span></span><br><span class="line">  <span class="attr">populate</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;user_id&quot;</span>, <span class="comment">//æœ¬è¡¨idå­—æ®µ</span></span><br><span class="line">      <span class="attr">select</span>: <span class="string">&quot;nickname full_name phone_number&quot;</span>, <span class="comment">//å¤–è¡¨å­—æ®µè¿‡æ»¤</span></span><br><span class="line">      <span class="attr">model</span>: <span class="string">&quot;member&quot;</span>, <span class="comment">//å¤–è¡¨</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;cashier_id&quot;</span>,</span><br><span class="line">      <span class="attr">select</span>: <span class="string">&quot;staff_name&quot;</span>,</span><br><span class="line">      <span class="attr">model</span>: <span class="string">&quot;store_staff&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">sort</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">filters</span>: &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="4"><li>æ•°ç»„æ‹†åˆ†åœ¨åˆå¹¶</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="keyword">await</span> MAPP.db_aggregateAll(&#123;</span><br><span class="line">     <span class="attr">model</span>: <span class="string">&#x27;match_package&#x27;</span>,</span><br><span class="line">     <span class="attr">params</span>: parameter,</span><br><span class="line">     <span class="attr">aggregate</span>: [</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$match</span>: &#123;</span><br><span class="line">           <span class="attr">store_ids</span>: &#123;</span><br><span class="line">             <span class="attr">$in</span>: [<span class="keyword">new</span> MAPP.MTypesId(store_id)]</span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="attr">enable</span>: <span class="literal">true</span>,</span><br><span class="line">           <span class="attr">start_time</span>: &#123; <span class="attr">$lte</span>: time &#125;,</span><br><span class="line">           <span class="attr">end_time</span>: &#123; <span class="attr">$gte</span>: time &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123; <span class="attr">$unwind</span>: <span class="string">&#x27;$promotional_goods&#x27;</span> &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$lookup</span>: &#123;</span><br><span class="line">           <span class="attr">from</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">           <span class="attr">localField</span>: <span class="string">&#x27;promotional_goods.goods_id&#x27;</span>,</span><br><span class="line">           <span class="attr">foreignField</span>: <span class="string">&#x27;_id&#x27;</span>,</span><br><span class="line">           <span class="attr">as</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">         &#125;,</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123; <span class="attr">$unwind</span>: <span class="string">&#x27;$commodity&#x27;</span> &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$addFields</span>: &#123;</span><br><span class="line">           <span class="string">&#x27;distributed&#x27;</span>: &#123;</span><br><span class="line">             <span class="attr">$filter</span>: &#123;</span><br><span class="line">               <span class="attr">input</span>: <span class="string">&#x27;$commodity.distributed&#x27;</span>,</span><br><span class="line">               <span class="attr">as</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">               <span class="attr">cond</span>: &#123;</span><br><span class="line">                 <span class="string">&#x27;$eq&#x27;</span>: [<span class="string">&#x27;$$item.store_id&#x27;</span>, <span class="keyword">new</span> MAPP.MTypesId(store_id)]</span><br><span class="line">               &#125;</span><br><span class="line">             &#125;</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$redact</span>: &#123;</span><br><span class="line">           <span class="attr">$cond</span>: &#123;</span><br><span class="line">             <span class="attr">if</span>: &#123;</span><br><span class="line">               <span class="attr">$and</span>: [</span><br><span class="line">                 &#123; <span class="attr">$ne</span>: [<span class="string">&#x27;$distributed&#x27;</span>, []] &#125;</span><br><span class="line">               ]</span><br><span class="line">             &#125;,</span><br><span class="line">             <span class="attr">then</span>: <span class="string">&#x27;$$KEEP&#x27;</span>,</span><br><span class="line">             <span class="attr">else</span>: <span class="string">&#x27;$$PRUNE&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$unwind</span>: <span class="string">&#x27;$distributed&#x27;</span></span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$project</span>: &#123;</span><br><span class="line">           <span class="attr">title</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">limit_number</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">package_original_price</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">package_total_price</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">package_stock</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">image</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">promotional_goods</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">activity_label</span>: <span class="number">1</span>,</span><br><span class="line">           <span class="attr">priority</span>: -<span class="number">1</span>,</span><br><span class="line">           <span class="attr">update_time</span>: -<span class="number">1</span>,</span><br><span class="line">           <span class="comment">// commodity: 1,</span></span><br><span class="line">           <span class="attr">distributed</span>: <span class="number">1</span></span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$group</span>: &#123;</span><br><span class="line">           <span class="attr">_id</span>: <span class="string">&#x27;$_id&#x27;</span>,</span><br><span class="line">           <span class="attr">out</span>: &#123; <span class="attr">$last</span>: <span class="string">&#x27;$$ROOT&#x27;</span> &#125;,</span><br><span class="line">           <span class="attr">stocks</span>: &#123;</span><br><span class="line">             <span class="comment">// $push: &#x27;$distributed.stock&#x27;</span></span><br><span class="line">             <span class="attr">$push</span>: &#123; <span class="attr">$cond</span>: [&#123; <span class="attr">$gt</span>: [<span class="string">&#x27;$distributed.stock&#x27;</span>, <span class="number">0</span>] &#125;, <span class="literal">true</span>, <span class="literal">false</span>] &#125;</span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="attr">promotional_goods</span>: &#123;</span><br><span class="line">             <span class="attr">$push</span>: <span class="string">&#x27;$promotional_goods&#x27;</span></span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$addFields</span>: &#123;</span><br><span class="line">           <span class="attr">noStocks</span>: &#123;</span><br><span class="line">             <span class="string">&#x27;$filter&#x27;</span>: &#123;</span><br><span class="line">               <span class="attr">input</span>: <span class="string">&#x27;$stocks&#x27;</span>,</span><br><span class="line">               <span class="attr">as</span>: <span class="string">&#x27;v&#x27;</span>,</span><br><span class="line">               <span class="attr">cond</span>: &#123;</span><br><span class="line">                 <span class="comment">// $lte: [&#x27;$$v&#x27;, 0]</span></span><br><span class="line">                 <span class="attr">$eq</span>: [<span class="string">&#x27;$$v&#x27;</span>, <span class="literal">false</span>]</span><br><span class="line">               &#125;</span><br><span class="line">             &#125;</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$addFields</span>: &#123;</span><br><span class="line">           <span class="attr">stock</span>: &#123; <span class="attr">$arrayElemAt</span>: [<span class="string">&#x27;$noStocks&#x27;</span>, <span class="number">0</span>] &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       <span class="comment">// æ·»åŠ å­—æ®µ</span></span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$addFields</span>: &#123;</span><br><span class="line">           <span class="attr">hasStock</span>: &#123; <span class="attr">$cond</span>: [&#123; <span class="attr">$eq</span>: [<span class="string">&#x27;$stock&#x27;</span>, <span class="literal">false</span>] &#125;, <span class="literal">false</span>, <span class="literal">true</span>] &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;,</span><br><span class="line">       &#123;</span><br><span class="line">         <span class="attr">$sort</span>: &#123;</span><br><span class="line">           <span class="attr">hasStock</span>: -<span class="number">1</span>,</span><br><span class="line">           <span class="string">&#x27;out.priority&#x27;</span>: -<span class="number">1</span>,</span><br><span class="line">           <span class="string">&#x27;out.update_time&#x27;</span>: -<span class="number">1</span></span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// &#123;</span></span><br><span class="line">       <span class="comment">//   $project: &#123;</span></span><br><span class="line">       <span class="comment">//     _id: 1,</span></span><br><span class="line">       <span class="comment">//     out: 1,</span></span><br><span class="line">       <span class="comment">//     stocks: 1,</span></span><br><span class="line">       <span class="comment">//     hasStock: 1</span></span><br><span class="line">       <span class="comment">//   &#125;</span></span><br><span class="line">       <span class="comment">// &#125;</span></span><br><span class="line">     ]</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><p>å–æ¨¡ <code>$mod</code></p><p>è·å–ä¸€æ¡æ•°æ® <code>MAPP.db_getOne()</code></p><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">$set</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¯­æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  <span class="comment">//æ›´æ–°æ•°æ®</span></span><br><span class="line">  <span class="attr">$set</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">//æ’å…¥æ•°æ®,é‡å¤çš„ä¸æ’å…¥</span></span><br><span class="line">  <span class="attr">$addToSet</span>: &#123;&#125;</span><br><span class="line">  <span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line">  <span class="attr">$push</span>: &#123;&#125;</span><br><span class="line">  <span class="comment">//æ›´æ–°æˆ–æ’å…¥æ•°æ®</span></span><br><span class="line">  <span class="attr">$setOnInsert</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœç´¢å¹¶æ›´æ–°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123; <span class="attr">_id</span>: product_id, <span class="string">&#x27;distributed.store_id&#x27;</span>: store_id &#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123; <span class="attr">$inc</span>: &#123; <span class="string">&#x27;distributed.$.stock&#x27;</span>: stock &#125; &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æ›´æ–°æˆ–æ’å…¥æ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">$set</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">$setOnInsert</span>: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">lean</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">new</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">upsert</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">setDefaultsOnInsert</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// options å¿…é¡»é…ç½®</span></span><br></pre></td></tr></table></figure><p>å¤šæ¬¡åµŒå¥—ä¿®æ”¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">Â  Â  Â  Â  <span class="attr">model</span>: <span class="string">&#x27;deliver_accept_order&#x27;</span>,</span><br><span class="line">Â  Â  Â  Â  <span class="attr">condition</span>: &#123; <span class="attr">_id</span>: _id, <span class="attr">product_list</span>: &#123; <span class="attr">$elemMatch</span>: &#123; <span class="attr">batch_number</span>: &#123; <span class="attr">$elemMatch</span>: &#123; <span class="attr">_id</span>: batch_number_id &#125; &#125; &#125; &#125; &#125;,</span><br><span class="line">Â  Â  Â  Â  <span class="attr">data</span>: &#123;</span><br><span class="line">Â  Â  Â  Â  Â  <span class="attr">$set</span>: &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="attr">receipt_status</span>: <span class="number">2</span>,</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;product_list.$[e].batch_number.$[val].in_quantity&#x27;</span>: in_quantity,</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;product_list.$[e].batch_number.$[val].diff_quantity&#x27;</span>: transit_quantity - in_quantity,</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;product_list.$[e].batch_number.$[val].low_quantity&#x27;</span>: low_quantity,</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;product_list.$[e].batch_number.$[val].low_reason&#x27;</span>: low_reason,</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;product_list.$[e].batch_number.$[val].take_status&#x27;</span>: in_quantity &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span></span><br><span class="line">Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  &#125;,</span><br><span class="line">Â  Â  Â  Â  <span class="comment">// æ›´æ–°å¤šå±‚åµŒå¥—æ•°ç»„</span></span><br><span class="line">Â  Â  Â  Â  <span class="attr">options</span>: &#123;</span><br><span class="line">Â  Â  Â  Â  Â  <span class="attr">arrayFilters</span>: [&#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;e.product_id&#x27;</span>: goods_mongoId,</span><br><span class="line">Â  Â  Â  Â  Â  &#125;, &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="string">&#x27;val.batch_id&#x27;</span>: batch_number_id</span><br><span class="line">Â  Â  Â  Â  Â  &#125;],</span><br><span class="line">Â  Â  Â  Â  Â  <span class="attr">multi</span>: <span class="literal">true</span></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  &#125;)</span><br></pre></td></tr></table></figure><p>æ•°ç»„æ“ä½œ</p><p>ä¿®æ”¹æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">await</span> MAPP.db_setMany(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;distributed.store_id&#x27;</span>: &#123; <span class="attr">$in</span>: store_ids &#125;,</span><br><span class="line">    <span class="comment">// prescription: prescriptions</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123; <span class="attr">$set</span>: &#123; [<span class="string">`distributed.$[elem].reduction_ids`</span>]: _ids &#125; &#125;,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">arrayFilters</span>: [</span><br><span class="line">      &#123; <span class="string">&#x27;elem.store_id&#x27;</span>: &#123; <span class="attr">$in</span>: store_ids &#125; &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å…¨éƒ¨ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">await</span> MAPP.db_setMany(&#123;</span><br><span class="line">    <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">    <span class="attr">condition</span>: &#123; <span class="attr">status</span>: &#123; <span class="attr">$ne</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">$set</span>: &#123; <span class="string">&#x27;distributed.$[].shelf&#x27;</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="èšåˆ"><a href="#èšåˆ" class="headerlink" title="èšåˆ"></a>èšåˆ</h2><p>åŸºç¡€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_aggregateAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">aggregate</span>: [],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><code>$filter</code> è¿‡æ»¤æ•°ç»„ç¬¦åˆçš„å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">$project</span>: &#123;</span><br><span class="line">    <span class="attr">assigners</span>: &#123;</span><br><span class="line">      <span class="attr">$filter</span>: &#123;</span><br><span class="line">        <span class="attr">input</span>: <span class="string">&#x27;$assigners&#x27;</span>,</span><br><span class="line">        <span class="attr">as</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">        <span class="attr">cond</span>: &#123;</span><br><span class="line">          <span class="attr">$eq</span>: [<span class="string">&#x27;$$item.id&#x27;</span>, MAPP.MTypesId(staff_id)]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>$group</code>ç»Ÿè®¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">$group</span>: &#123;</span><br><span class="line">    <span class="attr">_id</span>: <span class="string">&#x27;$product_list.product_id&#x27;</span>, <span class="comment">//éœ€è¦ç»Ÿè®¡çš„_idå­—æ®µ</span></span><br><span class="line">    <span class="comment">// æ€»ä»·ç»Ÿè®¡</span></span><br><span class="line">    <span class="attr">amount_stat</span>: &#123;</span><br><span class="line">      <span class="attr">$sum</span>: &#123; <span class="attr">$multiply</span>: [<span class="string">&#x27;$product_list.cypher_price&#x27;</span>, <span class="string">&#x27;$product_list.quantity&#x27;</span>] &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">product_id</span>: &#123;</span><br><span class="line">      <span class="attr">$first</span>: <span class="string">&#x27;$$ROOT.product_list.product_id&#x27;</span>, <span class="comment">//ç¬¬ä¸€ä¸ªç»Ÿè®¡å­—æ®µ</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">quantity_stat</span>: &#123;</span><br><span class="line">      <span class="attr">$sum</span>: <span class="string">&#x27;$product_list.quantity&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><code>$lookup</code> è¿è¡¨ <code>unwind</code> æ‹†åˆ†</p><p>æ³¨:è¿è¡¨æ˜¯æ•°ç»„,éœ€è¦æŠŠæ•°ç»„æ‹†åˆ†æˆå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">$lookup</span>: &#123;</span><br><span class="line">      <span class="attr">from</span>: <span class="string">&#x27;commodity&#x27;</span>, <span class="comment">//å¤–è¡¨</span></span><br><span class="line">      <span class="attr">localField</span>: <span class="string">&#x27;group.kind_id&#x27;</span>, <span class="comment">//æœ¬è¡¨å…³è”</span></span><br><span class="line">      <span class="attr">foreignField</span>: <span class="string">&#x27;_id&#x27;</span>, <span class="comment">//å¤–è¡¨å…³è”</span></span><br><span class="line">      <span class="attr">as</span>: <span class="string">&#x27;commodity&#x27;</span>, <span class="comment">//æ˜¾ç¤ºå­—æ®µ</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">$unwind</span>: &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;$commodity&#x27;</span>, <span class="comment">//æ•°ç»„æ‹†åˆ†</span></span><br><span class="line">      <span class="attr">preserveNullAndEmptyArrays</span>: <span class="literal">true</span> <span class="comment">// ç©ºæ•°ç»„ä¹Ÿæ‹†åˆ†.</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="keyword">await</span> MAPP.db_aggregateAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;order_goods_record&#x27;</span>,</span><br><span class="line">  <span class="attr">isCount</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">pageTurn</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">aggregate</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">$match</span>: &#123;</span><br><span class="line">        <span class="attr">order_id</span>: MAPP.MTypesId(<span class="string">&#x27;63e9f04109ae774560a44829&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">$unwind</span>: &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;$product_list&#x27;</span>,</span><br><span class="line">        <span class="attr">preserveNullAndEmptyArrays</span>: <span class="literal">true</span> <span class="comment">// ç©ºæ•°ç»„ä¹Ÿæ‹†åˆ†.</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">$group</span>: &#123;</span><br><span class="line">        <span class="attr">_id</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;product_id&#x27;</span>: <span class="string">&#x27;$product_list.product_id&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;batch_id&#x27;</span>: <span class="string">&#x27;$product_list.batch_id&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;type&#x27;</span>: <span class="string">&#x27;$product_list.type&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;activity_id&#x27;</span>: <span class="string">&#x27;$product_list.activity_id&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ªå•†å“</span></span><br><span class="line">        <span class="attr">product_first</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;$first&#x27;</span>: <span class="string">&#x27;$product_list&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡é‡‘é¢</span></span><br><span class="line">        <span class="attr">amount_stat</span>: &#123;</span><br><span class="line">          <span class="attr">$sum</span>: &#123; <span class="attr">$multiply</span>: [<span class="string">&#x27;$product_list.final_price&#x27;</span>, <span class="string">&#x27;$product_list.spare_quantity&#x27;</span>] &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result, <span class="number">123</span>)</span><br></pre></td></tr></table></figure><p>å•†å“æŸ¥è¯¢</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> aggregate = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">$match</span>: match</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// &#123;</span></span><br><span class="line">  <span class="comment">//   $sort: &#123;</span></span><br><span class="line">  <span class="comment">//     priority: -1,</span></span><br><span class="line">  <span class="comment">//     &#x27;original_gift_goods.sort&#x27;: 1,</span></span><br><span class="line">  <span class="comment">//     update_time: -1</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">$project</span>: &#123;</span><br><span class="line">      <span class="attr">distributed</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;$filter&#x27;</span>: &#123;</span><br><span class="line">          <span class="attr">input</span>: <span class="string">&#x27;$commodity.distributed&#x27;</span>,</span><br><span class="line">          <span class="attr">as</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">          <span class="attr">cond</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;$and&#x27;</span>: [</span><br><span class="line">              &#123; <span class="string">&#x27;$eq&#x27;</span>: [<span class="string">&#x27;$$item.store_id&#x27;</span>, <span class="keyword">new</span> MAPP.MTypesId(store_id)] &#125;,</span><br><span class="line">              &#123; <span class="string">&#x27;$eq&#x27;</span>: [<span class="string">&#x27;$$item.shelf&#x27;</span>, <span class="literal">true</span>] &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">$redact</span>: &#123;</span><br><span class="line">      <span class="attr">$cond</span>: &#123;</span><br><span class="line">        <span class="attr">if</span>: &#123;</span><br><span class="line">          <span class="attr">$and</span>: [</span><br><span class="line">            &#123; <span class="attr">$ne</span>: [<span class="string">&#x27;$distributed&#x27;</span>, []] &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">then</span>: <span class="string">&#x27;$$KEEP&#x27;</span>,</span><br><span class="line">        <span class="attr">else</span>: <span class="string">&#x27;$$PRUNE&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">$unwind</span>: <span class="string">&#x27;$distributed&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123; <span class="comment">// å¢åŠ æ˜¯å¦åº“å­˜å­—æ®µ</span></span><br><span class="line">    <span class="attr">$addFields</span>: &#123;</span><br><span class="line">      <span class="attr">hasStock</span>: &#123; <span class="attr">$cond</span>: [&#123; <span class="attr">$gt</span>: [<span class="string">&#x27;$distributed.stock&#x27;</span>, <span class="number">0</span>] &#125;, <span class="literal">true</span>, <span class="literal">false</span>] &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">$sort</span>: &#123;</span><br><span class="line">      <span class="attr">hasStock</span>: -<span class="number">1</span>,</span><br><span class="line">      <span class="attr">_id</span>: -<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²æˆªå– <code>$substr</code></p><p><a href="%E5%9C%B0%E5%9D%80">https://www.jianshu.com/p/8aa8794101e3</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">db.getCollection(<span class="string">&#x27;notice&#x27;</span>).aggregate(</span><br><span class="line">  [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">$project</span>: &#123;</span><br><span class="line">        <span class="attr">content</span>: &#123; <span class="attr">$substrCP</span>: [<span class="string">&#x27;$content&#x27;</span>, <span class="number">0</span>, <span class="number">20</span>] &#125; <span class="comment">//ä»0å¼€å§‹æˆªå–é•¿åº¦ä¸º20çš„å­—ç¬¦ä¸²</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><code>$$ROOT</code> æ ¹å…ƒç´ è¿‡æ»¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">$project</span>: &#123;</span><br><span class="line">    <span class="attr">goods_ids</span>: <span class="string">&#x27;$$ROOT.check.goods_ids&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> MAPP.db_deleteOne(&#123;</span><br><span class="line">       <span class="attr">model</span>: <span class="string">&#x27;medicate_info&#x27;</span>,</span><br><span class="line">       <span class="attr">condition</span>: &#123;</span><br><span class="line">         <span class="attr">_id</span>: $id</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">     <span class="keyword">if</span> (res.ok &amp;&amp; res.value) &#123;</span><br><span class="line">       ctx.info(&#123; <span class="attr">message</span>: <span class="string">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span> &#125;)</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       ctx.info(&#123; <span class="attr">message</span>: <span class="string">&#x27;åˆ é™¤å¤±è´¥&#x27;</span>, <span class="attr">status</span>: <span class="number">403</span> &#125;)</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><h2 id="é€šç”¨æ–¹æ³•"><a href="#é€šç”¨æ–¹æ³•" class="headerlink" title="é€šç”¨æ–¹æ³•"></a>é€šç”¨æ–¹æ³•</h2><h2 id="MAPP"><a href="#MAPP" class="headerlink" title="MAPP"></a><code>MAPP</code></h2><p>è·¯å¾„ <code>\api-medicalCenter\libs\utils\</code></p><p><code>plus</code> åŠ  <code>minus</code> å‡ <code>multiply</code> ä¹˜ <code>division</code> é™¤</p><p><code>selectTime</code> è·å–æ—¶é—´èŒƒå›´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ å…¥</span></span><br><span class="line"><span class="comment">// Month: æœ¬æœˆ LastMonth: ä¸Šæœˆ Yesterday:æ˜¨å¤© Day: ä»Šå¤©</span></span><br><span class="line"><span class="comment">// LastWeek:ä¸Šå‘¨ Â Week: æœ¬å‘¨ Â Year:ä»Šå¹´ LastYear:å»å¹´</span></span><br><span class="line"><span class="keyword">const</span> timeRange = MAPP.selectTime(<span class="string">&#x27;Today&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(timeRange) <span class="comment">// [ 1658764800000, 1658851199999 ]</span></span><br></pre></td></tr></table></figure><p><code>formatFloat</code> ä¿ç•™å‡ ä½å°æ•°(å››èˆäº”å…¥)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = MAPP.formatFloat(<span class="string">&#x27;2.567&#x27;</span>, <span class="number">2</span>) <span class="comment">// 2.57</span></span><br></pre></td></tr></table></figure><p><code>formatMoney</code> ä¿ç•™é‡‘é¢ä¸¤ä½</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = MAPP.formatMoney(<span class="number">5.335</span>) <span class="comment">// 5.34</span></span><br></pre></td></tr></table></figure><p><code>identityGetAge</code> èº«ä»½è¯è·å–å¹´é¾„</p><p><code>110101190001011009</code></p><p><code>220202202002020022</code></p><p><a href="http://www.ip33.com/shenfenzheng.html">åœ¨çº¿èº«ä»½è¯å·ç éªŒè¯</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> age = MAPP.identityGetAge(<span class="string">&#x27;220202202002020022&#x27;</span>) <span class="comment">//2</span></span><br></pre></td></tr></table></figure><p>æ–¹æ³•ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// èº«ä»½è¯è·å–å¹´é¾„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identityGetAge</span>(<span class="params">u = <span class="string">&#x27;&#x27;</span></span>) </span>&#123;</span><br><span class="line">  u = u.toString()</span><br><span class="line">  <span class="keyword">let</span> len = (u + <span class="string">&#x27;&#x27;</span>).length</span><br><span class="line">  <span class="keyword">let</span> strBirthday = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (len === <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†18ä½çš„èº«ä»½è¯å·ç ä»å·ç ä¸­å¾—åˆ°ç”Ÿæ—¥å’Œæ€§åˆ«ä»£ç </span></span><br><span class="line">    strBirthday =</span><br><span class="line">    u.substr(<span class="number">6</span>, <span class="number">4</span>) +</span><br><span class="line">      <span class="string">&#x27;/&#x27;</span> +</span><br><span class="line">      u.substr(<span class="number">10</span>, <span class="number">2</span>) +</span><br><span class="line">      <span class="string">&#x27;/&#x27;</span> +</span><br><span class="line">      u.substr(<span class="number">12</span>, <span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (len === <span class="number">15</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> birthdayValue = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    birthdayValue = u.charAt(<span class="number">6</span>) + u.charAt(<span class="number">7</span>)</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">parseInt</span>(birthdayValue) &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      strBirthday =</span><br><span class="line">        <span class="string">&#x27;20&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">6</span>, <span class="number">2</span>) +</span><br><span class="line">        <span class="string">&#x27;/&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">8</span>, <span class="number">2</span>) +</span><br><span class="line">        <span class="string">&#x27;/&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      strBirthday =</span><br><span class="line">        <span class="string">&#x27;19&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">6</span>, <span class="number">2</span>) +</span><br><span class="line">        <span class="string">&#x27;/&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">8</span>, <span class="number">2</span>) +</span><br><span class="line">        <span class="string">&#x27;/&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ—¶é—´å­—ç¬¦ä¸²é‡Œï¼Œå¿…é¡»æ˜¯â€œ/â€</span></span><br><span class="line">  <span class="keyword">let</span> birthDate = <span class="keyword">new</span> <span class="built_in">Date</span>(strBirthday)</span><br><span class="line">  <span class="keyword">let</span> nowDateTime = <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">  <span class="keyword">let</span> age = nowDateTime.getFullYear() - birthDate.getFullYear()</span><br><span class="line">  <span class="comment">// å†è€ƒè™‘æœˆã€å¤©çš„å› ç´ ;.getMonth()è·å–çš„æ˜¯ä»0å¼€å§‹çš„ï¼Œè¿™é‡Œè¿›è¡Œæ¯”è¾ƒï¼Œä¸éœ€è¦åŠ 1</span></span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    nowDateTime.getMonth() &lt; birthDate.getMonth() ||</span><br><span class="line">    (nowDateTime.getMonth() === birthDate.getMonth() &amp;&amp;</span><br><span class="line">      nowDateTime.getDate() &lt; birthDate.getDate())</span><br><span class="line">  ) &#123;</span><br><span class="line">    age--</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> age.toString() === <span class="string">&#x27;NaN&#x27;</span> ? <span class="number">0</span> : <span class="built_in">Number</span>(age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>identityGetAge</code> èº«ä»½è¯è·å–ç”Ÿæ—¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> identityGetBirth = <span class="function">(<span class="params">u = <span class="string">&#x27;&#x27;</span>, s = <span class="string">&#x27;-&#x27;</span></span>) =&gt;</span> &#123;</span><br><span class="line">  u = u.toString()</span><br><span class="line">  <span class="keyword">let</span> len = (u + <span class="string">&#x27;&#x27;</span>).length</span><br><span class="line">  <span class="keyword">let</span> strBirthday = <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (len === <span class="number">18</span>) &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†18ä½çš„èº«ä»½è¯å·ç ä»å·ç ä¸­å¾—åˆ°ç”Ÿæ—¥å’Œæ€§åˆ«ä»£ç </span></span><br><span class="line">    strBirthday = u.substr(<span class="number">6</span>, <span class="number">4</span>) + s + u.substr(<span class="number">10</span>, <span class="number">2</span>) + s + u.substr(<span class="number">12</span>, <span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//ç¬¬ä¸€ä»£èº«ä»½è¯15ä½,ç°åœ¨åŸºæœ¬æ²¡æœ‰äº†</span></span><br><span class="line">  <span class="keyword">if</span> (len === <span class="number">15</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> birthdayValue = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    birthdayValue = u.charAt(<span class="number">6</span>) + u.charAt(<span class="number">7</span>)</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">parseInt</span>(birthdayValue) &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      strBirthday =</span><br><span class="line">        <span class="string">&#x27;20&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">6</span>, <span class="number">2</span>) +</span><br><span class="line">        s +</span><br><span class="line">        u.substr(<span class="number">8</span>, <span class="number">2</span>) +</span><br><span class="line">        s +</span><br><span class="line">        u.substr(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      strBirthday =</span><br><span class="line">        <span class="string">&#x27;19&#x27;</span> +</span><br><span class="line">        u.substr(<span class="number">6</span>, <span class="number">2</span>) +</span><br><span class="line">        s +</span><br><span class="line">        u.substr(<span class="number">8</span>, <span class="number">2</span>) +</span><br><span class="line">        s +</span><br><span class="line">        u.substr(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> strBirthday</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> a= identityGetBirth(<span class="string">&#x27;220202202002020022&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">//&quot;2020-02-02&quot;</span></span><br></pre></td></tr></table></figure><p><code>identityGetSex</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æŒ‰èº«ä»½è¯å·ç è·å–æ€§åˆ«</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@idNumber </span>èº«ä»½è¯å·ç </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return </span>ç”·ï¼šmaleï¼›å¥³ï¼šfemaleï¼›å¼‚å¸¸ï¼ˆèº«ä»½è¯å·ç ä¸ºç©ºæˆ–é•¿åº¦ã€æ ¼å¼é”™è¯¯ï¼‰ï¼šundefined</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identityGetSex</span>(<span class="params">idNumber=<span class="string">&#x27;&#x27;</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (idNumber) &#123;</span><br><span class="line">    <span class="keyword">let</span> genderCode=<span class="string">&#x27;&#x27;</span> <span class="comment">// æ€§åˆ«ä»£ç </span></span><br><span class="line">    <span class="keyword">if</span> (idNumber.length === <span class="number">18</span>) &#123; <span class="comment">// äºŒä»£èº«ä»½è¯å·ç é•¿åº¦ä¸º18ä½ï¼ˆç¬¬17ä½ä¸ºæ€§åˆ«ä»£ç ï¼‰</span></span><br><span class="line">      genderCode = idNumber.charAt(<span class="number">16</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (idNumber.length === <span class="number">15</span>) &#123; <span class="comment">// ä¸€ä»£èº«ä»½è¯å·ç é•¿åº¦ä¸º15ä½ï¼ˆç¬¬15ä½ä¸ºæ€§åˆ«ä»£ç ï¼‰</span></span><br><span class="line">      genderCode = idNumber.charAt(<span class="number">14</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (genderCode &amp;&amp; !<span class="built_in">isNaN</span>(genderCode)) &#123;</span><br><span class="line">      <span class="comment">// ä¸¤ä»£èº«ä»½è¯å·ç çš„æ€§åˆ«ä»£ç éƒ½ä¸ºç”·å¥‡å¥³å¶</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">parseInt</span>(genderCode) % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;female&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> male=identityGetSex(<span class="string">&#x27;220202202002020022&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(male,<span class="string">&#x27;111&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="æ ¡éªŒ"><a href="#æ ¡éªŒ" class="headerlink" title="æ ¡éªŒ"></a>æ ¡éªŒ</h2><p>è·¯å¾„ <code>\api-medicalCenter\middleware</code></p><p>validator æ ¡éªŒ userAuth ä¸ç”¨ç™»å½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">validator</span>: &#123;</span><br><span class="line">    <span class="attr">verification_code</span>: <span class="string">&#x27;required|min:6&#x27;</span>,</span><br><span class="line">    <span class="attr">phone</span>: <span class="string">&#x27;required|cellphoneNumber&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;required|min:6&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;order_group.*.order_number&#x27;</span>: <span class="string">&#x27;required|string&#x27;</span>,</span><br><span class="line">    <span class="attr">openid</span>: <span class="string">&#x27;string&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;required|in:order_library,premium_voucher,dr_appointmen,order_deposit,order_retainage&#x27;</span>,</span><br><span class="line">    <span class="attr">voucher_id</span>: [&#123; <span class="attr">required_if</span>: [<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;premium_voucher&#x27;</span>] &#125;, <span class="string">&#x27;mongodbId&#x27;</span>],  <span class="comment">//æ•°ç»„å†™æ³•</span></span><br><span class="line">    <span class="attr">store_ids</span>: <span class="string">&#x27;required|split-mongodbId&#x27;</span>, <span class="comment">//mongodbIdé€—å·éš”å¼€</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å¤šä¸ª|éš”å¼€<br><code>required</code> å¿…ä¼ <br><code>min:6</code> æœ€å° 6 ä½<br><code>split-mongodbId</code> æ•°ç»„ id</p><p>å¸¸ç”¨<br><code>mongodbId</code> <code> numeric</code> <code>object</code> <code>string</code> <code>array</code></p><p><code>fullName</code> å§“ååº”è¯¥åœ¨ 2-4 ä¸ªä¸­æ–‡å­—ç¬¦<br><code>IDCard</code> èº«ä»½è¯å·ç éªŒè¯<br><code>phoneNumber</code></p><h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="headerlink" title="ç¼“å­˜"></a>ç¼“å­˜</h2><p>æ³¨:</p><ol><li><code>æœ¬åœ°æµ‹è¯•è¦é…ç½®nginxä¸­çš„server_nameåœ°å€å‚æ•°</code></li><li><code>è·å–å»æ‰é…ç½®</code></li></ol><p>æ•°æ®ç¼“å­˜<br>è·¯å¾„ <code>\api-medicalCenter\src\@common\cache</code></p><p>ä¿ƒå•†å“ç¼“å­˜<br>è·¯å¾„ <code>\api-medicalCenter\src\@common\promotion</code></p><p>ç¼“å­˜è¿›ç¨‹<br>è·¯å¾„ <code>\api-medicalCenter\src\@common\process</code></p><p>/**</p><ul><li>ç±»å‹ genre: cache promotion</li><li>æ–¹å¼</li><li>cache</li><li>0 allCache 1 cacheBrandCommodity 2 cacheBrandAssort 3 cacheCategoriesCommodity 4 cacheCategoriesAssort</li><li>5 cacheCommodityIntegral 6 cacheCourierCompanyAssort 7 cacheIntegralGoods 8 cacheCouponGoods 9 cacheMemberGrade</li><li>10 cacheStore 11 cacheMallGuideAssort 12 cacheDistributionGoods 13 cacheCommodityIntegralDeduction 14 cacheCommodity</li><li>promotion</li><li>0 allStoreRule 1 cipherRule<br>*/<br>è°ƒç”¨æ–¹æ³•</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> process_child = fork(MAPP.resolvePath(<span class="string">&#x27;src/@common/process.js&#x27;</span>))</span><br><span class="line">process_child.send(&#123; <span class="attr">genre</span>: <span class="string">&#x27;promotion&#x27;</span>, <span class="attr">method</span>: [<span class="number">1</span>], <span class="attr">conditions</span>: &#123; <span class="number">1</span>: &#123; <span class="attr">store_id</span>: existence.store_ids, <span class="attr">genre</span>: <span class="string">&#x27;reduction&#x27;</span> &#125; &#125; &#125;)  <span class="comment">//æ»¡å‡</span></span><br></pre></td></tr></table></figure><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><p>åˆ›å»ºç´¢å¼•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> MAPP.db_getDataModel(<span class="string">&#x27;commodity&#x27;</span>).collection.createIndex(&#123; <span class="attr">name</span>: <span class="string">&#x27;text&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// name_text</span></span><br></pre></td></tr></table></figure><h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><p><a href="https://blog.csdn.net/qq_43665821/article/details/125579864">Windows ä¸‹å¼€å¯å‰¯æœ¬é›†</a></p><p><strong>äº‹åŠ¡ demo ä»£ç </strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> session = <span class="keyword">await</span> MAPP.Mongoose.startSession() <span class="comment">// å¯ç”¨äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> session.startTransaction() <span class="comment">// å¼€å§‹äº‹åŠ¡</span></span><br><span class="line">    <span class="keyword">const</span> result = <span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">    <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">    <span class="attr">condition</span>: &#123;</span><br><span class="line">        <span class="attr">_id</span>: <span class="string">&#x27;58805dd61d8bdc9c56cc3e2d&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">data</span>: &#123; <span class="attr">$set</span>: &#123; <span class="attr">common_name</span>: <span class="string">&#x27;æ°¢æº´é…¸å³ç¾æ²™èŠ¬ç‰‡[æµ‹è¯•]&#x27;</span> &#125; &#125;,</span><br><span class="line">    <span class="attr">options</span>: &#123;</span><br><span class="line">        session,</span><br><span class="line">        <span class="attr">new</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(result.common_name) <span class="comment">// ä¿®æ”¹åçš„ç»“æœ</span></span><br><span class="line">    <span class="comment">// eslint-disable-next-line no-throw-literal</span></span><br><span class="line">    <span class="comment">// throw &#x27;Too big&#x27; // æŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="comment">// to do something..... ä»£ç ä¸šåŠ¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">await</span> session.commitTransaction() <span class="comment">// æäº¤äº‹åŠ¡</span></span><br><span class="line">    <span class="keyword">await</span> session.endSession()</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">await</span> session.abortTransaction() <span class="comment">// ç»ˆæ­¢äº‹åŠ¡</span></span><br><span class="line">    <span class="keyword">await</span> session.endSession()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡æ¨¡æ¿"><a href="#å¾®ä¿¡æ¨¡æ¿" class="headerlink" title="å¾®ä¿¡æ¨¡æ¿"></a>å¾®ä¿¡æ¨¡æ¿</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¾®ä¿¡æœåŠ¡è®¢é˜…</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;wx_service_subscription&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = MAPP.injectDBModel(</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// æ¨¡æ¿åç§° 1.å”®åçŠ¶æ€é€šçŸ¥  2.è®¢å•å‘è´§é€šçŸ¥ 3.ç¼´è´¹é€šçŸ¥ 4.ç»­è´¹æˆåŠŸé€šçŸ¥ 5.å¾…å°¾æ¬¾æç¤º 6.ç”¨è¯æé†’ 7.å¤è´­æé†’ 8.è®¢å•å®¡æ ¸é€šçŸ¥</span></span><br><span class="line">    <span class="attr">name</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">default</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">    <span class="comment">// æ¨¡ç‰ˆid</span></span><br><span class="line">    <span class="attr">template_id</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">default</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">    <span class="comment">// æ˜¯å¦å¯ç”¨</span></span><br><span class="line">    <span class="attr">enable</span>: &#123; <span class="attr">type</span>: <span class="built_in">Boolean</span>, <span class="attr">default</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  name</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p><strong>ç”¨è¯æé†’</strong></p><table><thead><tr><th>å­—æ®µè¯´æ˜</th><th>å‚æ•°</th></tr></thead><tbody><tr><td>è¯å“åç§°</td><td><code>&#123;&#123;thing1.DATA&#125;&#125;</code></td></tr><tr><td>ç”¨æ³•ç”¨é‡</td><td><code>&#123;&#123;thing6.DATA&#125;&#125;</code></td></tr><tr><td>æ³¨æ„äº‹é¡¹</td><td><code>&#123;&#123;thing7.DATA&#125;&#125;</code></td></tr></tbody></table><p>è¯´æ˜:åœ¨è®¢å•æ”¯ä»˜åç»‘å®šæ¨¡æ¿ id è§¦å‘</p><p><strong>å¤è´­æé†’</strong></p><p><code>&#123;thing1:&#123;value:&quot;&quot;&#125;&#125;</code> æœ€å¤š 20 ä¸ªä¸­æ–‡å­—ç¬¦,è¶…å‡ºæ— æ³•å‘é€</p><table><thead><tr><th>å­—æ®µè¯´æ˜</th><th>å‚æ•°</th></tr></thead><tbody><tr><td>è¯å“ä¿¡æ¯</td><td><code>&#123;&#123;thing1.DATA&#125;&#125;</code></td></tr><tr><td>æ¸©é¦¨æç¤º</td><td><code>&#123;&#123;thing3.DATA&#125;&#125;</code></td></tr></tbody></table><p>è¯´æ˜:</p><ol><li>å®šæ—¶å™¨æ¯æ—¥ 8 ç‚¹æ¨é€ (æœ€è¿‘ 1 ä¸ªæœˆå†…å•†å“è®¢å•ä¿¡æ¯å¼€å§‹æ¨é€)</li><li>å¤è´­æ¨é€è§„åˆ™</li></ol><ul><li>å¾…æ”¶è´§,å·²å®Œæˆäº¤æ˜“,å·²æˆæƒæœªæ¨é€è¿‡çš„è®¢å•</li><li>æ¨é€æ—¶é—´:å‘è´§æ—¶é—´ + ç–—ç¨‹æ—¶é—´ &lt;=å½“å‰æ—¶é—´</li><li>æ¨é€ç–—ç¨‹ä¸ºä¸‹ä¸€ä¸ªæœ€è¿‘æ—¶é—´çš„ç–—ç¨‹</li><li>è´­ä¹°çš„æ•°é‡æ²¡æœ‰åœ¨ç–—ç¨‹å†…,ä¸æ¨é€æ¶ˆæ¯</li><li>æ¨é€å†…å®¹[è¯å“ä¿¡æ¯][æ¸©é¦¨æç¤º](æ–‡å­—å†…å®¹ä¸è¶…è¿‡ 20 ä¸ªå­—ç¬¦)</li></ul><p>ç”¨è¯æé†’ä¾‹å­:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  <span class="attr">thing3</span>: &#123; <span class="attr">value</span>: v.name || <span class="string">&#x27;------&#x27;</span> &#125;, <span class="comment">// è¯å“åç§°</span></span><br><span class="line">  <span class="attr">thing6</span>: &#123; <span class="attr">value</span>: v.usage || <span class="string">&#x27;------&#x27;</span> &#125;, <span class="comment">// ç”¨æ³•ç”¨é‡</span></span><br><span class="line">  <span class="attr">thing7</span>: &#123; <span class="attr">value</span>: v.precautions || <span class="string">&#x27;------&#x27;</span> &#125; <span class="comment">// æ³¨æ„äº‹é¡¹</span></span><br><span class="line"><span class="comment">// console.log()</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¨é€æ¶ˆæ¯</span></span><br><span class="line"><span class="keyword">await</span> wx.subscribeMessage(&#123;</span><br><span class="line">  <span class="attr">touser</span>: openid,</span><br><span class="line">  <span class="attr">page</span>: <span class="string">`pagesD/indent/details?_id=<span class="subst">$&#123;order._id&#125;</span>`</span>,</span><br><span class="line">  <span class="attr">template_id</span>: wx_service_subscription.template_id,</span><br><span class="line">  <span class="attr">miniprogramState</span>: CONFIG.miniprogramState,</span><br><span class="line">  data,</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(data)</span><br><span class="line">  <span class="comment">// ç”¨æˆ·æ‹’ç»æˆ–è€…æ²¡æœ‰è®¢é˜…æ¶ˆæ¯</span></span><br><span class="line">  <span class="comment">// &#123;</span></span><br><span class="line">  <span class="comment">//   errcode: 43101,</span></span><br><span class="line">  <span class="comment">//   errmsg: &#x27;user refuse to accept the msg rid: 62fc6378-7f857407-1a8a6b2c&#x27;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Number</span>(data.errcode) === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å¾®ä¿¡è®¢é˜…é€šçŸ¥å‘é€æˆåŠŸï¼&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="åå°"><a href="#åå°" class="headerlink" title="åå°"></a>åå°</h1><p>é…ç½®</p><blockquote><p><code>npm run copyConfig</code></p></blockquote><p>å¼€å‘ç‰ˆé…ç½®è®¾ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;xcx.fenxiangqu.cn&#x27;</span></span><br><span class="line"><span class="keyword">const</span> ossUrl = <span class="string">&#x27;https://syhl-newretail-dev.oss-cn-shenzhen.aliyuncs.com&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    api: &#123;</span><br><span class="line">    BASE_API: `http:<span class="comment">//192.168.1.208:4556`,</span></span><br><span class="line">    <span class="comment">// ä¸Šä¼  è¯·æ±‚</span></span><br><span class="line">    UPLOAD_URL: `http:<span class="comment">//192.168.1.208:4556`,</span></span><br><span class="line">    <span class="comment">// websocket è¯·æ±‚</span></span><br><span class="line">    WSS_URL: `ws:<span class="comment">//192.168.1.208:3378/websocket`,</span></span><br><span class="line">    <span class="comment">// èµ„æºè®¿é—®</span></span><br><span class="line">    RESOURCES_URL: ossUrl,</span><br><span class="line">    <span class="comment">// b2c å¾®å•†åŸ</span></span><br><span class="line">    B2C_APP_URL: &#x27;&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ¶ˆæ¯ä¸­å¿ƒ"><a href="#æ¶ˆæ¯ä¸­å¿ƒ" class="headerlink" title="æ¶ˆæ¯ä¸­å¿ƒ"></a>æ¶ˆæ¯ä¸­å¿ƒ</h1><p>æ•°æ®è¡¨ <code>message_center</code> <code>order_type</code> 4 å•†å“è®¢å• 5 é€€æ¬¾è®¢å•<br>æ¨é€æ¶ˆæ¯åˆ°åå°æ–¹æ³• <code>pushBackstageMsg</code><br>æ¨é€å…¨éƒ¨ <code>to_user_id: &#39;all&#39;</code></p><ol><li><p>æ”¯ä»˜è®¢å•æ¨é€ ç”¨æˆ·æ”¯ä»˜è®¢å•æˆåŠŸåè‡ªåŠ¨æ¨é€</p></li><li><p>é€€æ¬¾å•æ¨é€ ç”¨æˆ·ç”³è¯·é€€æ¬¾å•è‡ªåŠ¨æ¨é€</p></li></ol><p>æ¨é€è§„åˆ™</p><ol><li>è¶…çº§ç®¡ç†å‘˜å’Œæœ‰å…³è”è¯¥è®¢å•é—¨åº—ç®¡ç†å‘˜</li><li>ä¸€ä¸ªè®¢å•æ¨é€ä¸€æ¡æ¶ˆæ¯</li><li>æŒ‰é—¨åº—æ¨é€</li></ol><h1 id="b2c"><a href="#b2c" class="headerlink" title="b2c"></a>b2c</h1><h2 id="æ¨èå•†å“"><a href="#æ¨èå•†å“" class="headerlink" title="æ¨èå•†å“"></a>æ¨èå•†å“</h2><p><code>/commodity/recommend/random</code></p><p>ç±»å‹:1 é¦–é¡µ 2 è¯¦æƒ…æ¨è</p><p>è¯´æ˜: æ¨èå•†å“å¿…é¡»åº“å­˜å¤§äº 0,ä¸Šæ¶çŠ¶æ€</p><p>ä¸€, b2c é¦–é¡µæ¨è</p><p>9 ä¸ªå¯ä»¥è‡ªå®šä¹‰</p><ol><li>æœ€å¤šè®¾ç½® 50 ä¸ªæ¨èå•†å“</li><li>b2c å‰å°æœ€å¤šéšæœº 9 ä¸ªæ¨èå•†å“</li><li>è¶…è¿‡ 9 ä¸ªæ‰ä¼šéšæœº</li><li>å°äº 9 ä¸ªæ¨èå•†å“ + æ™®é€šå•†å“</li></ol><p>äºŒ, è¯¦æƒ…æ¨è</p><ol><li>æœ€å¤šéšæœº 8 ä¸ªå•†å“(å…³è”ç›¸åŒå•†å“çš„å“ç‰Œ,åˆ†ç±»)</li></ol><h2 id="é™é”€"><a href="#é™é”€" class="headerlink" title="é™é”€"></a>é™é”€</h2><p>ä¸‹å•ç®—è¯¥å•†å“å·²è´­ä¹°çš„æ•°é‡äº†(å·²å–æ¶ˆè®¢å•ä¸ç®—)</p><p>é™é”€æ‹¦æˆªä»¥ä¸‹</p><ol><li>åŠ å…¥è´­ç‰©è½¦</li><li>è®¾ç½®å•†å“æ•°é‡</li><li>ç«‹å³è´­ä¹°</li><li>æäº¤è®¢å•</li><li>æ”¯ä»˜è®¢å•</li></ol><h2 id="å‰å°å•†å“æœç´¢"><a href="#å‰å°å•†å“æœç´¢" class="headerlink" title="å‰å°å•†å“æœç´¢"></a>å‰å°å•†å“æœç´¢</h2><ol><li><p><strong>b2c å‰å°å•†å“åˆ—è¡¨æœç´¢æ¡ä»¶</strong>(/commodity)</p><ul><li>ä¸»è¦æœç´¢<br>name å•†å“åç§°/æ¡ç /å‚å®¶</li><li>å…¶ä»–æœç´¢<br>brand_id å“ç‰Œ id<br>categories_id åˆ†ç±» id<br>prescription å¤„æ–¹è¯ç±»å‹<br>for_people é€‚åˆäººç¾¤<br>in_stock æ˜¯å¦æœ‰è´§ (<code>distributed.stock</code>)<br>new_product æ˜¯å¦æ–°å“ (<code>distributed.new_product</code>)<br>promotion ä¿ƒé”€ç±»å‹(æ»¡èµ ,æ»¡èµ ) (<code>distributed.gift_ids</code> <code>distributed.reduction_ids</code>)</li><li>æ’åº<br>price_sort ä»·æ ¼é™å‡åº (<code>distributed.current_price</code>)<br>sales_sort é”€é‡æ’åº (<code>distributed.sales</code>)</li></ul></li><li><p><strong>b2c å‰å°è·¨å¢ƒå•†å“åˆ—è¡¨æœç´¢</strong>(/commodity/overseas)</p><ul><li>ä¸»è¦æœç´¢ name å•†å“åç§°/æ¡ç </li><li>æ’åº sort å­—æ®µé™åº</li></ul></li><li><p><strong>b2c å‰å°å…¶ä»–å•†å“æ’åº</strong>(/commodity/leaderboard /floor/:id)</p><ul><li>æ¥¼å±‚ åº“å­˜é™åº (<code>distributed.stock</code>)</li><li>å•†å“æ’è¡Œæ¦œ é”€é‡é™åº (<code>distributed.sales</code>)</li></ul></li></ol><h1 id="ç§»åŠ¨åŒ»ç–—"><a href="#ç§»åŠ¨åŒ»ç–—" class="headerlink" title="ç§»åŠ¨åŒ»ç–—"></a>ç§»åŠ¨åŒ»ç–—</h1><h2 id="åŒ»å¸ˆç«¯"><a href="#åŒ»å¸ˆç«¯" class="headerlink" title="åŒ»å¸ˆç«¯"></a>åŒ»å¸ˆç«¯</h2><h2 id="æ‚£è€…ç«¯"><a href="#æ‚£è€…ç«¯" class="headerlink" title="æ‚£è€…ç«¯"></a>æ‚£è€…ç«¯</h2><h1 id="åˆ†é”€"><a href="#åˆ†é”€" class="headerlink" title="åˆ†é”€"></a>åˆ†é”€</h1><h2 id="ç‰¹æ®Šåˆ†é”€"><a href="#ç‰¹æ®Šåˆ†é”€" class="headerlink" title="ç‰¹æ®Šåˆ†é”€"></a>ç‰¹æ®Šåˆ†é”€</h2><p>é¡µé¢æµ‹è¯•</p><p>D:\fix-bug\uni-b2c\src\pagesA\crossBorder</p><p>pagesA/crossBorder/index</p><p><a href="http://192.168.1.208:8082/pagesA/crossBorder/index">http://192.168.1.208:8082/pagesA/crossBorder/index</a></p><h1 id="ä»»é€‰"><a href="#ä»»é€‰" class="headerlink" title="ä»»é€‰"></a>ä»»é€‰</h1><p>å¤šå•†å“ä»»é€‰è®¡ç®—</p><table><thead><tr><th align="center">ä¾‹å­</th><th align="center">å•†å“ A</th><th align="center">å•†å“ B</th></tr></thead><tbody><tr><td align="center">å•ä»· x æ•°é‡(å…ƒ x ä»¶)</td><td align="center">10</td><td align="center">20</td></tr><tr><td align="center">è§„åˆ™ 1: 2 ä»¶ 20 å…ƒ</td><td align="center">6.66 x 1</td><td align="center">13.33 x 1</td></tr><tr><td align="center">è§„åˆ™ 2: 3 ä»¶ 30 å…ƒ</td><td align="center">6 x 1</td><td align="center">12 x 2</td></tr><tr><td align="center">è§„åˆ™ 3: 4 ä»¶ 40 å…ƒ</td><td align="center">6.66 x 2</td><td align="center">13.33 x 2</td></tr></tbody></table><p>è®¡ç®—:</p><p>è§„åˆ™ 1:<br>å•†å“ A æ€»ä»· 10 x 1 = 10<br>å•†å“ B æ€»ä»· 20 x 1 = 20<br>å•†å“ A å®é™…å•ä»· = (10 Ã· 30 x 20) Ã· 1 â‰ˆ 6.66<br>å•†å“ B å®é™…å•ä»· = (20 Ã· 30 x 20) Ã· 1 â‰ˆ 13.33</p><p>è§„åˆ™ 2:<br>å•†å“ A æ€»ä»· 10 x 1 = 10<br>å•†å“ B æ€»ä»· 20 x 2 = 40<br>å•†å“ A å®é™…å•ä»· = (10 Ã· 50 x 30) Ã· 1 = 6<br>å•†å“ B å®é™…å•ä»· = (40 Ã· 50 x 30) Ã· 2 = 12</p><p>è§„åˆ™ 3:<br>å•†å“ A æ€»ä»· 10 x 2 = 20<br>å•†å“ B æ€»ä»· 20 x 2 = 40<br>å•†å“ A å®é™…å•ä»· = (20 Ã· 60 x 40) Ã· 2 = 6 â‰ˆ 6.66<br>å•†å“ B å®é™…å•ä»· = (40 Ã· 60 x 40) Ã· 2 â‰ˆ 13.33</p><h2 id="çè¯ä¼˜é€‰"><a href="#çè¯ä¼˜é€‰" class="headerlink" title="çè¯ä¼˜é€‰"></a>çè¯ä¼˜é€‰</h2><p>1.å‰å°ç»“ç®—åªèƒ½é€‰æ‹©çè¯å•†å“ç»“ç®—</p><h2 id="åˆ†é”€ä½£é‡‘"><a href="#åˆ†é”€ä½£é‡‘" class="headerlink" title="åˆ†é”€ä½£é‡‘"></a>åˆ†é”€ä½£é‡‘</h2><p><a href="https://szsyhl.yuque.com/books/share/df982670-d0a3-47af-b353-4650ee6a4dfd/dx56dt">åˆ†é”€ä½£é‡‘æŒ‡å—(é›¨é›€)</a></p><p>ä¸ªäººåˆ†é”€å•†ä½£é‡‘å­—æ®µ(è¡¨<code>distributor</code>)</p><p><code>wait_commission</code>: å¾…ç»“ç®—<br><code>commission</code> å·²ç»“ç®—<br><code>extractable_commission</code> å¯æå–<br><code>already_commission</code> å·²æå–</p><h2 id="ä½£é‡‘ç»“ç®—"><a href="#ä½£é‡‘ç»“ç®—" class="headerlink" title="ä½£é‡‘ç»“ç®—"></a>ä½£é‡‘ç»“ç®—</h2><ol><li>æäº¤è®¢å•(å«åˆ†é”€å•†å“)ç”Ÿæˆåˆ†é”€å•(è¡¨<code>distribution_order</code>)</li></ol><p>æ–¹æ³•: æ™®é€šåˆ†é”€ <code>distributorOrder</code> ç‰¹æ®Šåˆ†é”€ <code>codeDistributorOrder</code></p><ol start="2"><li><p>æ”¯ä»˜è®¢å•ç”Ÿæˆåˆ†é”€æ”¶å…¥æ˜ç»†(è¡¨<code>distribution_income_details</code>) æœªåˆ°è´¦<br>æ–¹æ³•: <code>distributionIncome</code><br>è¯´æ˜ 1: åˆ†é”€å•ä¸­åˆ†é”€æ”¶ç›Šæœ‰ä¸¤æ¡æ•°æ®ç”Ÿæˆä¸¤æ¡æ˜ç»†<br>è¯´æ˜ 2: æ˜ç»†ç»“ä½™(å¾…ç»“ç®—+å·²ç»“ç®—+å¯æå–)<br>è¯´æ˜ 3: å…¨éƒ¨é€€æ¬¾å–æ¶ˆè®¢å• åˆ é™¤åˆ†é”€æ”¶å…¥æ˜ç»†æ•°æ®</p></li><li><p>ç¡®è®¤æ”¶è´§ç»“ç®—ä½£é‡‘(è¡¨<code>distributor</code>)<br>æ–¹æ³•: <code>distributionIReceipt</code><br>è¯´æ˜ 1: æŒ‰ç»“ç®—è§„åˆ™åˆ¤æ–­åˆ†é”€å•†ä¸ªäººä½£é‡‘å¯¹åº”å­—æ®µç»“ç®—<br>è¯´æ˜ 2: æ›´æ–°æ”¶å…¥åˆ†é”€æ˜ç»†ç»“å­—æ®µ<br>ç»“ç®—è§„åˆ™:</p><ol><li><strong>settlement_data=0 release_date=0</strong> <code>extractable_commission</code> å¯æç°</li><li><strong>settlement_data=0 release_date&gt;0</strong> <code>commission</code> å·²ç»“ç®—</li><li><strong>settlement_data&gt;0</strong> <code>wait_commission</code> å¾…ç»“ç®—</li></ol></li><li><p>ç»“ç®—å®šæ—¶å™¨<br>æ–¹æ³•: <code>settlementCommission</code><br>è¯´æ˜:</p><ol><li>ç»“ç®—æ—¥ å·²ç»“ç®—å¢åŠ  å¾…ç»“ç®—å‡å°‘</li><li>å‘æ”¾æ—¥ å¯æå–å¢åŠ  å·²æå–å‡å°‘</li></ol></li></ol><p>åå°è´¦æˆ·ä½£é‡‘: å·²ç»“ç®—+å¯æç°</p><p>b2c å‰å°è´¦æˆ·ä½£é‡‘<br>ç´¯è®¡æ”¶ç›Š: å·²ç»“ç®—+å¯æå–+å·²æç°<br>ä»Šæ—¥é¢„ä¼°æ”¶å…¥:ä»Šå¤©åˆ†é”€æ”¶å…¥æ˜ç»†<code>amount</code>å­—æ®µç´¯åŠ (å«æœªåˆ°è´¦,åˆ›å»ºæ—¶é—´)<br>æœ¬æœˆé¢„ä¼°æ”¶å…¥:æœ¬æœˆåˆ†é”€æ”¶å…¥æ˜ç»†<code>amount</code>å­—æ®µç´¯åŠ (å«æœªåˆ°è´¦,åˆ›å»ºæ—¶é—´)<br>è´¦æˆ·ä½™é¢: å·²ç»“ç®—+å¯æç°</p><h1 id="åº—å‘˜ç«¯"><a href="#åº—å‘˜ç«¯" class="headerlink" title="åº—å‘˜ç«¯"></a>åº—å‘˜ç«¯</h1><p><strong>app_shop_assistant</strong></p><h1 id="webpos"><a href="#webpos" class="headerlink" title="webpos"></a>webpos</h1><h2 id="é€€æ¬¾"><a href="#é€€æ¬¾" class="headerlink" title="é€€æ¬¾"></a>é€€æ¬¾</h2><p>webpos é€€æ¬¾åŠŸèƒ½è¯´æ˜:</p><ol><li>å…¨éƒ¨é€€æ¬¾å¯ä»¥æŒ‰åŸè·¯é€€æˆ–æŒ‰ç°é‡‘é€€</li><li>éƒ¨åˆ†é€€æ¬¾,æŒ‰åŸè·¯é€€æˆ–ç°é‡‘é€€(å•æ”¯ä»˜)</li><li>éƒ¨åˆ†é€€æ¬¾,åªèƒ½æŒ‰ç°é‡‘é€€(å¤šæ”¯ä»˜)</li><li>é€€æ¬¾é‡‘é¢ä¸èƒ½è¶…å‡ºè®¢å•å®æ”¶é‡‘é¢</li><li>è‡ªå®šä¹‰é€€æ¬¾æ•°é‡ä¸èƒ½è¶…å‡ºå•†å“åŸæ•°é‡</li><li>é€€æ¬¾é‡‘é¢ä¸ºå•†å“æœ€ç»ˆä»·æ ¼é‡‘é¢(å¹³æ‘Šåçš„é‡‘é¢)</li><li>é€€æ¬¾é‡‘é¢ä¸èƒ½è¶…å‡ºå•†å“å¹³æ‘Šåçš„é‡‘é¢</li></ol><h2 id="æ”¶é“¶å°"><a href="#æ”¶é“¶å°" class="headerlink" title="æ”¶é“¶å°"></a>æ”¶é“¶å°</h2><p><code>order_total</code> åº”æ”¶é‡‘é¢ (è®¢å•é‡‘é¢)<br><code>pay_total</code> å®ä»˜é‡‘é¢<br><code>coupon_amount</code> ä¼˜æƒ åˆ¸æŠµæ‰£é‡‘é¢<br><code>discount_amount</code> ä¿ƒé”€ä¼˜æƒ é‡‘é¢ (æ»¡å‡é‡‘é¢)<br><code>member_amount</code> ä¼šå‘˜ä¼˜æƒ é‡‘é¢ (ä¼šå‘˜ä»·/å†…è´­ä»·)<br><code>whole_amount</code> æ•´å•æ”¹ä»·é‡‘é¢ (æ•´å•/å•å“å­—æ®µäºŒé€‰ä¸€)<br><code>single_amount</code> å•å“æ”¹ä»·é‡‘é¢ (æ•´å•/å•å“å­—æ®µäºŒé€‰ä¸€)</p><p><code>save_data.is_change_price</code> = false æ˜¯å¦è‡ªåŠ¨åˆ‡æ¢ä»·æ ¼(åˆ‡æ¢ä¼šå‘˜é»˜è®¤é€‰æ‹©æœ€ä¼˜ä¼šå‘˜ä»·)<br><code>save_data.no_change</code> = true æ˜¯å¦å¤„ç†å•†å“ä¼šå‘˜ä»·/å†…è´­ä»·</p><p><code>save_data.pay_total</code> = 0 é‡æ–°è®¡ç®—åº”æ”¶é‡‘é¢<br><code>save_data.coupon_amount</code> = 0 é‡æ–°è®¡ç®—ä¼˜æƒ åˆ¸é‡‘é¢</p><p><code>getPendingOne</code> è·å–é»˜è®¤æŒ‚å•ä¿¡æ¯</p><p><code>getPendingOrder</code> è·å–æŒ‚å•è¯¦ç»†ä¿¡æ¯</p><p><code>productSum</code> è®¡ç®—å•†å“é‡‘é¢æ”¯ä»˜</p><p><code>savePendingOrder</code> ä¿å­˜æŒ‚å•ä¿¡æ¯</p><p><code>fullReductionOffer</code> æ»¡å‡å¤„ç†æ–¹æ³•</p><p><code>fullGiftOffer</code> æ»¡èµ å¤„ç†æ–¹æ³•</p><p><code>optimalAmount</code> å¤„ç†æœ€ä¼˜è§£</p><p><code>goodPromotionRuleList</code> è·å–æ‰€æœ‰å•†å“ä¿ƒé”€ç±»å‹</p><p><code>goodSortFn</code> å•†å“æ’åº</p><p><code>disposeProductList</code> å¤„ç†å•†å“å­—æ®µ</p><p><code>noBatchNumber</code> åªæŒ‰å•†å“é”€å”® (æ¸…é™¤æ‰¹å·æ•°ç»„)</p><p><code>disposeBatchNumber</code> å¤„ç†æ‰¹å·æ•°æ®</p><p>æ”¶é“¶å°å­—æ®µè¯´æ˜:</p><p>å“ç§æ•°é‡: å•†å“ä¸ªæ•°(å¯¹åº”å•†å“æœ€å¤§çš„åºå·)<br>åº”æ”¶é‡‘é¢ = å•†å“æ€»ä»·ç›¸åŠ <br>å®æ”¶é‡‘é¢ = åº”æ”¶é‡‘é¢ - ä¿ƒé”€ä¼˜æƒ  - æ”¹ä»·é‡‘é¢ - ä¼˜æƒ åˆ¸é‡‘é¢</p><p>ä¿ƒé”€ä¼˜æƒ  = èµ å“é‡‘é¢ + æ»¡å‡é‡‘é¢</p><h2 id="å•å“æ”¹ä»·"><a href="#å•å“æ”¹ä»·" class="headerlink" title="å•å“æ”¹ä»·"></a>å•å“æ”¹ä»·</h2><p>åªæœ‰æ™®é€šå•†å“æ‰èƒ½æ”¹ä»·</p><p>ä¼šå‘˜ä»·/å†…è´­ä»·ä¿®æ”¹ä»·æ ¼å˜æˆå•†åŸä»·</p><p>æ¥å£å <code>/commodity/modify/:id</code></p><h2 id="ä¿ƒé”€"><a href="#ä¿ƒé”€" class="headerlink" title="ä¿ƒé”€"></a>ä¿ƒé”€</h2><p>ä¼˜å…ˆçº§:</p><p>ç›®å‰ webpos æ·»åŠ é¡ºåº</p><ol><li>é™æ—¶æŠ¢è´­ â€”&gt; æ»¡å‡ â€”&gt; æ»¡èµ â€”&gt; æ™®é€š</li></ol><p>åŒä¸ªæ´»åŠ¨çš„ä¼˜å…ˆçº§: å…ˆæŒ‰è®¾ç½®ä¼˜å…ˆçº§,å†æŒ‰æ›´æ–°æ—¶é—´</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sort: &#123;</span><br><span class="line">  <span class="attr">priority</span>: -<span class="number">1</span>,</span><br><span class="line">  <span class="attr">update_time</span>: -<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¿ƒé”€ç±»å‹</strong></p><p><code>general</code> æ™®é€šå•†å“<br><code>match_package</code> ç»„åˆå¥—é¤<br><code>redemption</code> åŠ é’±æ¢è´­<br><code>limited_time_buying</code> é™æ—¶æŠ¢è´­<br><code>presale</code> é¢„å”®<br><code>integral_exchange</code> ç§¯åˆ†å…‘æ¢</p><p>1.æ™®é€šå•†å“ 2.é™æ—¶æŠ¢è´­(é™æ—¶,é™é‡) 3.æ»¡å‡ 4.æ»¡èµ  5.ç»„åˆå¥—é¤ 6.æ¢è´­ 7.é¢„å”® 8.ç§¯åˆ†å…‘æ¢</p><p>é—¨åº—å•†å“åº“å­˜ä¸è¶³æ—¶,ä¸‹æ¶çŠ¶æ€æ— æ³•ä¸‹å•è´­ä¹°</p><p>åº“å­˜æ³¨æ„:</p><ol><li>webpos åº“å­˜æŒ‰å•†å“æ‰¹å·åº“å­˜,b2c åº“å­˜æŒ‰å•†å“æ€»åº“å­˜åˆ¤æ–­</li><li>èµ å“æ´»åŠ¨åº“å­˜ç›®å‰ç‰ˆæœ¬å·²å»æ‰(èµ å“åº“å­˜æŒ‰é—¨åº—åº“å­˜)</li><li>é™æ—¶æŠ¢è´­è®¾ç½®å•†å“æ´»åŠ¨åº“å­˜ä¸º 0 æ—¶,ä¸é™æ—¶åº“å­˜,ä¸ºå•†å“é—¨åº—åº“å­˜</li><li>ç»„åˆå¥—é¤è®¾ç½®æ´»åŠ¨åº“å­˜ä¸º 0 æ—¶,ä¸é™æ—¶åº“å­˜,åº“å­˜ä¸ºç»„åˆå•†å“å†…æœ€å°å¥—é¤æ•°é‡</li><li>æ´»åŠ¨åº“å­˜å°äºé—¨åº—åº“å­˜,æŒ‰é—¨åº—åº“å­˜é”€å”®</li><li>webpos æ‰¹å·æ’åº:å…ˆæŒ‰æœ‰æ•ˆæœŸæ—¥æœŸè¿‘åˆ°è¿œæ’åº,å¦‚æœ‰æ•ˆæœŸä¸€æ ·,åˆ™æŒ‰æ‰¹å·åº“å­˜ä»å¤§åˆ°å°æ’åº</li></ol><p>ç»„åˆå•†å“åº“å­˜ 1.å½“æ´»åŠ¨åº“å­˜å¤§äº 0 æ—¶,ä»¥é—¨åº—åº“å­˜ä¸ºä¸»,å¿…é¡»å°äºæ´»åŠ¨åº“å­˜ 2.å½“æ´»åŠ¨åº“å­˜ç­‰äº 0 æ—¶(æ²¡é™åˆ¶åº“å­˜) ä»¥æ´»åŠ¨åº“å­˜ä¸ºä¸»</p><p>ç®€å•åŠŸèƒ½è¯´æ˜</p><table><thead><tr><th>ä¿ƒé”€ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ™®é€šå•†å“</td><td>æ™®é€šå•†å“å«å•†åŸä»·/ä¼šå‘˜ä»·/å†…è´­ä»·,åªæœ‰æ™®é€šå•†å“æ‰èƒ½åˆ‡æ¢ä»·æ ¼ç±»å‹</td></tr><tr><td>é™æ—¶æŠ¢è´­</td><td>é™æ—¶(æŒ‰æ—¶),é™é‡(æŒ‰æ—¥) (å«æ´»åŠ¨ä»·æ ¼,æ´»åŠ¨åº“å­˜,é™è´­æ•°é‡)</td></tr><tr><td>æ»¡å‡</td><td><code>æ»¡è´­xå…ƒ/ä»¶å‡yå…ƒ</code>æˆ– <code>æ»¡è´­xå…ƒ/ä»¶æ‰“yæŠ˜</code></td></tr><tr><td>æ»¡èµ </td><td><code>è´­ä¹°xå…ƒ/ä»¶é€yä»¶èµ å“</code> åŠ  <code>è´­ä¹°xå…ƒ/ä»¶åŠ é€yä»¶èµ å“</code> (å·²å»æ‰èµ å“åº“å­˜)</td></tr><tr><td>ç»„åˆå¥—é¤</td><td>å¤šä¸ªå•†å“ä»·æ ¼å’Œæ•°é‡æ†ç»‘åˆè®¡ (å«å¥—é¤ä»·æ ¼,æ´»åŠ¨åº“å­˜,é™è´­æ•°é‡)</td></tr><tr><td>æ¢è´­</td><td>è¾¾åˆ°æŸä¸ªé‡‘é¢å,å¯ä»¥é€‰æ‹©åŠ é’±æ¢è´­å¤šç§å•†å“ (å«æ¢è´­ä»·æ ¼,æ´»åŠ¨åº“å­˜,æ¢è´­æ•°é‡)</td></tr><tr><td>é¢„å”®</td><td>å•†å“å…ˆæ”¯ä»˜å®šé‡‘,åœ¨æŒ‡å®šæ—¶é—´æ”¯ä»˜å°¾æ¬¾ (å«é¢„å”®é‡‘é¢,å®šé‡‘,æ´»åŠ¨åº“å­˜)</td></tr><tr><td>ç§¯åˆ†å…‘æ¢</td><td>ç§¯åˆ†å…‘æ¢å•†å“ (å«å…‘æ¢åº“å­˜,å…‘æ¢ä»·æ ¼)</td></tr></tbody></table><p>æ”¶é“¶å°/è´­ç‰©è½¦è¯´æ˜:</p><ol><li>ç›®å‰ä¿ƒé”€æ´»åŠ¨è§„åˆ™åªèƒ½æ‰‹åŠ¨é€‰æ‹©</li><li>åŒç§å•†å“åªèƒ½ç”¨ä¸€ä¸ªä¿ƒé”€æ´»åŠ¨,ä¸åŒç§å•†å“å¯ä»¥è®¾ç½®åŒç§ä¸€ä¸ªä¿ƒé”€(æ»¡å‡,æ»¡èµ )</li><li>è®¢å•å¯ä»¥æœ‰å¤šä¸ªä¿ƒé”€æ´»åŠ¨çš„å•†å“</li><li>æ”¹ä»·: åªèƒ½æ”¹æ™®é€šå•†å“çš„ä»·æ ¼,ä¸èƒ½ä¿®æ”¹ä¿ƒé”€å•†å“ä»·æ ¼</li><li>æ·»åŠ ä¼šå‘˜å,å†æ·»åŠ å•†å“é»˜è®¤å¸¦å‡ºå•†å“æœ€ä¼˜ä»·(ä¼šå‘˜ä»·,å†…è´­ä»·)</li><li>æœ‰æ»¡å‡ä¿ƒé”€æ—¶,å…ˆå‡æ»¡å‡é‡‘é¢,å†å‡ä¼˜æƒ åˆ¸é‡‘é¢</li></ol><p>å…¬å¼â€“å•†å“åˆ†æ‘Š(è®¢å•å«æ»¡å‡,ä¼˜æƒ åˆ¸)</p><ol><li>å•†å“ä¿ƒé”€åˆ†æ‘Š = (ä¿ƒé”€é‡‘é¢ Ã· æ€»é‡‘é¢) x å•†å“é‡‘é¢</li><li>å•†å“ä¼˜æƒ åˆ¸åˆ†æ‘Š = (ä¼˜æƒ åˆ¸é‡‘é¢ Ã· æ€»é‡‘é¢) x å•†å“é‡‘é¢</li><li>å•†å“æ”¯ä»˜é‡‘é¢ = å•†å“é‡‘é¢ - æ»¡å‡åˆ†æ‘Š- ä¼˜æƒ åˆ¸åˆ†æ‘Š</li></ol><p>ä¾‹å­:</p><p><img src="/image/retail_core/jisuan.png" alt="jsuan.png"></p><h3 id="webpos-1"><a href="#webpos-1" class="headerlink" title="webpos"></a>webpos</h3><p><code>const goodPromotionRuleList</code> å¤„ç†,è·å–æ‰€æœ‰å•†å“ä¿ƒé”€ç±»å‹</p><p><code>const disposeProductList</code> å¤„ç†å•†å“å­—æ®µ</p><p><code>const disposeBatchNumber</code> å¤„ç†æ‰€æœ‰å•†å“æ‰¹å·åº“å­˜</p><p>è¿‡æ»¤æ¡ä»¶:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> result = <span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;batch_number&#x27;</span>,</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;noPage&#x27;</span>,</span><br><span class="line">  <span class="attr">pageTurn</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">isCount</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;</span><br><span class="line">    store_id,</span><br><span class="line">    <span class="attr">status</span>: <span class="string">&#x27;åˆæ ¼&#x27;</span>,</span><br><span class="line">    <span class="attr">is_delete</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">goods_id</span>: &#123;</span><br><span class="line">      <span class="attr">$in</span>: good_ids_arr.reduce(<span class="function">(<span class="params">p, n</span>) =&gt;</span> p.concat(MAPP.MTypesId(n.toString())), []),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><p><strong>b2c ç«‹å³è´­ä¹°</strong></p><p>æœ€ä¼˜ä¿ƒé”€è§„åˆ™</p><p><strong>å•†å“åˆ—è¡¨</strong></p><p><code>order_total</code> è®¢å•é‡‘é¢ (åº”æ”¶é‡‘é¢)<br><code>pay_total</code> å®ä»˜é‡‘é¢ (å®æ”¶é‡‘é¢)</p><h2 id="é…ç½®æ‰“åŒ…"><a href="#é…ç½®æ‰“åŒ…" class="headerlink" title="é…ç½®æ‰“åŒ…"></a>é…ç½®æ‰“åŒ…</h2><p><strong>æ¡Œé¢åº”ç”¨åŒ…</strong></p><ol><li><p>åœ¨ <code>package.json</code> ä¸­çš„ <code>dependencies</code> æ·»åŠ ä»¥ä¸‹ä¸‰ä¸ªä¾èµ–åŒ…(ç”¨ npm å®‰è£…)<br><code>&quot;electron&quot;: &quot;^12.0.0&quot;,</code><br><code>&quot;electron-devtools-installer&quot;: &quot;^3.1.0&quot;,</code><br><code>&quot;vue-cli-plugin-electron-builder&quot;: &quot;~2.0.0&quot;,</code></p><p>æ‰§è¡Œ electron:build æŠ¥é”™</p><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å¢<code>.npmrc</code> æ–‡ä»¶</p><p>æ·»åŠ <br><code>ELECTRON_MIRROR=https://npm.taobao.org/mirrors/electron/</code></p><p>å…¨å±€å®‰è£… npm install electron -g</p><p>å®‰è£…å¤±è´¥å¤„ç†: <code>npm config set ELECTRON_MIRROR http://npm.taobao.org/mirrors/electron/</code> //é…ç½®å®‰è£…é•œåƒæºåœ°å€<br>æ‰“åŒ…å¤±è´¥å¤„ç†: <code>npm config set ELECTRON_BUILDER_BINARIES_MIRROR https://mirrors.huaweicloud.com/electron-builder-binaries/</code> // é…ç½®æ‰“åŒ…é•œåƒæºåœ°å€</p><p><a href="https://blog.csdn.net/qq_33973359/article/details/105602141">å®‰è£…æºè¯´æ˜</a></p></li><li><p>manifest.json è·¯ç”±é…ç½®<code>history</code>æ”¹æˆ<code>hash</code></p></li><li><p>è¿è¡Œæ‰“åŒ…</p></li></ol><p><code>npm run electron</code> æ‰“åŒ… 64 ä½åº”ç”¨ç¨‹åº<br><code>npm run electron:build32</code> æ‰“åŒ… 32 ä½åº”ç”¨ç¨‹åº</p><h2 id="å•†å“"><a href="#å•†å“" class="headerlink" title="å•†å“"></a>å•†å“</h2><p>è·å–æ‰€æœ‰å•†å“ä¿ƒé”€ç±»å‹ <code>const goodPromotionRuleList</code></p><p>å¤„ç†å•†å“ä¿ƒé”€å­—æ®µæç¤ºåˆå¹¶ç»„åˆå•†å“å’Œèµ å“,æ¢è´­å•†å“(é‡æ–°åŠ è½½å•†å“åˆ—è¡¨) <code>const disposeProductList</code></p><h2 id="é«˜å¾·åœ°å›¾"><a href="#é«˜å¾·åœ°å›¾" class="headerlink" title="é«˜å¾·åœ°å›¾"></a>é«˜å¾·åœ°å›¾</h2><p>å…ˆåˆ›å»º<code>WebæœåŠ¡</code>åº”ç”¨(æ¥å£) <code>Webç«¯</code>åº”ç”¨(é¡µé¢)ä¿å­˜ key å’Œå¯†é’¥</p><h1 id="åº“å­˜"><a href="#åº“å­˜" class="headerlink" title="åº“å­˜"></a>åº“å­˜</h1><p>æ–°é›¶å”®ç›®å‰åº“å­˜å­—æ®µ</p><ol><li><p>å•†å“æ€»åº“å­˜</p><p>å†»ç»“æ•°é‡<code>blocked_stock</code> å ç”¨æ•°é‡ <code>occupy_stock</code> é—¨åº—åº“å­˜<code>stock</code></p><p>å¯é”€åº“å­˜ = é—¨åº—åº“å­˜ - å†»ç»“æ•°é‡ - å ç”¨æ•°é‡</p></li><li><p>æ‰¹å·åº“å­˜ <code>stock</code> å†»ç»“æ•°é‡ <code>blocked_stock</code></p><p>å¯é”€åº“å­˜ = æ‰¹å·åº“å­˜ - å†»ç»“æ•°é‡</p></li></ol><p>webpos åº“å­˜è¯´æ˜:</p><ol><li>ç›®å‰é”€å”®å…ˆå†»ç»“æˆ–å ç”¨æ•°é‡,åŒæ­¥æ—¥æ¸…åæ‰å»æ‰£é™¤æ‰é—¨åº—è´¦é¢åº“å­˜æ•°é‡,å†»ç»“å’Œå ç”¨æ•°é‡</li><li>é¡µé¢æ˜¾ç¤ºçš„åº“å­˜éƒ½æ˜¯<code>å¯é”€åº“å­˜</code></li><li>æŒ‰æ‰¹å·é”€å”®:ç›´æ¥å†»ç»“å•†å“æ‰€åœ¨æ‰¹å·æ•°é‡å’Œå†»ç»“å•†å“æ€»æ•°é‡</li><li>æŒ‰å•†å“é”€å”®:å•†å“é”€å”®è‡ªåŠ¨åˆ†é…æ‰¹å·,å‡ºç°<code>è´Ÿåº“å­˜</code>,æ•°é‡åŠ åœ¨å•†å“<code>å ç”¨æ•°é‡</code>å­—æ®µ</li><li>æ—¥æ¸…ç»“æœ:<br>â‘  æ›´æ–°å•†å“è´¦é¢å’Œæ‰¹å·åº“å­˜<br>â‘¡ æ›´æ–°è®¢å•å•†å“æ‰¹å·æ•°æ®å’Œæ—¥æ¸…çŠ¶æ€<br>â‘¢ æ’å…¥/æ›´æ–°æ–°çš„åº“å­˜æµæ°´è®°å½•</li></ol><h2 id="webpos-é”€å”®"><a href="#webpos-é”€å”®" class="headerlink" title="webpos é”€å”®"></a>webpos é”€å”®</h2><p><strong>æ€»åº“å­˜å­—æ®µ</strong></p><p>æŒ‰å•†å“é”€å”®:</p><p>å¯é”€åº“å­˜ = é—¨åº—è´¦é¢åº“å­˜ - å†»ç»“æ•°é‡ - å ç”¨æ•°é‡</p><table><thead><tr><th align="center">ä¾‹å­</th><th align="center">å•†å“ A</th><th align="center">æ‰¹å· 1</th><th align="center">æ‰¹å· 2</th><th align="center">æ•°æ®(è¡Œ)</th></tr></thead><tbody><tr><td align="center">åº“å­˜(ä»¶)</td><td align="center">15</td><td align="center">10</td><td align="center">5</td><td align="center"></td></tr><tr><td align="center">1. é”€å”® 10</td><td align="center">å†»ç»“:10,å¯é”€:5</td><td align="center">å†»ç»“:10,å¯é”€:0</td><td align="center">å†»ç»“:0,å¯é”€:5</td><td align="center">A1 x 10</td></tr><tr><td align="center">2. é”€å”® 12</td><td align="center">å†»ç»“:12,å¯é”€:3</td><td align="center">å†»ç»“:10,å¯é”€:0</td><td align="center">å†»ç»“:2,å¯é”€:3</td><td align="center">A1 x 10 <br> A2 x 2</td></tr><tr><td align="center">3. é”€å”® 20(è´Ÿ)</td><td align="center">å†»ç»“ 15,å¯é”€:0,å ç”¨:5</td><td align="center">å†»ç»“:10,å¯é”€:0</td><td align="center">å†»ç»“:5,å¯é”€:0</td><td align="center">A1 x 10 <br> A2 x 5 <br> A (ç©º) x 5</td></tr></tbody></table><p><u>å¸¦ä¸‹åˆ’çº¿çš„æ–‡æœ¬</u></p><p>é—¨åº—å•†å“æ‰¹å·åº“å­˜æŸ¥è¯¢<br><code>circulation_record</code></p><p>å°è£…æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ æ‰¹å·åº“å­˜è®°å½•</span></span><br><span class="line"><span class="keyword">await</span> addCirculationRecord(&#123;</span><br><span class="line">  <span class="attr">good_id</span>: commodity._id,</span><br><span class="line">  <span class="attr">batch_id</span>: batch_one ? batch_one._id : <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">quantity</span>: TRANSIT_QUANTITY,</span><br><span class="line">  <span class="attr">receipt_number</span>: PUT_NUMBER,</span><br><span class="line">  <span class="attr">receipt_type</span>: <span class="string">&#x27;c&#x27;</span>, <span class="comment">// å•æ®ç±»å‹ aå…¥åº“ bé”€å”® cé—¨åº—è°ƒæ‹¨ dé€€åº“ eåˆè£… fç›˜ç‚¹ gé€€æ¬¾ hå–æ¶ˆè®¢å•</span></span><br><span class="line">  operator = <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  operator_id = <span class="literal">null</span>,</span><br><span class="line">  store_id</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰£å•†å“åº“å­˜</span></span><br><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123; <span class="attr">_id</span>: commodity._id, <span class="string">&#x27;distributed.store_id&#x27;</span>: pick_store._id &#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123; <span class="attr">$inc</span>: &#123; <span class="string">&#x27;distributed.$.stock&#x27;</span>: inc_stock &#125; &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>åº“å­˜æ‰¹å·åº“å­˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">     <span class="attr">model</span>: <span class="string">&#x27;batch_number&#x27;</span>,</span><br><span class="line">     <span class="attr">condition</span>: &#123;</span><br><span class="line">       <span class="attr">_id</span>: batch_one._id</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="attr">data</span>: &#123;</span><br><span class="line">       <span class="attr">$inc</span>: &#123;</span><br><span class="line">         <span class="attr">stock</span>: inc_stock</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><h2 id="åº“å­˜å•æ®"><a href="#åº“å­˜å•æ®" class="headerlink" title="åº“å­˜å•æ®"></a>åº“å­˜å•æ®</h2><p>å•æ®ä¿æŠ¤:å®¡æ ¸å‰æ˜¯å¦ä¿®æ”¹åŸå•æ•°æ®</p><p>åªè¦æœ‰ä»»ä¸€æ€»éƒ¨è´¦å·è¿›å…¥å®¡æ ¸é¡µé¢ï¼Œå‡è§¦å‘å•æ®ä¿æŠ¤</p><p><code>data_protection</code> è¯·è´§å• ç›˜ç‚¹å• é…é€å• é€€åº“å•</p><p>æ˜¯å¦å®¡æ ¸: æ€»åº—æ˜¯å¦å¯å®¡æ ¸å…¶ä»–é—¨åº—å•æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Â  Â  <span class="comment">// ç›˜ç‚¹å•æ˜¯å¦éœ€å®¡æ ¸</span></span><br><span class="line">Â  Â  <span class="attr">check_need_audit</span>: &#123; <span class="attr">type</span>: <span class="built_in">Boolean</span>, <span class="attr">default</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">Â  Â  <span class="comment">// è¯·è´§å•æ˜¯å¦éœ€å®¡æ ¸</span></span><br><span class="line">Â  Â  <span class="attr">apply_lading_need_audit</span>: &#123; <span class="attr">type</span>: <span class="built_in">Boolean</span>, <span class="attr">default</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">Â  Â  <span class="comment">// æ‰‹å½•å…¥åº“å•æ˜¯å¦éœ€å®¡æ ¸</span></span><br><span class="line">Â  Â  <span class="attr">warehousing_need_audit</span>: &#123; <span class="attr">type</span>: <span class="built_in">Boolean</span>, <span class="attr">default</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">Â  Â  <span class="comment">// é—¨åº—é€€åº“å•æ˜¯å¦éœ€å®¡æ ¸</span></span><br><span class="line">Â  Â  <span class="attr">refund_lading_need_audit</span>: &#123; <span class="attr">type</span>: <span class="built_in">Boolean</span>, <span class="attr">default</span>: <span class="literal">true</span> &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç›˜ç‚¹å•"><a href="#ç›˜ç‚¹å•" class="headerlink" title="ç›˜ç‚¹å•"></a>ç›˜ç‚¹å•</h3><p>è¯´æ˜:</p><ol><li>å®Œæˆç›˜ç‚¹å•å,éœ€è¦åˆ¤æ–­æ˜¯å¦éœ€è¦å®¡æ ¸</li><li>å¦‚éœ€è¦å®¡æ ¸,ç”±ä¸­å°æ€»åº—å®¡æ ¸å’Œå¹³è´¦åº“å­˜</li><li>å¦‚æ— éœ€å®¡æ ¸,åˆ™åº—å‘˜ç«¯è‡ªåŠ¨å®¡æ ¸é€šè¿‡å¹¶è‡ªåŠ¨å¹³è´¦åº“å­˜</li><li>å®¡æ ¸é€šè¿‡åæ‰ä¼šæ¨é€(æ¯ 2 åˆ†é’Ÿ)</li></ol><h3 id="è¯·è´§å•"><a href="#è¯·è´§å•" class="headerlink" title="è¯·è´§å•"></a>è¯·è´§å•</h3><p>è¯´æ˜:</p><ol><li>å­é—¨åº—å‘å­é—¨åº—è¯·è´§,ä¸æ¨é€ erp,ç”±å­é—¨åº—å¤„ç†</li><li>å­é—¨åº—å‘æ€»éƒ¨è¯·è´§,æ¨é€ erp,ç”± erp åŒæ­¥æ¥å£å‡ºåº“å• (æ¯ 2 åˆ†é’ŸåŒæ­¥ä¸€æ¬¡)</li><li>è¯·è´§å•å¯ä»¥é…ç½®æ˜¯å¦éœ€è¦å®¡æ ¸</li></ol><p>åº—å‘˜ç«¯:</p><p>A é—¨åº—â€”&gt;B é—¨åº—</p><p>A é—¨åº— å‘ B é—¨åº—è¯·è´§</p><p>ä¸€ ã€è¯·è´§æµç¨‹:</p><ol><li>é€‰æ‹©å‘è´§é—¨åº—</li><li>æ·»åŠ è¯·è´§å•†å“</li><li>è®¾ç½®å•†å“è¯·è´§æ•°é‡</li><li>æäº¤è¯·è´§å•</li><li>å®¡æ ¸è¯·è´§å•(å¦‚å®¡æ ¸é©³å›å¯ä»¥ä¿®æ”¹åé‡æ–°æäº¤)</li></ol><p>äºŒ ã€å‡ºåº“æµç¨‹ (å­é—¨åº—ä¹‹é—´)</p><ol><li>B é—¨åº—ç”Ÿæˆæ‹£è´§ä»»åŠ¡ (æ€»éƒ¨æ²¡æœ‰ç”Ÿæˆæ‹£è´§ä»»åŠ¡)</li><li>è·å–æ ¹æ®è¯·è´§å•å•†å“</li><li>é€‰æ‹©å•†å“æ‰¹å·å’Œè®¾ç½®æ•°é‡(å­é—¨åº—éœ€è¦å†»ç»“åº“å­˜)</li><li>ç¡®è®¤å‡ºåº“ (å‡å°‘è´¦é¢åº“å­˜)</li><li>A é—¨åº—ç”Ÿæˆæ”¶è´§ä»»åŠ¡</li></ol><p>ä¸‰ ã€æ”¶è´§æµç¨‹</p><ol><li>å­é—¨åº—ä¹‹é—´,å‡ºåº“æ•°é‡ç­‰äºæ”¶è´§æ•°é‡</li><li>æ€»åº“å‡ºåº“,å­é—¨åº—æ”¶è´§å¯ä»¥ä¸ç­‰äºå‡ºåº“æ•°é‡</li></ol><h3 id="å‡ºåº“å•"><a href="#å‡ºåº“å•" class="headerlink" title="å‡ºåº“å•"></a>å‡ºåº“å•</h3><p>è¯´æ˜:</p><ol><li>æ–°é›¶å”®å‡ºåº“å•æœ‰å…³è”è¯·è´§å•</li><li>erp å‡ºåº“å•å¯ä»¥ä¸å…³è”è¯·è´§å•</li></ol><h1 id="ä»·æ ¼"><a href="#ä»·æ ¼" class="headerlink" title="ä»·æ ¼"></a>ä»·æ ¼</h1><p>æ–°é›¶å”®ç›®å‰å•†å“ä»·æ ¼: æ™®é€šä»·(é›¶å”®ä»·/ç°ä»·) ä¼šå‘˜ä»· ä»˜è´¹ä¼šå‘˜ä»· å†…è´­ä»· (å››ç§)</p><p>æ³¨æ„:</p><ol><li>è‹¥çº¿ä¸‹é›¶å”®ä»·ä¸º 0 æ—¶,ç”¨çº¿ä¸Šé›¶å”®ä»·</li><li>ä¼šå‘˜ä»·åŒ…æ‹¬å•†åŸä¼šå‘˜ä»·(å…è´¹),ä»˜è´¹ä¼šå‘˜ä»·</li><li>å†…è´­ä»·é’ˆå¯¹èŒå·¥å†…éƒ¨(èŒå·¥è´¦å·ä¸ä¼šå‘˜æ‰‹æœºå·ä¸€è‡´åˆ™äº«å—å†…è´­ä»·)</li></ol><p>è®¾ç½®ç­‰çº§ä¼šå‘˜ä»·</p><ol><li>æƒç›Šä¸­å¿ƒå¿…é¡»å¼€å¯</li><li>è®¾ç½®å•†å“æŠ˜æ‰£å­—æ®µ (æŠ˜æ‰£å¤§äº 0)</li></ol><p><code>current_price</code> é›¶å”®ä»·ï¼ˆçº¿ä¸Šï¼‰<br><code>current_price_offline</code> é›¶å”®ä»·ï¼ˆçº¿ä¸‹ï¼‰<br><code>staff_price</code> å†…è´­ä»·<br><code>member_price</code> ä¼šå‘˜ä»·<br><code>paid_price</code> plus ä¼šå‘˜ä»·</p><h2 id="ä¼šå‘˜ä»·"><a href="#ä¼šå‘˜ä»·" class="headerlink" title="ä¼šå‘˜ä»·"></a>ä¼šå‘˜ä»·</h2><p>è¯´æ˜:</p><ol><li>æ™®é€šä¼šå‘˜ä¼˜å…ˆçº§: å•†å“æŒ‡å®šä»· &gt; å…¶å®ƒç­‰çº§å•†å“æŠ˜æ‰£</li><li>æŠ˜æ‰£å€¼èŒƒå›´: 0 &lt; æŠ˜æ‰£ &lt; 10</li><li>ä¼šå‘˜ä»·è®¡ç®—: ä¼šå‘˜ä»· = é›¶å”®ä»· x æŠ˜æ‰£ x 0.1</li><li>ä¼šå‘˜ä»·æœ‰å¯èƒ½ä¼šå¤§äºé›¶å”®ä»·</li><li>ä¼˜æƒ é‡‘é¢: é›¶å”®ä»· - ä¼šå‘˜ä»· (å¯æ­£å¯è´Ÿ)</li></ol><p>ä¾‹å­:<br>A å•†å“ 10 å…ƒ,äº«æŠ˜æ‰£å…«æŠ˜<br>ä¼šå‘˜ä»·: 10x8x0.1=8(å…ƒ)</p><p><code>member_price</code> æ™®é€šä¼šå‘˜ä»·å•†å“è¡¨(æŒ‡å®š)</p><p><code>mall_member</code> æ™®é€šä¼šå‘˜ç­‰çº§è¡¨</p><p>å­—æ®µç»“æ„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;member_benefits&quot;</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;type&quot;</span> : <span class="string">&quot;discount&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;number&quot;</span> : <span class="number">8</span>,</span><br><span class="line">        <span class="string">&quot;key_ids&quot;</span> : [],</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;63f85eca8cd8ed367bb1aa97&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// è·å–æ–¹æ³•</span></span><br><span class="line"> <span class="comment">// æ™®é€šä¼šå‘˜ä»·</span></span><br><span class="line">  <span class="keyword">const</span> &#123; member_price = <span class="number">0</span>, is_member &#125; = <span class="keyword">await</span> getMemberPrice(&#123; <span class="attr">current_price</span>: commodity.current_price, user_id &#125;)</span><br><span class="line">  commodity.member_price = member_price</span><br><span class="line">  commodity.is_member = is_member</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ‰¹é‡ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> memberGoods(&#123; <span class="attr">pageTurn</span>: <span class="literal">false</span>, <span class="attr">good_list</span>: result, store_id, user_id &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="plus-ä¼šå‘˜ä»·"><a href="#plus-ä¼šå‘˜ä»·" class="headerlink" title="plus ä¼šå‘˜ä»·"></a>plus ä¼šå‘˜ä»·</h2><p>è¯´æ˜:</p><ol><li>plus ä¼šå‘˜ä¼˜å…ˆçº§: å•†å“æŒ‡å®šä»·&gt; ä¸“å±å•†å“æŠ˜æ‰£ &gt; å…¶å®ƒå•†å“æŠ˜æ‰£</li><li>æŠ˜æ‰£å€¼èŒƒå›´: 0 &lt; æŠ˜æ‰£ &lt; 10</li><li>ä¼šå‘˜ä»·è®¡ç®—: ä¼šå‘˜ä»· = é›¶å”®ä»· x æŠ˜æ‰£ x 0.1</li></ol><p><code>paid_price</code> ä»˜è´¹ä¼šå‘˜ä»·å•†å“è¡¨(æŒ‡å®š)</p><p><code>paid_member</code> ä»˜è´¹ plus ä¼šå‘˜è¡¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;member_benefits&quot;</span> : [</span><br><span class="line">    <span class="comment">//ä¸“å±å•†å“æŠ˜æ‰£</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;type&quot;</span> : <span class="string">&quot;exclusive_merchandise&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span> : <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;number&quot;</span> : <span class="number">7</span>,</span><br><span class="line">      <span class="comment">//ä¸“å±å•†å“æŠ˜æ‰£</span></span><br><span class="line">      <span class="string">&quot;key_ids&quot;</span> : [</span><br><span class="line">        ObjectId(<span class="string">&quot;58805dd61d8bdc9c56cc3e31&quot;</span>),</span><br><span class="line">        ObjectId(<span class="string">&quot;58805dd61d8bdc9c56cc3e32&quot;</span>),</span><br><span class="line">      ],</span><br><span class="line">      <span class="comment">//æŒ‡å®šå•†å“ä»·</span></span><br><span class="line">      <span class="string">&quot;goods_ids&quot;</span> : [</span><br><span class="line">        ObjectId(<span class="string">&quot;58805dd61d8bdc9c56cc3e3c&quot;</span>),</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;63f7139568a92829840ec51a&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">//å…¶å®ƒå•†å“æŠ˜æ‰£</span></span><br><span class="line">      <span class="string">&quot;type&quot;</span> : <span class="string">&quot;discount&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span> : <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;number&quot;</span> : <span class="number">8</span>,</span><br><span class="line">      <span class="string">&quot;key_ids&quot;</span> : [],</span><br><span class="line">      <span class="string">&quot;goods_ids&quot;</span> : [],</span><br><span class="line">      <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;63f7139568a92829840ec518&quot;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–æ–¹æ³•</span></span><br><span class="line"><span class="keyword">const</span> obj = <span class="keyword">await</span> getPaidPrice(&#123; <span class="attr">current_price</span>: commodity.current_price, user_id &#125;, ctx)</span><br><span class="line">commodity.paid_price = obj.paid_price</span><br><span class="line">commodity.is_paid = obj.is_paid</span><br></pre></td></tr></table></figure><h2 id="å†…è´­ä»·"><a href="#å†…è´­ä»·" class="headerlink" title="å†…è´­ä»·"></a>å†…è´­ä»·</h2><p>è¯´æ˜:</p><ol><li>å†…è´­ä»·: å•†å“æŒ‡å®šä»· &gt; ä¸“å±å•†å“æŠ˜æ‰£</li><li>æŠ˜æ‰£å€¼èŒƒå›´: 0 &lt; æŠ˜æ‰£ &lt; 10</li><li>å†…è´­ä»·è®¡ç®—: å†…è´­ä»· = é›¶å”®ä»· x æŠ˜æ‰£ x 0.1</li></ol><p><code>staff_price</code> å†…è´­ä»·å•†å“è¡¨(æŒ‡å®š)</p><p><code>staff_member</code> å†…è´­è§„åˆ™è¡¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;member_benefits&quot;</span> : [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// ä¸“å±å•†å“</span></span><br><span class="line">        <span class="string">&quot;type&quot;</span> : <span class="string">&quot;exclusive_merchandise&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span> : <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;number&quot;</span> : <span class="number">8</span>,</span><br><span class="line">        <span class="comment">// å•†å“æŠ˜æ‰£</span></span><br><span class="line">        <span class="string">&quot;key_ids&quot;</span> : [</span><br><span class="line">            ObjectId(<span class="string">&quot;58805dd61d8bdc9c56cc3e2d&quot;</span>),</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// å•†å“æŒ‡å®šä»·</span></span><br><span class="line">        <span class="string">&quot;goods_ids&quot;</span> : [</span><br><span class="line">            ObjectId(<span class="string">&quot;58805dd61d8bdc9c56cc3e31&quot;</span>),</span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;_id&quot;</span> : ObjectId(<span class="string">&quot;64ebf7a08656fa4768ad1e7a&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">],</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è®¢å•"><a href="#è®¢å•" class="headerlink" title="è®¢å•"></a>è®¢å•</h1><h1 id="å®¢æœ"><a href="#å®¢æœ" class="headerlink" title="å®¢æœ"></a>å®¢æœ</h1><p>è¯´æ˜:</p><ol><li>æŒ‰é—¨åº—åŒ¹é…</li></ol><h2 id="è°ƒåº¦"><a href="#è°ƒåº¦" class="headerlink" title="è°ƒåº¦"></a>è°ƒåº¦</h2><p>è‡ªåŠ¨è°ƒåº¦è¯´æ˜(å®šæ—¶å™¨)</p><ol><li>å¼€å¯è‡ªåŠ¨è°ƒåº¦é…ç½®,è®¾ç½®æ— å“åº”æ—¶é—´</li><li>æ‰€æœ‰æœªæ¥å…¥çš„å¯¹è¯ (æœ‰å¯¹è¯è¿‡çš„)</li><li>å¯¹è¯æ›´æ–°æ—¶é—´å°äº(å½“å‰æ—¶é—´ - æ— å“åº”æ—¶é—´)</li></ol><h2 id="å•†å“-1"><a href="#å•†å“-1" class="headerlink" title="å•†å“"></a>å•†å“</h2><p><code>product_list</code></p><p>å•ä¸ªå•†å“ä»·æ ¼:<br><code>price</code>ï¼šé›¶å”®ä»·<br><code>cypher_price</code> : æ™®é€šä»·(é›¶å”®ä»·/ä¼šå‘˜ä»·/plus ä»·/å†…è´­ä»·)<br><code>reduction_number</code>: æ»¡å‡æŠµæ‰£é‡‘é¢<br><code>coupon_number</code>: ä¼˜æƒ åˆ¸æŠµæ‰£é‡‘é¢<br><code>member_number</code>: ä¼šå‘˜æŠµæ‰£é‡‘é¢<br><code>integral_price</code>: ç§¯åˆ†æŠµæ‰£é‡‘é¢<br><code>final_price</code> æœ€ç»ˆä»·æ ¼(å®é™…æ”¯ä»˜ä»·æ ¼)</p><p>è¾¾åˆ°æ»¡å‡æ¡ä»¶ä¸º:</p><ol><li>æ»¡å‡æ´»åŠ¨å•†å“å®é™…æ”¯ä»˜æ€»ä»· &gt;= æ»¡å‡é—¨æ§›è§„åˆ™é‡‘é¢</li><li>æ»¡å‡æ´»åŠ¨å•†å“æ€»ä»¶æ•° &gt;= æ»¡å‡é—¨æ§›ä»¶æ•°</li></ol><p>æ»¡å‡æ»¡è¶³é‡‘é¢ä¸ºæ™®é€šå•†å“<code>cypher_price</code>è®¡ç®—åˆ¤æ–­</p><p>ä¼˜æƒ åˆ¸å¯ç”¨æ¡ä»¶ä¸º: æ€»å•†å“å®é™…æ”¯ä»˜æ€»ä»· - æ»¡å‡é‡‘é¢ &gt;= ä¼˜æƒ åˆ¸é—¨æ§›é‡‘é¢</p><p>ä»·æ ¼è®¡ç®—</p><p>æ™®é€šä»· = é›¶å”®ä»· - æŠ˜æ‰£é‡‘é¢ - æ”¹ä»·é‡‘é¢</p><p><code>cypher_price</code> = <code>price</code> - <code>member_number</code> - <code>change_number</code></p><p>æ”¯ä»˜ä»· = æ™®é€šä»· - æ»¡å‡é‡‘é¢ - ä¼˜æƒ åˆ¸é‡‘é¢ - ç§¯åˆ†æŠµæ‰£é‡‘é¢</p><p><code>final_price</code> = <code>cypher_price</code> - <code>reduction_number</code> - <code>coupon_number</code> - <code>integral_price</code></p><p><code>æ³¨</code>:</p><ol><li>å¦‚æŠµæ‰£é‡‘é¢(ä¼˜æƒ é‡‘é¢å°äº 0.01 å…ƒ)æŒ‰ 0 å…ƒè®¡ç®—</li><li>webpos è¾¾åˆ°æ»¡å‡æ¡ä»¶ä¸º: æ»¡å‡æ´»åŠ¨å•†å“é›¶å”®ä»·æ€»ä»· &gt;= æ»¡å‡é—¨æ§›è§„åˆ™é‡‘é¢</li></ol><h1 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h1><p>å‹å· :Xprinter 58</p><h2 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h2><p>æ˜“è¯­è¨€å®‰è£…ä¸ç ´è§£è¯´æ˜ï¼š<br>ä¸€ã€è§£å‹åï¼Œå…ˆå®‰è£…æ˜“è¯­è¨€ 5.9 å®˜æ–¹æ­£å¼ç‰ˆ<br>äºŒã€å°†æ˜“è¯­è¨€ 5.92 ç‰ˆå‡çº§åŒ…é‡Œé¢çš„æ–‡ä»¶å¤åˆ¶åˆ°å®‰è£…ç›®å½•<br>ä¸‰ã€å°†æ˜“è¯­è¨€ 5.92 ç ´è§£è¡¥ä¸é‡Œé¢çš„â€œe.exeâ€å¤åˆ¶åˆ°å®‰è£…ç›®å½•<br>å››ã€å¯ä»¥é€‰æ‹©å®‰è£…æ˜“è¯­è¨€åŠ©æ‰‹<br>äº”ã€å¦‚æœå‡ºç°é™æ€è¿æ¥å¤±è´¥ï¼Œè¯·ä½¿ç”¨â€œæ˜“è¯­è¨€é™æ€è¿æ¥å¤±è´¥æ™ºèƒ½ä¿®å¤å™¨ v1.2.exeâ€è¿›è¡Œä¿®å¤</p><p>å¼€é’±ç®±æºç </p><p>.ç‰ˆæœ¬ 2<br>.æ”¯æŒåº“ eAPI</p><p>.ç¨‹åºé›† ç¨‹åºé›† 1</p><p>.å­ç¨‹åº _å¯åŠ¨å­ç¨‹åº, æ•´æ•°å‹, , æœ¬å­ç¨‹åºåœ¨ç¨‹åºå¯åŠ¨åæœ€å…ˆæ‰§è¡Œ<br>.å±€éƒ¨å˜é‡ hPrinter, æ•´æ•°å‹<br>.å±€éƒ¨å˜é‡ pd, PRINTER_DEFAULTS<br>.å±€éƒ¨å˜é‡ å­—ç¬¦ä¸², å­—èŠ‚å‹, , â€œ5â€</p><p>å­—ç¬¦ä¸² ï¼ { 27, 112, 0, 128, 128 } â€˜ æ‰“å°æœºæŒ‡ä»¤<br>OpenPrinter (å–é»˜è®¤æ‰“å°æœº (), hPrinter, pd)<br>StartDocPrinterA (hPrinter, 1, pd)<br>StartPagePrinter (hPrinter)<br>WritePrinter (hPrinter, å­—ç¬¦ä¸², 5, 0)<br>ClosePrinter (hPrinter)<br>â€˜ è°ƒè¯•è¾“å‡º (OpenPrinter (å–é»˜è®¤æ‰“å°æœº (), hPrinter, pd))<br>â€˜ è°ƒè¯•è¾“å‡º (hPrinter)<br>â€˜ è°ƒè¯•è¾“å‡º (StartDocPrinterA (hPrinter, 1, pd))<br>â€˜ è°ƒè¯•è¾“å‡º (StartPagePrinter (hPrinter))<br>â€˜ è°ƒè¯•è¾“å‡º (WritePrinter (hPrinter, å­—ç¬¦ä¸², 5, 0))<br>â€˜ è°ƒè¯•è¾“å‡º (ClosePrinter (hPrinter))<br>è¿”å› (0) â€˜ å¯ä»¥æ ¹æ®æ‚¨çš„éœ€è¦è¿”å›ä»»æ„æ•°å€¼</p><p>å…¶ä»–æ‰“å°æœºå¼€é’±ç®±æŒ‡ä»¤</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">Axionhm A715 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">48</span>,<span class="number">251</span></span><br><span class="line">Axionhm A756 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">48</span>,<span class="number">251</span></span><br><span class="line">Axionhm A794 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">48</span>,<span class="number">251</span></span><br><span class="line">Bixolon SRP-<span class="number">275</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson All <span class="number">27</span>,<span class="number">121</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson M51PD <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson TM-T60 <span class="number">27</span>,<span class="number">112</span>,<span class="number">32</span>,<span class="number">25</span></span><br><span class="line">Epson TM-L60II <span class="number">27</span>,<span class="number">70</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">50</span></span><br><span class="line">Epson TM-T70 <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson T88iii <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U200D <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson T88iiiP <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">64</span>,<span class="number">240</span></span><br><span class="line">Epson TM-U200D <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">64</span>,<span class="number">240</span></span><br><span class="line">Epson TM-88IV <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson TM-88V <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson M188D <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson M192C <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson TM-U200 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U200B <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U200D <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">64</span>,<span class="number">240</span></span><br><span class="line">Epson TM-U210PD <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U210-D <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U220A <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U220PD <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U295 <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Epson ADP-<span class="number">300</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-300D <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U950P <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U300PD <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U325D <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U375 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson M665A <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">250</span></span><br><span class="line">Epson TM-T883P <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">250</span></span><br><span class="line">Epson TM-U950P <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">250</span></span><br><span class="line">Epson TM-H500II <span class="number">27</span>,<span class="number">113</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Epson TM-H6000 <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">IBM <span class="number">4610</span> <span class="number">7</span></span><br><span class="line">IBM <span class="number">4611</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">50</span>,<span class="number">250</span></span><br><span class="line">Ithaca PcOS-<span class="number">51</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Ithaca PcOS-<span class="number">52</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Ithaca PcOSjet <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Ithaca <span class="number">80</span>-PLUS <span class="number">27</span>,<span class="number">120</span>,<span class="number">1</span></span><br><span class="line">Ithaca SERIES-<span class="number">90</span> <span class="number">27</span>,<span class="number">120</span>,<span class="number">1</span></span><br><span class="line">Ithaca <span class="number">150</span> <span class="number">27</span>,<span class="number">120</span>,<span class="number">1</span></span><br><span class="line">Ithaca POSjet-<span class="number">1000</span> <span class="number">27</span>,<span class="number">120</span>,<span class="number">1</span></span><br><span class="line">NCR <span class="number">7167</span> <span class="number">27</span>,<span class="number">120</span>,<span class="number">1</span></span><br><span class="line">Oliveti PRT-<span class="number">100</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Pos-X XR-<span class="number">200</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Pos-X XR-<span class="number">500</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Posiflex CR-<span class="number">4200</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">80</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Posiflex AURA-<span class="number">5600</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Posiflex PP6000 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Posiflex PP7000 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Samsung SRP-<span class="number">131</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">48</span>,<span class="number">50</span></span><br><span class="line">Samsung SRP-<span class="number">270</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Samsung SRP-270A <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">64</span>,<span class="number">240</span></span><br><span class="line">Samsung SRP-<span class="number">270</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">48</span>,<span class="number">55</span>,<span class="number">121</span></span><br><span class="line">Samsung SRP-<span class="number">350</span> <span class="number">27</span>,<span class="number">110</span>,<span class="number">0</span>,<span class="number">25</span>,<span class="number">250</span></span><br><span class="line">Star All <span class="number">27</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">55</span>,<span class="number">7</span></span><br><span class="line">Star TSP <span class="number">100</span> <span class="number">7</span></span><br><span class="line">Star SP212 <span class="number">27</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">55</span>,<span class="number">7</span></span><br><span class="line">Star TSP200 <span class="number">27</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">55</span>,<span class="number">7</span></span><br><span class="line">Star SP500 <span class="number">27</span>,<span class="number">122</span>,<span class="number">49</span>,<span class="number">7</span></span><br><span class="line">Star TSP-<span class="number">600</span> <span class="number">27</span>,<span class="number">7</span>,<span class="number">10</span>,<span class="number">50</span>,<span class="number">7</span></span><br><span class="line">Star TSP-<span class="number">700</span> <span class="number">27</span>,<span class="number">07</span>,<span class="number">11</span>,<span class="number">55</span>,<span class="number">07</span></span><br><span class="line">Star SP2000 <span class="number">27</span>,<span class="number">122</span>,<span class="number">49</span>,<span class="number">7</span></span><br><span class="line">Tec RKP300 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">250</span></span><br><span class="line">Tec TRST-<span class="number">53</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">250</span></span><br><span class="line">Toshiba SX2100 <span class="number">27</span>,<span class="number">112</span>,<span class="number">32</span>,<span class="number">55</span>,<span class="number">255</span></span><br><span class="line">Toshiba Tec-DRJST-<span class="number">51</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">250</span></span><br><span class="line">Unisys EF4272 <span class="number">27</span>,<span class="number">112</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">250</span></span><br><span class="line">Wasp WTP-<span class="number">100</span> <span class="number">27</span>,<span class="number">112</span>,<span class="number">49</span>,<span class="number">48</span>,<span class="number">48</span></span><br></pre></td></tr></table></figure><h1 id="é¡¹ç›®éœ€æ±‚"><a href="#é¡¹ç›®éœ€æ±‚" class="headerlink" title="é¡¹ç›®éœ€æ±‚"></a>é¡¹ç›®éœ€æ±‚</h1><h2 id="è£•åˆ›"><a href="#è£•åˆ›" class="headerlink" title="è£•åˆ›"></a>è£•åˆ›</h2><p>å­—æ®µ</p><ol><li>ä¼šå‘˜è¡¨<code>member</code>å¢åŠ é—¨åº— <code>store_ids</code> å…³è”</li><li>å¹³å°é…ç½®<code>platform_deploy</code><br>æ€»éƒ¨æ´¾é€,ä¸é™åˆ¶é—¨åº—åº“å­˜<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaScript</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="comment">// é—¨åº—ç¼ºè´§ç”±æ€»éƒ¨æ´¾é€ï¼ˆè£•åˆ›280å¢åŠ ï¼‰</span></span><br><span class="line"> <span class="attr">head_office_delivery</span>: &#123; <span class="attr">type</span>: <span class="built_in">Boolean</span>, <span class="attr">default</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  <span class="comment">// é—¨åº—ä¼šå‘˜è®¿é—®æƒé™ï¼ˆè£•åˆ›280å¢åŠ ï¼‰ 0 æ‰€æœ‰é—¨åº— 1 ä»…é™è®¿é—®å…³è”åŠ ç›Ÿåº—</span></span><br><span class="line">  <span class="attr">allow_stores</span>: &#123; <span class="attr">type</span>: <span class="built_in">Number</span>, <span class="attr">default</span>: <span class="number">0</span> &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>é—¨åº—è¡¨<code>store</code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     <span class="comment">// é—¨åº—ç±»å‹ 0 è‡ªè¥åº—  1 åŠ ç›Ÿåº—</span></span><br><span class="line"> <span class="attr">store_type</span>: &#123; <span class="attr">type</span>: <span class="built_in">Number</span>, <span class="attr">default</span>: <span class="number">0</span> &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>è®¢å•è¡¨ <code>order_library</code></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// å•†å“åˆ—è¡¨</span></span><br><span class="line">  <span class="attr">product_list</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// è°ƒè´§é—¨åº—erpå†…ç </span></span><br><span class="line">      <span class="attr">erp_code</span>: &#123; <span class="attr">type</span>: <span class="built_in">String</span>, <span class="attr">default</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–å“å¹³å°é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> platform_deploy = <span class="keyword">await</span> MAPP.db_getOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;platform_deploy&#x27;</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è°ƒç”¨æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaScript</span></span><br><span class="line"><span class="keyword">const</span> &#123; headStoreGood &#125; = <span class="built_in">require</span>(<span class="string">&#x27;../commodity/_methods&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">stock</span>: _stock = <span class="number">0</span>, <span class="attr">store_id</span>: _store_id = <span class="string">&#x27;&#x27;</span> &#125; = <span class="keyword">await</span> headStoreGood(&#123; <span class="attr">goods_id</span>: product_id, store_id &#125;)</span><br><span class="line"><span class="comment">// å½“å‰é—¨åº—æ˜¯æ€»éƒ¨</span></span><br><span class="line"><span class="keyword">if</span> (_store_id.toString() === store_id.toString()) &#123;</span><br><span class="line">  _stock = <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">storeCommodity.stock = MAPP.plus(storeCommodity.stock, _stock)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<br>1ã€æ¶ˆè´¹è€…å¦‚æœåªå…³è”åŠ ç›Ÿåº—ï¼Œä¸”å¹³å°é…ç½®å¼€å¯äº†ã€ä»…é™è®¿é—®å…³è”åŠ ç›Ÿã€‘ï¼ˆåŸã€ä»…è®¿é—®å…³è”é—¨åº—ã€‘ï¼‰ï¼Œé‚£ä¹ˆè¯¥æ¶ˆè´¹è€…åªèƒ½è®¿é—®å…³è”çš„åŠ ç›Ÿåº—ï¼Œä¸å¯è®¿é—®ç›´è¥åº—å’Œæ€»åº—ã€‚<br>2ã€æ¶ˆè´¹è€…å¦‚æœå…³è”äº†ä»»æ„ç›´è¥åº—ï¼Œåˆ™å¯è®¿é—®æ€»åº—ã€å…¶ä»–ä»»ä½•ç›´è¥åº—å’Œå·²ç»å…³è”çš„åŠ ç›Ÿåº—ã€‚<br>3ã€å¹³å°é…ç½®åŒæ—¶å¼€å¯ã€ä»…é™è®¿é—®å…³è”åŠ ç›Ÿã€‘å’Œã€ç™»å½•æ—¶é€‰æ‹©é…é€æ–¹å¼ã€‘æ—¶ï¼Œã€ç™»å½•æ—¶é€‰æ‹©é…é€æ–¹å¼ã€‘çš„å¼¹çª—ä»¥æ¶ˆè´¹æ˜¯å¦å…³è”äº†ç›´è¥åº—ä¸ºåˆ¤æ–­ä¾æ®ã€‚<br>1ï¼‰å¦‚æœæ¶ˆè´¹è€…ä»…å…³è”åŠ ç›Ÿåº—ï¼Œç™»å½•æ—¶å¼¹çª—ä¸éœ€è¦æ˜¾ç¤ºï¼Œä¸”ä¸é™åˆ¶å¯è§†é—¨åº—è·ç¦»ï¼Œå¹¶ç›´æ¥è¿›å…¥å·²å…³è”çš„æœ€è¿‘åŠ ç›Ÿåº—ã€‚<br>2ï¼‰å¦‚æœæ¶ˆè´¹è€…å…³è”äº†ä»»æ„ç›´è¥åº—ï¼Œç™»å½•æ—¶æ˜¾ç¤ºé…é€æ–¹å¼é€‰æ‹©å¼¹çª—ã€‚<br>4ã€è°ƒè´§é—¨åº— erp å†…ç ï¼ŒæŒ‡çš„æ˜¯é—¨åº—ç¼ºè´§ç”±æ€»éƒ¨æ´¾é€å•†å“æ—¶ï¼Œç¼ºè´§é—¨åº—çš„ erp å†…ç ã€‚</p><h1 id="åŒæ­¥"><a href="#åŒæ­¥" class="headerlink" title="åŒæ­¥"></a>åŒæ­¥</h1><h2 id="å•†å“åŸºç¡€è¡¨"><a href="#å•†å“åŸºç¡€è¡¨" class="headerlink" title="å•†å“åŸºç¡€è¡¨"></a>å•†å“åŸºç¡€è¡¨</h2><table><thead><tr><th align="center">åŒæ­¥å­—æ®µ</th><th align="center">æ•°æ®è¡¨å­—æ®µ</th><th align="center">åŒæ­¥å€¼</th><th align="center">æ•°æ®å€¼</th><th align="center">æ˜¯å¦éç©º</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">B_SN</td><td align="center"></td><td align="center">1</td><td align="center"></td><td align="center">éç©º</td><td align="center">åŒæ­¥åºå·</td></tr><tr><td align="center">NAME</td><td align="center">name</td><td align="center">å•†å“åç§°</td><td align="center">å•†å“åç§°</td><td align="center">éç©º</td><td align="center">åç§°</td></tr><tr><td align="center">BAR_CODE</td><td align="center">bar_code</td><td align="center">100001</td><td align="center">100001</td><td align="center">éç©º</td><td align="center">æ¡ç </td></tr><tr><td align="center">CODING</td><td align="center">coding</td><td align="center">A00001</td><td align="center">A00001</td><td align="center">éç©º</td><td align="center">ç¼–ç </td></tr><tr><td align="center">COMMON_NAME</td><td align="center">common_name</td><td align="center">é€šç”¨å</td><td align="center">é€šç”¨å</td><td align="center">éç©º</td><td align="center">é€šç”¨å</td></tr><tr><td align="center">MNEMONIC_CODE</td><td align="center">mnemonic_code</td><td align="center">zjm</td><td align="center">zjm</td><td align="center">éç©º</td><td align="center">é¦–å­—æ¯</td></tr><tr><td align="center">PRESCRIPTION</td><td align="center">prescription</td><td align="center">å¤„æ–¹è¯</td><td align="center">å¤„æ–¹è¯</td><td align="center">å¯ç©º</td><td align="center">å¤„æ–¹è¯ç±»å‹</td></tr><tr><td align="center">ORIGINAL_PRICE</td><td align="center">original_price</td><td align="center">3</td><td align="center">3</td><td align="center">éç©º</td><td align="center">å•†å“åŸä»·</td></tr><tr><td align="center">CURRENT_PRICE</td><td align="center">current_price</td><td align="center">3</td><td align="center">3</td><td align="center">éç©º</td><td align="center">å•†å“ç°ä»·(çº¿ä¸Š)</td></tr><tr><td align="center">CURRENT_PRICE_OFFLINE</td><td align="center">current_price_offline</td><td align="center">0</td><td align="center">0</td><td align="center">å¯ç©º</td><td align="center">å•†å“ç°ä»·(çº¿ä¸‹)</td></tr><tr><td align="center">KEYWORD</td><td align="center">keyword</td><td align="center">è¥¿è¯,æ„Ÿå†’è¯</td><td align="center">è¥¿è¯,æ„Ÿå†’è¯</td><td align="center">å¯ç©º</td><td align="center">å…³é”®å­—</td></tr><tr><td align="center">DRUG_TYPE</td><td align="center">drug_type</td><td align="center">è¥¿è¯</td><td align="center">2</td><td align="center">éç©º</td><td align="center">è¯å“ç±»å‹</td></tr><tr><td align="center">DOSAGE</td><td align="center">usage</td><td align="center">æ¯æ—¥ä¸‰æ¬¡</td><td align="center">æ¯æ—¥ä¸‰æ¬¡</td><td align="center">å¯ç©º</td><td align="center">ç”¨æ³•ç”¨é‡</td></tr><tr><td align="center">UNIT</td><td align="center">unit</td><td align="center">ä»¶</td><td align="center">ä»¶</td><td align="center">éç©º</td><td align="center">å•ä½</td></tr><tr><td align="center">UNIT_NUM</td><td align="center">unit_num</td><td align="center">1</td><td align="center">1</td><td align="center">éç©º</td><td align="center">å•ä½æ•°é‡</td></tr><tr><td align="center">WEIGHT</td><td align="center">weight</td><td align="center">0</td><td align="center">0</td><td align="center">å¯ç©º</td><td align="center">é‡é‡</td></tr><tr><td align="center">VOLUME</td><td align="center">volume</td><td align="center">0</td><td align="center">0</td><td align="center">å¯ç©º</td><td align="center">ä½“ç§¯</td></tr><tr><td align="center">SPECIFICATION</td><td align="center">specification</td><td align="center">500g/ç›’</td><td align="center">500g/ç›’</td><td align="center">éç©º</td><td align="center">è§„æ ¼</td></tr><tr><td align="center">FORMULATION</td><td align="center">formulation</td><td align="center">è‚ æº¶ç‰‡</td><td align="center">è‚ æº¶ç‰‡</td><td align="center">å¯ç©º</td><td align="center">å‰‚å‹</td></tr><tr><td align="center">INGREDIENT</td><td align="center">ingredient</td><td align="center">-</td><td align="center">-</td><td align="center">éç©º</td><td align="center">æˆåˆ†</td></tr><tr><td align="center">SHAPE</td><td align="center">shape</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">æ€§çŠ¶</td></tr><tr><td align="center">INDICATIONS</td><td align="center">indications</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">é€‚åº”ç—‡</td></tr><tr><td align="center">OVERDOSE</td><td align="center">overdose</td><td align="center">-</td><td align="center">-</td><td align="center">éç©º</td><td align="center">è¯ç‰©è¿‡é‡</td></tr><tr><td align="center">DRUG_EFFECT</td><td align="center">drug_effect</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">è¯ç‰©ä½œç”¨</td></tr><tr><td align="center">CLINICAL_GUIDELINES</td><td align="center">clinical_guidelines</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">ä¸´åºŠåº”ç”¨æŒ‡å—</td></tr><tr><td align="center">MANUFACTURER</td><td align="center">manufacturer</td><td align="center">ç”Ÿäº§å‚å®¶</td><td align="center">ç”Ÿäº§å‚å®¶</td><td align="center">éç©º</td><td align="center">ç”Ÿäº§å‚å®¶</td></tr><tr><td align="center">PRODUCTION_ORIGIN</td><td align="center">production_origin</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">ç”Ÿäº§äº§åœ°</td></tr><tr><td align="center">FOR_PEOPLE</td><td align="center">for_people</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">é€‚ç”¨äººç¾¤</td></tr><tr><td align="center">TABOO</td><td align="center">taboo</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">ç¦å¿Œ</td></tr><tr><td align="center">STORAGE_METHOD</td><td align="center">storage_method</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">è´®è—æ–¹å¼</td></tr><tr><td align="center">INTRODUCTION</td><td align="center">introduction</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">å•†å“ç®€ä»‹</td></tr><tr><td align="center">INDICATION</td><td align="center">indication</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">åŠŸèƒ½ä¸»æ²»</td></tr><tr><td align="center">PRECAUTIONS</td><td align="center">precautions</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">æ³¨æ„äº‹é¡¹</td></tr><tr><td align="center">ADVERSE_REACTIONS</td><td align="center">adverse_reactions</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">ä¸è‰¯ååº”</td></tr><tr><td align="center">MEDICINE_INTERACTIONS</td><td align="center">medicine_interactions</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">è¯ç‰©ç›¸äº’ä½œç”¨</td></tr><tr><td align="center">GMP_CERTIFICATION</td><td align="center">gmp_certification</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">GMP è®¤è¯</td></tr><tr><td align="center">APPROVAL_NUMBER</td><td align="center">approval_number</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">æ‰¹å‡†æ–‡å·</td></tr><tr><td align="center">VALIDITY_PERIOD</td><td align="center">validity_period</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">æœ‰æ•ˆæœŸ</td></tr><tr><td align="center">MEDICAL</td><td align="center">medical</td><td align="center">Y</td><td align="center">true</td><td align="center">éç©º</td><td align="center">æ˜¯å¦åŒ»ä¿</td></tr><tr><td align="center">THREE_CATEGORIES</td><td align="center">three_categories</td><td align="center">N</td><td align="center">false</td><td align="center">éç©º</td><td align="center">æ˜¯å¦ä¸‰ç±»</td></tr><tr><td align="center">COLD_CHAIN</td><td align="center">cold_chain</td><td align="center">N</td><td align="center">false</td><td align="center">éç©º</td><td align="center">æ˜¯å¦å†·é“¾</td></tr><tr><td align="center">OVERSEAS</td><td align="center">overseas</td><td align="center">N</td><td align="center">false</td><td align="center">éç©º</td><td align="center">æ˜¯å¦å¢ƒå¤–</td></tr><tr><td align="center">TARIFF</td><td align="center">tariff</td><td align="center">0</td><td align="center">0</td><td align="center">éç©º</td><td align="center">è¿›å£ç¨ç‡</td></tr><tr><td align="center">EPIDEMIC_SITUATION</td><td align="center">epidemic_situation</td><td align="center">N</td><td align="center">false</td><td align="center">éç©º</td><td align="center">æ˜¯å¦ç–«æƒ…</td></tr><tr><td align="center">HIDE_GOODS</td><td align="center">hide_goods</td><td align="center">N</td><td align="center">false</td><td align="center">å¯ç©º</td><td align="center">æ˜¯å¦éšè—</td></tr><tr><td align="center">SORT</td><td align="center">sort</td><td align="center">0</td><td align="center">0</td><td align="center">å¯ç©º</td><td align="center">è·¨å¢ƒæ’åº</td></tr><tr><td align="center">NEAR_TERM_WARNING</td><td align="center">near_term_warning</td><td align="center">180</td><td align="center">180</td><td align="center">å¯ç©º</td><td align="center">è¿‘æ•ˆæœŸé¢„è­¦å¤©æ•°</td></tr><tr><td align="center">LOCAL_CODE</td><td align="center">local_code</td><td align="center">-</td><td align="center">-</td><td align="center">å¯ç©º</td><td align="center">æœ¬ä½ç </td></tr><tr><td align="center">INSERT_TIME</td><td align="center"></td><td align="center">YYYY-MM-DD HH:mm:ss</td><td align="center"></td><td align="center">éç©º</td><td align="center">æ’å…¥æ—¶é—´</td></tr></tbody></table><h1 id="å³æ—¶é€šè®¯"><a href="#å³æ—¶é€šè®¯" class="headerlink" title="å³æ—¶é€šè®¯"></a>å³æ—¶é€šè®¯</h1><h2 id="æ¥å£-1"><a href="#æ¥å£-1" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æ–‡ä»¶:</p><p>ç»‘å®šæ ‡è¯†å¤„ç†  <code>/bin/socket.js</code></p><p>socket å¯¹è±¡å°è£… (å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯)  <code>/src/@common/socket_client.js</code></p><p>æœåŠ¡ç«¯è¿æ¥  <code>/src/@common/ws.js</code></p><p>æ¶ˆæ¯ä¸­å¿ƒé€šç”¨æ–¹æ³• <code>/src/@common/message_center.js</code></p><p>å¯¹åº”<code>message_center</code>æ•°æ®è¡¨</p><p>æé†’å‘è´§  è®¢å•æ¶ˆæ¯é—´éš”ä¸€åˆ†é’Ÿæé†’æœ‰æ•ˆ</p><p><code>msg_type</code> è‡ªå®šç±»å‹ (æé†’å‘è´§ è®¢å• é€€å•)</p><p> from: <code>store_staff</code> åº—å‘˜ç«¯ä»»åŠ¡ç±»å‹ (æ”¶è´§ æ‹£è´§ è¯·è´§å•) </p><p> from <code>message_center</code> åº—å‘˜ç«¯æ¶ˆæ¯ä¸­å¿ƒ è¯·è´§å®¡æ ¸ é€€è´§å®¡æ ¸</p>]]></content>
    
    
    <summary type="html">æ–°é›¶å”®ä»£ç ç‰‡æ®µ</summary>
    
    
    
    <category term="ä»£ç ç‰‡æ®µ" scheme="https://wecy-chen.github.io/categories/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    
    
  </entry>
  
  <entry>
    <title>git</title>
    <link href="https://wecy-chen.github.io/2022/08/22/git/"/>
    <id>https://wecy-chen.github.io/2022/08/22/git/</id>
    <published>2022-08-22T01:42:38.300Z</published>
    <updated>2024-11-04T06:36:48.087Z</updated>
    
    <content type="html"><![CDATA[<p><strong>git å­¦ä¹ </strong></p><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://git-scm.com/">å®˜ç½‘</a></p><blockquote><p>åˆæ¬¡å®‰è£… git é…ç½®ç”¨æˆ·åå’Œé‚®ç®±</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;ä½ çš„åç§°&quot;</span><br><span class="line">$ git config --global user.email &quot;ä½ çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><blockquote><p>git ä½¿ç”¨ ssh å¯†é’¥</p></blockquote><p>åˆæ¬¡ä½¿ç”¨ git çš„ç”¨æˆ·è¦ä½¿ç”¨ git åè®®å¤§æ¦‚éœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š</p><p>1.ç”Ÿæˆå¯†é’¥å¯¹ 2.è®¾ç½®è¿œç¨‹ä»“åº“ï¼ˆæœ¬æ–‡ä»¥ github ä¸ºä¾‹ï¼‰ä¸Šçš„å…¬é’¥ 3.æŠŠ git çš„ remote url ä¿®æ”¹ä¸º git åè®®</p><h3 id="1-ç”Ÿæˆå¯†é’¥å¯¹"><a href="#1-ç”Ÿæˆå¯†é’¥å¯¹" class="headerlink" title="1.ç”Ÿæˆå¯†é’¥å¯¹"></a>1.ç”Ÿæˆå¯†é’¥å¯¹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/.ssh</span><br><span class="line">$ ls</span><br></pre></td></tr></table></figure><p>æˆªå›¾æœ¬æœºå·²ç»ç”Ÿæˆè¿‡å…¬é’¥äº†</p><p><img src="/image/git/ssh.png" alt="ssh.png"></p><p>æ–‡ä»¶è¯´æ˜:<br>id_rsa: å…¬é’¥<br>id_rsa.pub: ç§é’¥</p><p>å¦‚æœæ²¡æœ‰å­˜åœ¨è¿™ä¸ªä¸¤ä¸ªæ–‡ä»¶,åˆ™éœ€è¦ç”Ÿæˆç§˜é’¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ssh-keygen -t rsa -C &quot;ä½ çš„é‚®ç®±&quot;</span><br><span class="line"></span><br><span class="line">Creates a new ssh key using the provided email # Generating public/private rsa key pair.</span><br><span class="line"></span><br><span class="line">Enter file in which to save the key (/home/you/.ssh/id_rsa):</span><br></pre></td></tr></table></figure><p>ç›´æ¥æŒ‰ Enter å°±è¡Œã€‚ç„¶åï¼Œä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼Œå¦‚ä¸‹(å»ºè®®è¾“ä¸€ä¸ªï¼Œå®‰å…¨ä¸€ç‚¹ï¼Œå½“ç„¶ä¸è¾“ä¹Ÿè¡Œï¼Œåº”è¯¥ä¸ä¼šæœ‰äººé—²çš„æ— èŠå†’å……ä½ å»ä¿®æ”¹ä½ çš„ä»£ç )ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure><p>å®Œæˆè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Your public key has been saved in /home/you/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is: # 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@youremail.com</span><br></pre></td></tr></table></figure><h3 id="2-è®¾ç½®è¿œç¨‹ä»“åº“"><a href="#2-è®¾ç½®è¿œç¨‹ä»“åº“" class="headerlink" title="2.è®¾ç½®è¿œç¨‹ä»“åº“"></a>2.è®¾ç½®è¿œç¨‹ä»“åº“</h3><ul><li>1.æŸ¥çœ‹ä½ ç”Ÿæˆçš„å…¬é’¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line">ssh-rsa xxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><ul><li>2.é…ç½®å…¬é’¥<ul><li>ç™»é™†ä½ çš„ github å¸æˆ·ã€‚ç‚¹å‡»ä½ çš„å¤´åƒï¼Œç„¶å Settings -&gt; å·¦æ ç‚¹å‡» SSH and GPG keys -&gt; ç‚¹å‡» New SSH key</li><li>ç„¶åä½ å¤åˆ¶ä¸Šé¢çš„å…¬é’¥å†…å®¹ï¼Œç²˜è´´è¿›â€œKeyâ€æ–‡æœ¬åŸŸå†…ã€‚ title åŸŸï¼Œè‡ªå·±éšä¾¿èµ·ä¸ªåå­—</li><li>ç‚¹å‡» Add key<br>å®Œæˆä»¥åï¼ŒéªŒè¯ä¸‹è¿™ä¸ª key æ˜¯ä¸æ˜¯æ­£å¸¸å·¥ä½œï¼š</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">Attempts to ssh to github</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™ä¸ª<br><code>Hi xxx! You&#39;ve successfully authenticated, but GitHub does not # provide shell access.</code><br>æ­å–œä½ ï¼Œä½ çš„è®¾ç½®å·²ç»æˆåŠŸäº†ã€‚</p><p><strong>é˜¿é‡Œäº‘é…ç½®å¤±è´¥</strong><br><a href="https://www.icode9.com/content-4-1212556.html">é˜¿é‡Œäº‘æ‹‰å–ä»£ç å¤±è´¥å¤„ç†</a><br>C:\Users\wecy.ssh åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»º config æ–‡ä»¶<br>æ·»åŠ å¦‚ä¸‹ä»£ç <br>Host *<br>HostkeyAlgorithms +ssh-rsa<br>PubkeyAcceptedKeyTypes +ssh-rsa</p><h3 id="3-åˆ›å»º-github-é¡¹ç›®"><a href="#3-åˆ›å»º-github-é¡¹ç›®" class="headerlink" title="3.åˆ›å»º github é¡¹ç›®"></a>3.åˆ›å»º github é¡¹ç›®</h3><p><strong>æ–°å»ºé¡¹ç›®åˆ† 2 ç§æƒ…å†µï¼š</strong></p><p>1.æœ¬åœ°æ²¡æœ‰é¡¹ç›®ä»£ç ã€‚ 2.æœ¬åœ°å·²ç»å­˜åœ¨é¡¹ç›®ä»£ç ï¼Œåªæ˜¯æƒ³æ”¾åˆ° github æ‰˜ç®¡ã€‚</p><blockquote><p>åˆ›å»ºä»“åº“</p></blockquote><p>ç™»å½•ä½ çš„ github è´¦å·,æ¥åˆ›å»ºè¿œç¨‹ä»“åº“(å¦‚å›¾)</p><p><img src="/image/git/github1.png" alt="github1.png"></p><p><img src="/image/git/github2.png" alt="github2.png"></p><ul><li>ç”±ä¸Šå¾€ä¸‹è¾“å…¥ä½ é¡¹ç›®çš„åå­—ã€é¡¹ç›®çš„æè¿°ï¼Œé€‰æ‹©è¿™ä¸ªé¡¹ç›®æ˜¯ä¸æ˜¯å…¬å¼€(Public)æˆ–æ˜¯ä½œä¸ºç§äººé¡¹ç›®(Private)ã€‚</li><li>Initialize this repository with a README è¿™ä¸ªé€‰é¡¹æ˜¯é—®ä½ è¦ä¸è¦å¸®ä½ æ ¹æ®ä½ è¾“å…¥çš„é¡¹ç›®åå­—å’Œæè¿°åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®(ç”Ÿæˆä¸€ä¸ª README çš„ md æ–‡ä»¶)</li><li>å†æ¥ä¸‹æ¥æ˜¯é—®ä½ è¦ä¸è¦æ·»åŠ é¡¹ç›®çš„å¿½ç•¥æ–‡ä»¶(.gitigore)è¿˜æœ‰è¦ä¸è¦ä¸ºä½ çš„é¡¹ç›®å¢åŠ ä¸€ä¸ªè®¸å¯è¯(license)ã€‚</li><li>ä¸Šé¢çš„æ ¹æ®ä½ è‡ªå·±çš„å®é™…éœ€è¦å¡«å®Œå’Œé€‰æ‹©å³å¯ï¼Œç„¶åç‚¹å‡»ç»¿è‰²çš„æŒ‰é’®å°±ä¼šåˆ›å»ºä¸€ä¸ªé¡¹ç›®ä»“åº“äº†ã€‚</li><li>ç„¶åå°±ä¼šè·³è½¬åˆ°ä½ é¡¹ç›®çš„ä¸€ä¸ªä¸»é¡µã€‚</li></ul><p><strong>æœ¬åœ°æ²¡æœ‰é¡¹ç›®ä»£ç </strong></p><p>å¯ä»¥åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç©ºç™½çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå…‹éš†åˆšåˆšåˆ›å»ºçš„é¡¹ç›®(ps: clone url åœ¨é¡¹ç›®ä¸»é¡µçš„å³ä¸‹æ–¹ä½ç½®å¯ä»¥æ‰¾åˆ°)æœ¬åœ°ï¼Œç„¶åæ·»åŠ ä»£ç å†ä¸Šä¼ ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir project</span><br><span class="line">cd project</span><br><span class="line">git clone https://github.com/githubå/é¡¹ç›®å.git</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯ git add å’Œ git push ç›¸åº”çš„æ“ä½œã€‚</p><p><strong>æœ¬åœ°å·²æœ‰é¡¹ç›®ä»£ç </strong></p><p>æœ¬åœ°å·²åˆ›å»ºäº†é¡¹ç›®,éœ€è¦æäº¤åˆ° github ä¸Š</p><ol><li>åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶ç›®å½•å…ˆæ‰§è¡Œå‘½ä»¤<code>git init</code>ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ª git ä»“åº“ã€‚</li><li>å°†é¡¹ç›®é‡Œæ‰€æœ‰æ–‡ä»¶åŠ åˆ°æœ¬åœ°çš„ä»“åº“ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:<code>git add .</code> , <code>git commit -m &quot;æäº¤ä¿¡æ¯</code></li><li>ç„¶åå°† github ä¸Šçš„é¡¹ç›® pull ä¸‹æ¥ <code>git pull https://github.com/githubå/é¡¹ç›®å.git</code></li><li>ä¸ºç‰ˆæœ¬åº“æ·»åŠ åä¸º origin çš„è¿œç¨‹ç‰ˆæœ¬åº“ <code>git remote add origin https://github.com/githubå/é¡¹ç›®å.git</code></li><li>æ‰§è¡Œæ¨é€å‘½ä»¤ï¼Œå®Œæˆ GitHub ç‰ˆæœ¬åº“çš„åˆå§‹åŒ–(æ³¨æ„å‘½ä»¤è¡Œä¸­çš„-u å‚æ•°ï¼Œåœ¨æ¨é€æˆåŠŸåè‡ªåŠ¨å»ºç«‹æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹ç‰ˆæœ¬åº“åˆ†æ”¯çš„è¿½è¸ª)<br><code>git push -u origin master</code></li></ol><h3 id="4-ä¿®æ”¹è¿œç¨‹åœ°å€"><a href="#4-ä¿®æ”¹è¿œç¨‹åœ°å€" class="headerlink" title="4.ä¿®æ”¹è¿œç¨‹åœ°å€"></a>4.ä¿®æ”¹è¿œç¨‹åœ°å€</h3><p>ä½¿ç”¨å‘½ä»¤ git remote -v æŸ¥çœ‹ä½ å½“å‰çš„ remote url (çº¿ä¸Šé¡¹ç›®è¿œç¨‹åœ°å€)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">origin https://github.com/githubå/é¡¹ç›®å.git (fetch)</span><br><span class="line">origin https://github.com/githubå/é¡¹ç›®å.git (push)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‘½ä»¤:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote set-url origin git@github.com:githubå/æ–°çš„é¡¹ç›®å.git</span><br></pre></td></tr></table></figure><p>å…ˆåˆ å†æ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$git remote rm origin</span><br><span class="line">$git remote add origin git@github.com:githubå/æ–°çš„é¡¹ç›®å.git</span><br></pre></td></tr></table></figure><h3 id="5-åˆ é™¤é¡¹ç›®"><a href="#5-åˆ é™¤é¡¹ç›®" class="headerlink" title="5.åˆ é™¤é¡¹ç›®"></a>5.åˆ é™¤é¡¹ç›®</h3><p>è¿›å…¥é¡¹ç›®è®¾ç½®,æ‹‰åˆ°æœ€å<br><img src="/image/git/github-delete.png" alt="github-delete"></p><h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><h2 id="git-é‡ç½®-commit-æ—¶çš„æ³¨é‡Š"><a href="#git-é‡ç½®-commit-æ—¶çš„æ³¨é‡Š" class="headerlink" title="git é‡ç½® commit æ—¶çš„æ³¨é‡Š"></a>git é‡ç½® commit æ—¶çš„æ³¨é‡Š</h2><p><a href="https://blog.csdn.net/ydk888888/article/details/80167627">åŸåœ°å€è§ CSDN</a></p><p><code>æ³¨æ„:åœ¨æœªpushçš„æƒ…å†µä¸‹:</code></p><p>æ–¹æ³•ä¸€: <code>git commit --amend</code> (ä¿®æ”¹ commit æäº¤å†…å®¹)</p><p>æ–¹æ³•äºŒ: <code>git reset --soft</code> (å€’æ•°ç¬¬äºŒæ¬¡ commit çš„ commit_idâ€,ç„¶åé‡æ–° git commit -m â€œâ€¦.â€)</p><h2 id="å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç "><a href="#å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç " class="headerlink" title="å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç "></a>å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç </h2><p><a href="https://blog.csdn.net/sinat_36184075/article/details/80115000">åŸåœ°å€è§ CSDN</a></p><p><code>git fetch --all</code> (æ‹‰å–æ‰€æœ‰æ›´æ–°ï¼Œä¸åŒæ­¥)<br><code>git reset --hard origin/master</code> (æœ¬åœ°ä»£ç åŒæ­¥çº¿ä¸Šæœ€æ–°ç‰ˆæœ¬(ä¼šè¦†ç›–æœ¬åœ°æ‰€æœ‰ä¸è¿œç¨‹ä»“åº“ä¸ŠåŒåçš„æ–‡ä»¶))<br><code>git pull</code> (å†æ›´æ–°ä¸€æ¬¡)</p><p><code>git fetch --all &amp;&amp; git reset --hard origin/master &amp;&amp; git pull</code> å•æ¡æ‰§è¡Œ</p><p><code>git reset --hard origin/master</code> å°±è¿™ä¸€æ¡ä¹Ÿè¡Œ</p><h2 id="æ–°å»ºæ–°åˆ†æ”¯"><a href="#æ–°å»ºæ–°åˆ†æ”¯" class="headerlink" title="æ–°å»ºæ–°åˆ†æ”¯"></a>æ–°å»ºæ–°åˆ†æ”¯</h2><blockquote><p><code>git branch åˆ†æ”¯å</code> æ–°çš„åˆ†æ”¯å</p></blockquote><blockquote><p><code>git checkout åˆ†æ”¯å</code> åˆ‡æ¢åˆ°åˆ†æ”¯</p></blockquote><blockquote><p><code>git checkout -b åˆ†æ”¯å</code> åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</p></blockquote><blockquote><p><code>git push --set-upstream origin åˆ†æ”¯å</code> æäº¤åˆ†æ”¯</p></blockquote><h2 id="æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨"><a href="#æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨" class="headerlink" title="æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨"></a>æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨</h2><p><code>git remote update origin --prune</code></p><p>æ³¨æ„:å¦‚æœä½ çš„ remote branch ä¸æ˜¯åœ¨ origin ä¸‹ï¼ŒæŒ‰ä½ å¾—æŠŠ origin æ¢æˆä½ çš„åå­—</p><p><code>git branch -a</code></p><p>æŸ¥çœ‹æ‰€æœ‰çš„åˆ†æ”¯(å«è¿œç¨‹åˆ†æ”¯)</p><p><code>git checkout -b main origin/main</code></p><p>åˆ‡æ¢çº¿ä¸Šåˆ†æ”¯ origin/main,å»ºç«‹æœ¬åœ° main åˆ†æ”¯</p><h2 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h2><ul><li>é‡å‘½å git æœ¬åœ°åˆ†æ”¯</li></ul><p><code>git branch -m æ–°åˆ†æ”¯</code> (å½“å‰åˆ†æ”¯çš„ä¿®æ”¹)</p><p><code>git branch -m è€åˆ†æ”¯ æ–°åˆ†æ”¯</code></p><ul><li>é‡å‘½å git è¿œç¨‹åˆ†æ”¯</li></ul><p>å‰æ æ˜¯æœ¬åœ°å·²æ‹‰å–è¿œç¨‹åˆ†æ”¯</p><p><code>git push --delete origin è¿œç¨‹åˆ†æ”¯</code> (åˆ é™¤è¿œç¨‹åˆ†æ”¯,ä¹Ÿå¯ä»¥ä¸åˆ )<br><code>git branch -m è€åˆ†æ”¯ æ–°åˆ†æ”¯</code> (é‡å‘½åæœ¬åœ°åˆ†æ”¯)<br><code>git push origin æ–°åˆ†æ”¯</code> (æ¨é€æœ¬åœ°åˆ†æ”¯)<br><code>git branch --set-upstream-to origin/æ–°åˆ†æ”¯</code> (å°†ä¿®æ”¹åçš„æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯ç›¸å…³è”)</p><p>ç„¶è€Œï¼Œåœ¨ github ä¸Šæ“ä½œçš„æ—¶å€™ï¼Œæˆ‘åœ¨åˆ é™¤è¿œç¨‹åˆ†æ”¯æ—¶ç¢°åˆ°è¿™ä¸ªé”™è¯¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git push --delete origin devel</span><br><span class="line">remote: error: refusing to delete the current branch: refs/heads/devel</span><br><span class="line">To git@github.com:zrong/quick-cocos2d-x.git</span><br><span class="line"> ! [remote rejected] devel (deletion of the current branch prohibited)</span><br><span class="line">error: failed to push some refs to &#x27;git@github.com:zrong/quick-cocos2d-x.git&#x27;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç”±äºåœ¨ github ä¸­ï¼Œdevel æ˜¯é¡¹ç›®çš„é»˜è®¤åˆ†æ”¯ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¿™æ ·æ“ä½œï¼š</p><ol><li>è¿›å…¥ github ä¸­è¯¥é¡¹ç›®çš„ Settings é¡µé¢ï¼›</li><li>è®¾ç½® Default Branch ä¸ºå…¶ä»–çš„åˆ†æ”¯ï¼ˆä¾‹å¦‚ masterï¼‰ï¼›</li><li>é‡æ–°æ‰§è¡Œåˆ é™¤è¿œç¨‹åˆ†æ”¯å‘½ä»¤ã€‚</li></ol><h2 id="æ’¤é”€å’Œå›æ»šæ“ä½œ"><a href="#æ’¤é”€å’Œå›æ»šæ“ä½œ" class="headerlink" title="æ’¤é”€å’Œå›æ»šæ“ä½œ"></a>æ’¤é”€å’Œå›æ»šæ“ä½œ</h2><ul><li>æ’¤é”€ (æœª<code>git add</code>æ“ä½œ)</li></ul><p><code>git checkout fileName</code> æ’¤é”€ä¿®æ”¹æ–‡ä»¶<br><code>git checkout .</code> æ’¤é”€å…¨éƒ¨æ–‡ä»¶</p><ul><li><p>å›é€€<br><code>git reset --hard HEAD^ </code> å›é€€åˆ°ä¸Šä¸ªç‰ˆæœ¬<br><code>git reset --hard HEAD~n</code> å›é€€åˆ° n ä¸ªç‰ˆæœ¬ä¹‹å‰<br><code>git reset --hard commit_id</code> å›é€€åˆ°æŒ‡å®š commit çš„ id ä½ç½®</p></li><li><p>æ‹‰æŒ‡å®šåˆ†æ”¯<br><code>git cherry-pick commitçš„ID</code>  åˆå¹¶ç‰¹å®šæäº¤ID (å¤šä¸ªID,éš”å¼€)</p></li></ul><p><strong>å¼ºæ¨åˆ°è¿œç¨‹ï¼š(å¯èƒ½éœ€è¦è§£å†³å¯¹åº”åˆ†æ”¯çš„ä¿æŠ¤çŠ¶æ€)</strong></p><ul><li>å¼ºåˆ¶æäº¤åˆ°å¯¹åº” id ç‰ˆæœ¬åˆ†æ”¯è®°å½•</li></ul><p>æ³¨: æ— æ³•æ’¤å›,è°¨æ…æ“ä½œ</p><p><code>git push origin HEAD --force</code></p><h2 id="å¼ºåˆ¶å¿½ç•¥è·Ÿè¸ª"><a href="#å¼ºåˆ¶å¿½ç•¥è·Ÿè¸ª" class="headerlink" title="å¼ºåˆ¶å¿½ç•¥è·Ÿè¸ª"></a>å¼ºåˆ¶å¿½ç•¥è·Ÿè¸ª</h2><p>ä¸€ã€æœ¬åœ°å¿½ç•¥<br>åœ¨æ–‡ä»¶ä¸Šå³é”®æ·»åŠ è¿› å¿½ç•¥æ–‡ä»¶<br>æˆ–è€…æ‰‹åŠ¨åœ¨ <code>.gitignore</code> æ–‡ä»¶ä¸­æ·»åŠ æ–‡ä»¶è·¯å¾„</p><p>è¿™æ ·åœ¨ git ä»“åº“å·²æœ‰çš„æ–‡ä»¶ä¸ç”Ÿæ•ˆï¼Œä¾æ—§ä¼šè¢«æ£€æµ‹åˆ°</p><p>äºŒã€å¼ºåˆ¶å¿½ç•¥è·Ÿè¸ª</p><p><code>git update-index --assume-unchanged æ–‡ä»¶è·¯å¾„</code></p><p><code>git update-index --assume-unchanged src/test/test.http</code></p><p>å–æ¶ˆå¼ºåˆ¶å¿½ç•¥è·Ÿè¸ª</p><p><code>git update-index --no-assume-unchanged æ–‡ä»¶è·¯å¾„</code></p><h2 id="github-æ— æ³•æäº¤"><a href="#github-æ— æ³•æäº¤" class="headerlink" title="github æ— æ³•æäº¤"></a>github æ— æ³•æäº¤</h2><blockquote><p>git pull<br>ssh: connect to host github.com port 22: Connection timed out<br>fatal: Could not read from remote repository.</p></blockquote><p>Please make sure you have the correct access rights<br>and the repository exists.</p><blockquote><p><code>sh -T git@github.com</code> æ£€æŸ¥ SSH æ˜¯å¦èƒ½å¤Ÿè¿æ¥æˆåŠŸ</p></blockquote><blockquote><p><code>ssh: connect to host github.com port 22: Connection timed out</code> è¶…æ—¶</p></blockquote><p>æ‰“å¼€ <code>C:\Users\wecy\.ssh</code></p><p>æ‰“å¼€<code>config</code>æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼Œä¿å­˜åå³å¯ (æ²¡æœ‰çš„ç”¨æ–°å»ºè®°äº‹æœ¬,å»æ‰.txt åç¼€)</p><p>è¾“å…¥ä»¥ä¸‹å†…å®¹</p><p><code>Host github.com User xxxxqq.com Hostname ssh.github.com PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa Port 443</code></p><blockquote><p><code>ssh -T git@github.com</code> éªŒè¯é€‰æ‹© yes</p></blockquote><h1 id="github-è®¿é—®é…ç½®"><a href="#github-è®¿é—®é…ç½®" class="headerlink" title="github è®¿é—®é…ç½®"></a>github è®¿é—®é…ç½®</h1><p>å½“æ— æ³•è®¿é—® github æ—¶,å¯ä»¥è®¾ç½® host é…ç½®<br>windows è·¯å¾„:<code>C:\Windows\System32\drivers\etc</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># Copyright (c) 1993-2009 Microsoft Corp.</span><br><span class="line">#</span><br><span class="line"># This is a sample HOSTS file used by Microsoft TCP/IP for Windows.</span><br><span class="line">#</span><br><span class="line"># This file contains the mappings of IP addresses to host names. Each</span><br><span class="line"># entry should be kept on an individual line. The IP address should</span><br><span class="line"># be placed in the first column followed by the corresponding host name.</span><br><span class="line"># The IP address and the host name should be separated by at least one</span><br><span class="line"># space.</span><br><span class="line">#</span><br><span class="line"># Additionally, comments (such as these) may be inserted on individual</span><br><span class="line"># lines or following the machine name denoted by a &#x27;#&#x27; symbol.</span><br><span class="line">#</span><br><span class="line"># For example:</span><br><span class="line">#</span><br><span class="line">#      102.54.94.97     rhino.acme.com          # source server</span><br><span class="line">#       38.25.63.10     x.acme.com              # x client host</span><br><span class="line"></span><br><span class="line"># localhost name resolution is handled within DNS itself.</span><br><span class="line">#127.0.0.1       localhost</span><br><span class="line">#::1             localhost</span><br><span class="line"></span><br><span class="line">20.205.243.166 github.com</span><br><span class="line"></span><br><span class="line"># 140.82.114.4 github.com</span><br><span class="line"></span><br><span class="line"># 185.199.108.153 vscode-auth.github.com</span><br><span class="line"># 185.199.110.153 vscode-auth.github.com</span><br><span class="line"># 185.199.111.153 vscode-auth.github.com</span><br><span class="line"># 185.199.109.153 vscode-auth.github.com</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">gitå­¦ä¹ </summary>
    
    
    
    <category term="git" scheme="https://wecy-chen.github.io/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>æ–‡ç« æ ‡é¢˜æ•™ç¨‹</title>
    <link href="https://wecy-chen.github.io/2022/08/22/article/"/>
    <id>https://wecy-chen.github.io/2022/08/22/article/</id>
    <published>2022-08-22T01:42:38.297Z</published>
    <updated>2021-11-16T23:05:06.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:ã€å¿…éœ€ã€‘é¡µé¢æ ‡é¢˜</span><br><span class="line">date:ã€å¿…éœ€ã€‘é¡µé¢åˆ›å»ºæ—¥æœŸ</span><br><span class="line">type: ã€å¿…éœ€ã€‘æ ‡ç±¤ã€åˆ†ç±»å’Œå‹æƒ…é“¾æ¥ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®</span><br><span class="line">updated:ã€å¯é€‰ã€‘é¡µé¢æ›´æ–°æ—¥æœŸ</span><br><span class="line">description:ã€å¯é€‰ã€‘é¡µé¢æè¿°</span><br><span class="line">keywords: ã€å¯é€‰ã€‘é¡µé¢å…³é”®å­—</span><br><span class="line">comments: ã€å¯é€‰ã€‘æ˜¾ç¤ºé¡µé¢è¯„è®ºæ¨¡å— (é»˜è®¤ true)</span><br><span class="line">top_img: ã€å¯é€‰ã€‘é¡µé¢é¡¶éƒ¨å›¾ç‰‡</span><br><span class="line">mathjax: ã€å¯é€‰ã€‘æ˜¾ç¤º mathjax (å½“è®¾ç½® mathjax çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</span><br><span class="line">katex: ã€å¯é€‰ã€‘æ˜¾ç¤º katex (å½“è®¾ç½® katex çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</span><br><span class="line">aside: ã€å¯é€‰ã€‘æ˜¾ç¤ºä¾§è¾¹æ  (é»˜è®¤ true)</span><br><span class="line">aplayer: ã€å¯é€‰ã€‘åœ¨éœ€è¦çš„é¡µé¢åŠ è½½ aplayer çš„ js å’Œ css, è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</span><br><span class="line">highlight_shrink: ã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€ (true/false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­ highlight_shrink çš„é…ç½®)</span><br><span class="line">cover: æ–‡ç« é¡¶éƒ¨å›¾ç‰‡</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¡µé¢æè¿°</summary>
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wecy-chen.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>è½¯ä»¶</title>
    <link href="https://wecy-chen.github.io/2022/08/09/software/"/>
    <id>https://wecy-chen.github.io/2022/08/09/software/</id>
    <published>2022-08-08T23:04:35.000Z</published>
    <updated>2024-01-31T06:33:52.405Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¼€å‘"><a href="#å¼€å‘" class="headerlink" title="å¼€å‘"></a>å¼€å‘</h1><h2 id="vscode"><a href="#vscode" class="headerlink" title="vscode"></a>vscode</h2><p><strong>æ’ä»¶</strong></p><p>å†…ç½®æµè§ˆå™¨</p><p><a href="https://blog.csdn.net/qq812457115/article/details/124586074">æ•™ç¨‹</a></p><p>æ—§(åºŸå¼ƒ)</p><ul><li><code>Live Server</code></li><li><code>Browser Preview</code></li></ul><p>æ–°</p><ul><li><code>Browse Lite</code></li></ul><ul><li>å†…åµŒæµè§ˆå™¨</li><li>å‘½ä»¤è¾“å…¥â€liteâ€ å¯ä»¥æ‰¾åˆ°å¹¶å‘¼å‡º</li><li>é€‚åˆè°ƒè¯• vue é¡¹ç›®æˆ–è€… web app é¡¹ç›®</li><li>å¯ä»¥è°ƒæ‰‹æœºå’Œ pc æ¨¡å¼</li><li>ä¸è¶³:æ€»æ˜¯æœ‰ç‚¹æ˜¾ç¤ºä¸æ¸…æ™°</li><li>å†…åµŒä¸€ä¸ª debug,è¿™ä¸ªä¸é”™</li></ul><h2 id="Xhell"><a href="#Xhell" class="headerlink" title="Xhell"></a>Xhell</h2><p>å¤©ç¿¼ç½‘ç›˜â€”&gt;è½¯ä»¶â€”&gt;å¼€å‘</p><p><strong>å®‰è£…ä¸€</strong></p><p><a href="https://www.jb51.net/softs/732916.html">xshell 7</a><br><a href="https://www.jb51.net/softs/732920.html">xftp 7</a></p><p>xhell åŒ…æ‹¬ä¸¤ä¸ªç¨‹åº(<code>Xftp7_jb51.rar</code> <code>Xshell7_jb51.rar</code>)</p><ol><li>æ‰“å¼€ Xshell-7.0.0109.exe å®‰è£…æ–‡ä»¶ å®‰è£…è·¯å¾„ D:\Xshell 7</li><li>æ‰“å¼€ Xftp-7.0.0107.exe å®‰è£…è½¯ä»¶ å®‰è£…è·¯å¾„ D:\Xftp 7</li></ol><p>æ³¨æ„:<br>å®‰è£…å®Œæˆåï¼Œå°† xhell å‹ç¼©åŒ…é‡Œé¢æœ‰ crack ç›®å½•ï¼Œå°† nslicense.dll æ–‡ä»¶è¦†ç›–åˆ°è½¯ä»¶ç›®å½•<br>æˆ–è€…ä½¿ç”¨æ³¨å†Œè¡¥ä¸æ–‡ä»¶ï¼Œå°† NetSarang.7.x.Patch.exe å¤åˆ¶åˆ°å®‰è£…ç›®å½•ä¸‹è¿è¡Œï¼Œç‚¹å‡»åº”ç”¨å³å¯ (å®¹æ˜“æŠ¥æ¯’)</p><p><strong>å®‰è£…äºŒ(æ¨è)</strong></p><p>å¤©ç¿¼ç½‘ç›˜â€”&gt;è½¯ä»¶â€”&gt;å¼€å‘â€”&gt;xhell7(æ¨è)</p><p>æ›¿æ¢æ³•</p><p><a href="https://blog.csdn.net/Sunshine_Mr_Sun/article/details/124320972">åœ°å€ 1</a><br><a href="https://slcp.top/article/read/59">åœ°å€ 2</a></p><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p><a href="https://git-scm.com/download/win">git å®˜ç½‘</a> å®˜ç½‘ (ä¸‹è½½é€Ÿåº¦æ¯”è¾ƒæ…¢)<br><a href="https://npm.taobao.org/mirrors/git-for-windows/">git é•œåƒ</a> é˜¿é‡Œé•œåƒ</p><p>æˆªæ­¢ 2022-08-17 æœ€æ–°ç‰ˆæœ¬æ˜¯<code>Git-2.37.2.2-64-bit</code><br>æ›´æ–° å¸è½½ä¹‹å‰,é‡æ–°å®‰è£…æœ€æ–°çš„ å®‰è£…ä¸€ç›´ next å°±è¡Œ</p><p><a href="https://wecy-chen.github.io/2022/08/08/git/">git å‘½ä»¤æ–‡æ¡£</a></p><h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><p><a href="https://nodejs.org/zh-cn/">node å®˜ç½‘</a></p><p><a href="https://nodejs.org/download/release/">node å†å²ç‰ˆæœ¬</a></p><p>ä¸‹è½½ç‰ˆæœ¬ v14.17.0</p><p><a href="https://nodejs.org/download/release/v14.17.0/">https://nodejs.org/download/release/v14.17.0/</a> é€‰æ‹© node-v14.17.0-x64.msi (win ä¸‹è½½)</p><p>è®¾ç½®æ–‡ä»¶å®‰è£…é…ç½®</p><ol><li><p>åœ¨ nodejs ç›®å½•ä¸‹æ–°å»º <code>node_cache</code> <code>node_global</code> æ–‡ä»¶å¤¹</p></li><li><p>é…ç½®è·¯å¾„</p><blockquote><p><code>npm config set prefix &quot;D:\nodejs\node_global&quot;</code></p></blockquote><blockquote><p><code>npm config set cache &quot;D:\nodejs\node_cache&quot;</code></p></blockquote></li></ol><p>ç¯å¢ƒå˜é‡<br>åœ¨[ç³»ç»Ÿå˜é‡] æ·»åŠ è·¯å¾„ å˜é‡å<code>NODE_PATH</code> å˜é‡å€¼<code>D:\nodejs\node_global</code><br>åœ¨[ç”¨æˆ·å˜é‡] å°† path ä¸­çš„<code>C:\Users\wecy\AppData\Roaming\npm</code>ä¿®æ”¹æˆ <code>D:\nodejs\node_global</code></p><h2 id="nvm"><a href="#nvm" class="headerlink" title="nvm"></a>nvm</h2><p>nvm æ˜¯ä¸€ä¸ª nodejs çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ nvm å®‰è£…å’Œåˆ‡æ¢ä¸åŒç‰ˆæœ¬çš„ nodejs</p><p><a href="https://github.com/coreybutler/nvm-windows/releases">github ä¸‹è½½ nvm</a></p><p>ä¸‹è½½ nvm-setup.exe æ–‡ä»¶</p><p>å®‰è£…å‰,å…ˆå®‰è£… node(éœ€è¦è®¾ç½®é»˜è®¤ node è·¯å¾„),å°†é»˜è®¤ node åŠ å…¥åˆ° nvm ä¸­</p><h2 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h2><p><a href="https://github.com/MicrosoftArchive/redis/releases">ä¸‹è½½</a></p><p>ä¸‹è½½<code>Redis-x64-3.0.504.msi</code> ä¸ç”¨é…ç½®æ–‡ä»¶æœåŠ¡<br>ä¸‹è½½<code>Redis-x64-3.0.504.zip</code> éœ€è¦é…ç½®æœåŠ¡</p><p>åœ¨ Redis ç›®å½•ä¸‹: ./redis-server â€“service-install redis.windows.conf â€“loglevel verbose<br><a href="https://blog.csdn.net/justinytsoft/article/details/54580919">redis å¯åŠ¨å‘½ä»¤</a></p><h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><p>NPM çš„å…¨ç§°æ˜¯ Node Package Managerï¼Œæ˜¯ä¸€ä¸ª NodeJS åŒ…ç®¡ç†å’Œåˆ†å‘å·¥å…·ï¼Œå·²ç»æˆä¸ºäº†éå®˜æ–¹çš„å‘å¸ƒ Node æ¨¡å—ï¼ˆåŒ…ï¼‰çš„æ ‡å‡†ã€‚</p><p>vue é¡¹ç›®æ£€æµ‹(vue é¡¹ç›®æ£€æµ‹ ä¾èµ–åŒ…æ˜¯å¦æœ‰ä½¿ç”¨ï¼Œç¼©å‡æ‰“åŒ…åä½“ç§¯)</p><p><a href="https://blog.csdn.net/qq_37816525/article/details/98076980">npm ä¾èµ–åŒ…æ£€æµ‹</a></p><p>æŸ¥çœ‹ä¾èµ–åŒ…</p><blockquote><p><code>npm config list</code> æŸ¥çœ‹é…ç½®åˆ—è¡¨(å…¨)</p></blockquote><p>; cli configs<br>metrics-registry = â€œ<a href="http://registry.npm.taobao.org/&quot;">http://registry.npm.taobao.org/&quot;</a><br>scope = â€œâ€<br>user-agent = â€œnpm/6.14.13 node/v14.17.0 win32 x64â€</p><p>; userconfig C:\Users\wecy.npmrc<br>ELECTRON_BUILDER_BINARIES_MIRROR = â€œ<a href="https://mirrors.huaweicloud.com/electron-builder-binaries/&quot;">https://mirrors.huaweicloud.com/electron-builder-binaries/&quot;</a><br>ELECTRON_MIRROR = â€œ<a href="http://npm.taobao.org/mirrors/electron/&quot;">http://npm.taobao.org/mirrors/electron/&quot;</a><br>cache = â€œD:\nodejs\node_cacheâ€<br>prefix = â€œD:\nodejs\node_globalâ€<br>puppeteer_download_host = â€œ<a href="https://npm.taobao.org/mirrors&quot;">https://npm.taobao.org/mirrors&quot;</a><br>registry = â€œ<a href="http://registry.npm.taobao.org/&quot;">http://registry.npm.taobao.org/&quot;</a></p><p>; globalconfig D:\nodejs\node_global\etc\npmrc<br>python = â€œC:\Users\wecy\.windows-build-tools\python27\python.exeâ€</p><p>; builtin config undefined</p><p>; node bin location = D:\nodejs\node.exe<br>; cwd = D:\fix-bug\nuxt-web-b2c<br>; HOME = C:\Users\wecy<br>; â€œnpm config ls -lâ€ to show all defaults.</p><p>è®¾ç½®æ·˜å®é•œåƒ</p><blockquote><p><code>npm config set registry https://registry.npm.taobao.org</code> //åˆ‡æ¢å›½å†…é•œåƒï¼Œä½¿ç”¨æ·˜å®é•œåƒ<br><code>npm config set registry https://registry.npmjs.org</code> //å›½å¤–(é»˜è®¤)<br><code>npm config get registry</code> //æŸ¥çœ‹å½“å‰é•œåƒä½¿ç”¨çš„åœ°å€</p></blockquote><p><strong>ä¾èµ–åŒ…å®‰è£…å¤±è´¥</strong></p><p>å¿½ç•¥ npm è„šæœ¬</p><blockquote><p><code>npm install --ignore-scripts</code></p></blockquote><p>â€“ignore-scripts è¡¨ç¤º npm å°†ä¸ä¼šè¿è¡Œåœ¨ package.json ä¸­æŒ‡å®šçš„ scripts è„šæœ¬</p><h2 id="npm-å®‰è£…å¤±è´¥"><a href="#npm-å®‰è£…å¤±è´¥" class="headerlink" title="npm å®‰è£…å¤±è´¥"></a>npm å®‰è£…å¤±è´¥</h2><p>npm cache clean â€“force<br>npm config set strict-ssl false<br>npm install</p><h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><p>å¤„ç† npm å®‰è£…ä¾èµ–æ—¶æç¤ºï¼šcb() never called çš„è§£å†³æ–¹æ³•ï¼š</p><p><a href="https://www.ihtmlcss.com/archives/1430.html">å‚è€ƒ</a></p><p>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œï¼š<code>npm install -g windows-build-tools</code></p><p>å¦‚æœæœ€åå®‰è£…å¡åœ¨ Successfully installed Python 2.7ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li><p><kbd>win</kbd> + <kbd>r</kbd> æ‰“å¼€è¿è¡Œçª—å£</p></li><li><p>è¾“å…¥ %temp% ç„¶åå›è½¦</p></li><li><p>åœ¨æ‰“å¼€çš„æ–‡ä»¶å¤¹ä¸­æ–°å»ºæ–‡ä»¶ï¼š<code>dd_client_.log</code> å¹¶å†™å…¥ Closing installer. Return code: 3010. ç„¶åä¿å­˜</p></li></ol><p>è¿˜æ˜¯å¤±è´¥</p><p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ<code>cmd</code>å‘½ä»¤è¡Œçª—å£ è¿›å…¥é¡¹ç›®ç›®å½•</p><p>é‡æ–°åˆ‡æ¢ npm é…ç½®</p><blockquote><p><code>npm config set registry https://registry.npm.taobao.org</code> //åˆ‡æ¢å›½å†…é•œåƒï¼Œä½¿ç”¨æ·˜å®é•œåƒ<br><code>npm config set registry https://registry.npmjs.org</code> //å›½å¤–(é»˜è®¤)</p></blockquote><p><strong>mac ä¸‹é…ç½® python</strong><br>å‚è€ƒåœ°å€: <a href="https://zhuanlan.zhihu.com/p/191495100">https://zhuanlan.zhihu.com/p/191495100</a></p><ol><li><code>vi ~/.bash_profile</code></li><li>é…ç½®å…¨å±€è·¯å¾„</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PATH_PYTHON=&quot;/Library/Frameworks/Python.framework/Versions/3.8/bin&quot;</span><br><span class="line"># Setting PATH for Phantomjs 2.1.1-maxcosx</span><br><span class="line">PATH_PHANTOM=&quot;/Users/wecychen/PhantomJs/phantomjs-2.1.1-macosx/bin&quot;</span><br><span class="line">PATH=&quot;$&#123;PATH_PYTHON&#125;:$&#123;PATH_PHANTOM&#125;:$&#123;PATH&#125;&quot;</span><br><span class="line">export PATH</span><br></pre></td></tr></table></figure><ol start="3"><li><p><code>source ~/.bash_profile</code></p></li><li><p><code>phantomjs --version</code></p></li></ol><p><strong>puppeteer</strong></p><p><a href="https://blog.csdn.net/w20101310/article/details/90288271?utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.no_search_link&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.no_search_link">æŠ¥é”™å¤„ç†</a></p><blockquote><p><code>npm config set puppeteer_download_host https://npm.taobao.org/mirrors</code></p></blockquote><blockquote><p><code>npm config set phantomjs_cdnurl https://npm.taobao.org/mirrors/phantomjs/</code> </p></blockquote><p><strong>åˆ é™¤é•œåƒæºé…ç½®</strong></p><blockquote><p><code>npm config delete puppeteer_download_host</code></p></blockquote><p><a href="https://www.cnblogs.com/ilizhu/p/14504049.html">centos å®‰è£… puppeteer é‡åˆ°çš„æŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ</a></p><p>linux ä¸‹æŠ¥é”™å¤„ç†<br>ä¸€<br>/home/work/node_modules/puppeteer/.local-chromium/linux-856583/chrome-linux/chrome: error while loading shared libraries: libatk-1.0.so.0: cannot open shared object file: No such file or directory<br>è§£å†³:<code>yum install atk</code></p><p>äºŒ<br>æŠ¥é”™:/home/work/node_modules/puppeteer/.local-chromium/linux-856583/chrome-linux/chrome: error while loading shared libraries: libatk-bridge-2.0.so.0: cannot open shared object file: No such file or directory<br>è§£å†³:<code>yum install at-spi2-atk</code></p><p>ä¸‰<br>æŠ¥é”™:/home/work/node_modules/puppeteer/.local-chromium/linux-856583/chrome-linux/chrome: error while loading shared libraries: libxkbcommon.so.0: cannot open shared object file: No such file or directory<br>è§£å†³:<code>yum install libxkbcommon-x11-devel</code></p><p>å››<br>æŠ¥é”™:/home/work/node_modules/puppeteer/.local-chromium/linux-856583/chrome-linux/chrome: error while loading shared libraries: libXcomposite.so.1: cannot open shared object file: No such file or directory<br>è§£å†³:<code>yum install libXcomposite</code></p><p>äº”<br>æŠ¥é”™:/home/work/node_modules/puppeteer/.local-chromium/linux-856583/chrome-linux/chrome: error while loading shared libraries: libgtk-3.so.0: cannot open shared object file: No such file or directory<br>è§£å†³:<code>yum install gtk3</code></p><p><strong>æŠ¥ node-sass é”™è¯¯ã€python é”™è¯¯</strong></p><p><a href="https://blog.csdn.net/qq_43541746/article/details/124048252">è¯¦ç»†è§£å†³</a></p><p><a href="https://blog.csdn.net/qq_43541746/article/details/124048252">è§£å†³ä¸€</a></p><p>ç®¡ç†å‘˜èº«ä»½ cmd è¿è¡Œ <code>npm install --global --production windows-build-tools</code></p><p>æ‰“å¼€ <code>C:\Users\ç”¨æˆ·å\.windows-build-tools</code> å¤åˆ¶<code>python27</code>æ–‡ä»¶å¤¹æ”¾åœ¨ c ç›˜å†…</p><p><a href="https://blog.csdn.net/sdnini/article/details/123089223">è§£å†³äºŒ</a></p><ol><li><a href="https://www.python.org/download/releases/2.7/">å®‰è£… python</a> Windows X86-64 MSI Installer (2.7.0) <a href="sig">1</a></li><li>åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ path ä¸­æ·»åŠ è·¯å¾„ C:\Python27</li><li>è¿è¡Œ<code>npm rebuild node-sass</code> å‘½ä»¤</li><li>è¿è¡Œ<code>npm install</code></li></ol><p>å®‰è£…å¤±è´¥ ç”¨ cnpm å®‰è£…</p><p><strong>å¤„ç† npm å®‰è£…å¤±è´¥</strong></p><p><a href="https://blog.csdn.net/qq_43405812/article/details/119686781?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-119686781-blog-123046105.pc_relevant_aa&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-119686781-blog-123046105.pc_relevant_aa&utm_relevant_index=1">å‚è€ƒ</a></p><p>ç½‘ç»œä¸Šæ‰¾çš„å…¶ä»–åŠæ³•<br>ç¬¬ä¸€ç§<br>1ã€é¦–å…ˆè¦ä»¥ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ cmd æ¸…é™¤ä½ çš„ npm ç¼“å­˜ : <code>npm cache clean -f</code><br>2ã€æ¸…é™¤å®Œç¼“å­˜åï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Node helperï¼š <code>npm install -g n</code></p><p>ç¬¬äºŒç§<br>1ã€åˆ é™¤ node_modules å’Œ package-lock.json<br>2ã€ä»¥ç®¡ç†å‘˜æ–¹å¼æ‰§è¡Œ<br><code>npm cache clean --force</code><br><code>npm install</code></p><p>ç¬¬ä¸‰ç§<br>1ã€æ¸…æ¥š npm ç¼“å­˜ï¼š<code>npm cache clean -f</code><br>2ã€ å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Node <code>helper ï¼šnpm install -g n</code><br>3ã€ å®‰è£… npm åŒ…ç®¡ç†åŠ©æ‰‹ ï¼š<code>npm install -g n --force</code><br>4ã€ å®‰è£… npm ï¼š<code>npm install</code></p><p>ç¬¬å››ç§<br>1ã€ ä»¥ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ cmd æ¸…é™¤ä½ çš„ npm ç¼“å­˜ (mac ç”µè„‘åœ¨ npm å‰åŠ  sudo) ï¼š<code>npm cache clean -f</code><br>2ã€ æ¸…é™¤å®Œç¼“å­˜åï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Node helper ï¼š<code>npm install -g n</code><br>3ã€å®‰è£… npm åŒ…ç®¡ç†åŠ©æ‰‹ï¼š<code>npm install -g n --force</code><br>4ã€ç”¨ n åŠ©æ‰‹å®‰è£…æœ€æ–°çš„ç¨³å®šç‰ˆ nodeï¼š<code>n stable</code></p><p><strong>chromedriver</strong></p><p>è¿˜æ˜¯å¤±è´¥,æ›´æ”¹æ•°æ®æº<br><code>npm config set chromedriver_cdnurl http://cdn.npm.taobao.org/dist/chromedriver</code></p><p><strong>ffmpeg-static å®‰è£…å¤±è´¥</strong></p><p><code>npm config set FFMPEG_BINARIES_URL https://cdn.npmmirror.com/binaries/ffmpeg-static</code></p><p>æˆ–ä½¿ç”¨ cnpm å®‰è£…</p><blockquote><p><code>npm install cnpm -g</code> &gt; <code>cnpm i</code></p></blockquote><!-- ä½¿ç”¨ yarn å®‰è£…> `yarn install` --><p><strong>yarn</strong></p><p>Yarn Facebook è´¡çŒ®çš„ Javascript åŒ…ç®¡ç†å™¨ã€‚</p><p><strong>rimraf</strong></p><ol><li>åˆ é™¤åŒ…<blockquote><p><code>npm install rimraf -g</code> &gt; <code>rimraf node_modules/</code></p></blockquote></li></ol><h2 id="electron"><a href="#electron" class="headerlink" title="electron"></a>electron</h2><p><a href="http://www.electronjs.org/zh/docs/latest">å®˜ç½‘æ–‡æ¡£</a></p><p>ä¾èµ–åŒ…å®‰è£…å¤±è´¥å¤„ç†</p><blockquote><p><code>npm config set ELECTRON_MIRROR http://npm.taobao.org/mirrors/electron/</code> //å®‰è£…é•œåƒ</p></blockquote><blockquote><p><code>npm config set ELECTRON_BUILDER_BINARIES_MIRROR https://mirrors.huaweicloud.com/electron-builder-binaries/</code> //æ‰“åŒ…é•œåƒ</p></blockquote><h2 id="node-sass"><a href="#node-sass" class="headerlink" title="node-sass"></a>node-sass</h2><p>å®‰è£…å¤±è´¥å¤„ç†</p><blockquote><p><code>npm config set sass_binary_site https://npm.taobao.org/mirrors/node-sass/</code></p></blockquote><h2 id="pnpm"><a href="#pnpm" class="headerlink" title="pnpm"></a>pnpm</h2><p><a href="https://www.jianshu.com/p/a805e182798f">pnpm ä»‹ç»</a></p><blockquote><p><code>npm install pnpm -g</code> // å…¨å±€å®‰è£…<br><code>pnpm config get registry</code> // æŸ¥çœ‹æº<br><code>pnpm config set registry http://registry.npm.taobao.org</code> // åˆ‡æ¢æ·˜å®æº</p></blockquote><p>è®¾ç½®<br><code>pnpm install åŒ…</code><br><code>pnpm i åŒ…</code><br><code>pnpm add</code> åŒ…<code>// -S é»˜è®¤å†™å…¥ dependencies</code>pnpm add -D<code>// -D devDependencies</code>pnpm add -g<code>// å…¨å±€å®‰è£…</code>pnpm remove åŒ…<code>//ç§»é™¤åŒ…</code>pnpm remove åŒ… â€“global<code>//ç§»é™¤å…¨å±€åŒ…</code>pnpm up<code>//æ›´æ–°æ‰€æœ‰ä¾èµ–é¡¹</code>pnpm upgrade åŒ…<code>//æ›´æ–°åŒ…</code>pnpm upgrade åŒ… â€“global` //æ›´æ–°å…¨å±€åŒ…<br>è®¾ç½®å­˜å‚¨è·¯å¾„ï¼špnpm config set store-dir /path/to/.pnpm-store</p><h1 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h1><h2 id="è¾“å…¥æ³•"><a href="#è¾“å…¥æ³•" class="headerlink" title="è¾“å…¥æ³•"></a>è¾“å…¥æ³•</h2><p><a href="https://shurufa.sogou.com/">æœç‹—è¾“å…¥æ³•</a></p><p><a href="https://pinyin.sogou.com/windows/?r=mac&t=pinyin">æœç‹—ä¸‹è½½</a></p><p>æœç‹—çš®è‚¤åç§° ã€ç«¹å­ã€‘æå…‰é»‘å¤œ</p><h2 id="qq"><a href="#qq" class="headerlink" title="qq"></a>qq</h2><p><a href="https://im.qq.com/index">å®˜ç½‘ä¸‹è½½</a></p><p>æ–‡ä»¶å’ŒèŠå¤©è®°å½•è·¯å¾„</p><p><code>E:\qqæ–‡ä»¶\492090230\FileRecv\</code> æ–‡ä»¶è·¯å¾„<br><code>E:\qqæ–‡ä»¶\</code> èŠå¤©è®°å½•è·¯å¾„</p><h2 id="å¾®ä¿¡"><a href="#å¾®ä¿¡" class="headerlink" title="å¾®ä¿¡"></a>å¾®ä¿¡</h2><p><a href="https://weixin.qq.com/">å®˜ç½‘ä¸‹è½½</a></p><p>æ–‡ä»¶å’ŒèŠå¤©è®°å½•è·¯å¾„ <code>E:\å¾®ä¿¡æ–‡ä»¶ç®¡ç†\WeChat Files\</code><br>acer <code>E:\Documents\WeChat Files\</code></p><h1 id="è¿œç¨‹å”¤é†’"><a href="#è¿œç¨‹å”¤é†’" class="headerlink" title="è¿œç¨‹å”¤é†’"></a>è¿œç¨‹å”¤é†’</h1><p>å‰æ: åœ¨ç¡çœ ,å…³æœºæƒ…å†µä¸‹,åŒä¸€ä¸ªå±€åŸŸç½‘å”¤é†’</p><p><a href="https://zhuanlan.zhihu.com/p/29100706">æ•™ç¨‹</a></p><p>å±€åŸŸç½‘å”¤é†’ send Options ç”¨ Local Subnet é€‰é¡¹é…ç½®</p><p>ä¸€. <a href="%E2%80%8Bhttps://www.depicus.com/wake-on-lan/wake-on-lan-gui%E2%80%8B">â€‹WakeOnLanGui ä¸‹è½½</a>(å”¤é†’è½¯ä»¶)</p><p><img src="/image/software/%E2%80%8BWakeOnLanGui.png" alt="â€‹WakeOnLanGui"></p><p>äºŒ. <a href="https://www.xitongzhijia.net/soft/69311.html">WakeMeOnLan ä¸‹è½½</a>(å±€åŸŸç½‘è¿æ¥ ip ä¿¡æ¯)</p><h1 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h1><h2 id="å…³é—­-win11-å®‰å…¨ä¸­å¿ƒ"><a href="#å…³é—­-win11-å®‰å…¨ä¸­å¿ƒ" class="headerlink" title="å…³é—­ win11 å®‰å…¨ä¸­å¿ƒ"></a>å…³é—­ win11 å®‰å…¨ä¸­å¿ƒ</h2><p>å…³é—­å®‰å…¨ä¸­å¿ƒè‡ªå¯åŠ¨<br><a href="https://www.bilibili.com/read/cv13898154/">https://www.bilibili.com/read/cv13898154/</a></p><p>å½»åº•å…³é—­<br><a href="https://www.cnblogs.com/rqcim/p/16116684.html">https://www.cnblogs.com/rqcim/p/16116684.html</a></p>]]></content>
    
    
    <summary type="html">å¸¸ç”¨çš„è½¯ä»¶</summary>
    
    
    
    <category term="è½¯ä»¶" scheme="https://wecy-chen.github.io/categories/%E8%BD%AF%E4%BB%B6/"/>
    
    
    <category term="è½¯ä»¶" scheme="https://wecy-chen.github.io/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>vscodeé…ç½®</title>
    <link href="https://wecy-chen.github.io/2022/08/09/vscode/"/>
    <id>https://wecy-chen.github.io/2022/08/09/vscode/</id>
    <published>2022-08-08T23:04:35.000Z</published>
    <updated>2022-10-19T01:18:43.495Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>æ‰“å¼€ vscode</p><p>æ‰“å¼€èœå•æ [æ–‡ä»¶]â€”&gt;[é¦–é€‰é¡¹]â€”&gt;[è®¾ç½®]â€”&gt;æ‰“å¼€è®¾ç½®(<code>settings.json</code>)</p><h2 id="åŸºç¡€é…ç½®å¦‚ä¸‹"><a href="#åŸºç¡€é…ç½®å¦‚ä¸‹" class="headerlink" title="åŸºç¡€é…ç½®å¦‚ä¸‹"></a>åŸºç¡€é…ç½®å¦‚ä¸‹</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// åº•éƒ¨çŠ¶æ€æ </span></span><br><span class="line">  <span class="attr">&quot;workbench.colorCustomizations&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;statusBar.background&quot;</span>: <span class="string">&quot;#1A1A1A&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;statusBar.noFolderBackground&quot;</span>: <span class="string">&quot;#0A0A0D&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;statusBar.debuggingBackground&quot;</span>: <span class="string">&quot;#511f1f&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//ç¼©è¿›2æ ¼</span></span><br><span class="line">  <span class="attr">&quot;editor.tabSize&quot;</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="comment">//ç¼©è¿›æ ¼æ•°ä¸è¢«é‡å†™</span></span><br><span class="line">  <span class="attr">&quot;editor.detectIndentation&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">//é…ç½®gitè·¯å¾„(win)</span></span><br><span class="line">  <span class="attr">&quot;terminal.integrated.defaultProfile.windows&quot;</span>: <span class="string">&quot;Git-Bath&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;terminal.integrated.profiles.windows&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;Git-Bath&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;path&quot;</span>: <span class="string">&quot;D:\\Git\\bin\\bash.exe&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;args&quot;</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="comment">//è‡ªåŠ¨ä¿å­˜</span></span><br><span class="line">  <span class="attr">&quot;files.autoSave&quot;</span>: <span class="string">&quot;afterDelay&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Vscode-ä¸»é¢˜å­—ä½“"><a href="#Vscode-ä¸»é¢˜å­—ä½“" class="headerlink" title="Vscode ä¸»é¢˜å­—ä½“"></a>Vscode ä¸»é¢˜å­—ä½“</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸»é¢˜å‘å…‰</span></span><br><span class="line"><span class="string">&quot;vscode_custom_css.imports&quot;</span>: [</span><br><span class="line">  <span class="string">&quot;file:///E:/css/synthwave84.css&quot;</span></span><br><span class="line">],</span><br><span class="line"><span class="comment">//å­—ä½“é¡ºåº</span></span><br><span class="line"><span class="string">&quot;editor.fontFamily&quot;</span>: <span class="string">&quot;Consolas,Microsoft Yahei, &#x27;Courier New&#x27;, monospace&quot;</span></span><br></pre></td></tr></table></figure><p><a href="https://wecy-chen.github.io/css/synthwave84.css">css æ–‡ä»¶åœ°å€</a></p><p>å®‰è£… <code>Custom CSS and JS Loader</code> æ‰©å±•æ ·å¼æ’ä»¶</p><p><kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>P</kbd> æ‰“å¼€æ’ä»¶å‘½ä»¤è®¾ç½®</p><p>è¾“å…¥å‘½ä»¤ <code>Enable Custom CSS and JS</code> é‡å¯ç”Ÿæ•ˆ</p><p>å®‰è£…<code>Fix VSCode Checksums</code> æ’ä»¶ è¾“å…¥<code>Fix Checksums: Apply</code> å»æ‰ code å®‰è£…ä¼¼ä¹æŸåã€‚è¯·é‡æ–°å®‰è£…ã€‚æç¤º</p><p>æ•ˆæœ<br><img src="/image/vscode/setting.png" alt="setting"></p><h2 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h2><p><strong>Prettier - Code formatter</strong><br>ä»£ç æ ¼å¼åŒ–</p><h2 id="æ‰“å­—ç‰¹æ•ˆ"><a href="#æ‰“å­—ç‰¹æ•ˆ" class="headerlink" title="æ‰“å­—ç‰¹æ•ˆ"></a>æ‰“å­—ç‰¹æ•ˆ</h2><p><a href="https://blog.csdn.net/xiaowuguiya/article/details/118436910">æ•™ç¨‹</a></p><p><strong>Power Mode</strong></p><p>è®¾ç½®ä¸­æœç´¢(æ–‡ä»¶â€”&gt;é¦–é€‰é¡¹â€”&gt;è®¾ç½®)</p><ol><li><p>å¯ç”¨ <code>powermode.enable</code></p></li><li><p>æŠ–åŠ¨<code>powermode</code>â€”&gt;<code>shake</code> æ‰¾åˆ°<code>Shake intensity</code> æ”¹ä¸º 0 å»æ‰æŠ–åŠ¨</p></li><li><p>æ›´æ¢ç‰¹æ•ˆ<code>powermode</code>â€”&gt;<code>General</code> æ‰¾åˆ°<code>Presets</code> ä¸‹æ‹‰é€‰æ‹©éœ€è¦çš„ç‰¹æ•ˆ</p></li></ol><h2 id="èƒŒæ™¯è‰²é€æ˜"><a href="#èƒŒæ™¯è‰²é€æ˜" class="headerlink" title="èƒŒæ™¯è‰²é€æ˜"></a>èƒŒæ™¯è‰²é€æ˜</h2><p><strong>Windows opacity</strong></p><p>é…ç½® setting.json</p><p><code>&quot;winopacity.opacity&quot;: 240,</code> 100 ~ 255 å°±èƒ½çœ‹è§</p><h1 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h1><ol><li><p>å¸è½½ vscode è½¯ä»¶</p></li><li><p>åˆ é™¤æ²¡å¸å¹²å‡€çš„é…ç½®ä¿¡æ¯å’Œæ’ä»¶</p><ul><li>åˆ é™¤<code>C:\Users\wecy\.vscode</code>æœ¬åœ°æ’ä»¶æ–‡ä»¶å¤¹</li><li>åˆ é™¤<code>C:\Users\wecy\AppData\Roaming\Code</code>æœ¬åœ°ç¼“å­˜</li></ul></li><li><p>é‡æ–°å®‰è£…</p></li></ol><p><strong>æ–¹æ³•äºŒï¼šåŸç†åŒæ–¹æ³•ä¸€</strong></p><ol><li>win + r æ‰“å¼€è¿è¡Œ %appdata% å›è½¦</li><li>åˆ é™¤ Code å’Œ Visual Studio Code æ–‡ä»¶å¤¹</li><li>åœ°å€æ è¾“å…¥ %userprofile% å›è½¦</li><li>åˆ é™¤ .vscode æ–‡ä»¶å¤¹</li></ol><h1 id="åŒæ­¥"><a href="#åŒæ­¥" class="headerlink" title="åŒæ­¥"></a>åŒæ­¥</h1><p><strong>æ³¨:è®¾ç½®åŒæ­¥é…ç½®å¤±è´¥,è¦ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ vscode</strong></p>]]></content>
    
    
    <summary type="html">vscodeé…ç½®</summary>
    
    
    
    <category term="vscode" scheme="https://wecy-chen.github.io/categories/vscode/"/>
    
    
    <category term="vscode" scheme="https://wecy-chen.github.io/tags/vscode/"/>
    
  </entry>
  
  <entry>
    <title>uni-app</title>
    <link href="https://wecy-chen.github.io/2022/08/08/uni-app/"/>
    <id>https://wecy-chen.github.io/2022/08/08/uni-app/</id>
    <published>2022-08-07T23:04:35.000Z</published>
    <updated>2022-11-28T01:48:03.319Z</updated>
    
    <content type="html"><![CDATA[<p>uni-app å¼€å‘</p><h1 id="Vue2"><a href="#Vue2" class="headerlink" title="Vue2"></a>Vue2</h1><p><a href="https://juejin.cn/post/7090532271257714695#heading-14">å‚è€ƒ</a></p><p><code>æ³¨</code> Vue2 åˆ›å»ºçš„é¡¹ç›®ï¼Œè„šæ‰‹æ¶ç‰ˆæœ¬è¦ç”¨@4 çš„ç‰ˆæœ¬ï¼Œç”¨@5 çš„ç‰ˆæœ¬è¿è¡Œé¡¹ç›®ä¼šæŠ¥é”™ï¼Œè¿™é‡Œæ¨è @4.5.15</p><p>æŸ¥çœ‹ vue-cli ç‰ˆæœ¬</p><blockquote><p>$ <code>vue --version</code></p></blockquote><blockquote><p>@vue/cli 4.5.15</p></blockquote><h2 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h2><blockquote><p><code>npm install -g @vue/cli@4.5.15</code></p></blockquote><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><blockquote><p><code>vue create -p dcloudio/uni-preset-vue é¡¹ç›®åç§°</code></p></blockquote><p>ç­‰å¾…è‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…</p><h2 id="é€‰æ‹©æ¨¡æ¿"><a href="#é€‰æ‹©æ¨¡æ¿" class="headerlink" title="é€‰æ‹©æ¨¡æ¿"></a>é€‰æ‹©æ¨¡æ¿</h2><p>é€‰æ‹©é»˜è®¤æ¨¡æ¿</p><h2 id="json-æ–‡ä»¶å¯å†™æ³¨é‡Š"><a href="#json-æ–‡ä»¶å¯å†™æ³¨é‡Š" class="headerlink" title="json æ–‡ä»¶å¯å†™æ³¨é‡Š"></a>json æ–‡ä»¶å¯å†™æ³¨é‡Š</h2><p>æ³¨: ä¸è¦åœ¨ package.json æ·»åŠ æ³¨é‡Š, å¦åˆ™ç¼–è¯‘ä¼šå‡ºé”™<br>é…ç½® jsonc é˜²æ­¢æ–‡ä»¶è­¦å‘Š, åœ¨è®¾ç½®ä¸­æ‰“å¼€ <code>settings.json</code> ï¼Œæ·»åŠ ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;files.associations&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;pages.json&quot;</span>:<span class="string">&quot;jsonc&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;manifest.json&quot;</span>:<span class="string">&quot;jsonc&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;jsconfig.json&quot;</span>:<span class="string">&quot;jsonc&quot;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h1><h2 id="è¯­æ³•æç¤ºå’Œé«˜äº®"><a href="#è¯­æ³•æç¤ºå’Œé«˜äº®" class="headerlink" title="è¯­æ³•æç¤ºå’Œé«˜äº®"></a>è¯­æ³•æç¤ºå’Œé«˜äº®</h2><ul><li><code>uni-app-schemas</code>æ£€éªŒæ’ä»¶</li></ul><p>æ ¡éªŒ <code>uni-app</code> ä¸­çš„ <code>androidPrivacy.json</code> ã€ <code>pages.json</code> å’Œ <code>manifest.json</code> æ ¼å¼`</p><ul><li><code>uni-app-snippets</code>æç¤ºæ’ä»¶</li></ul><h2 id="ä¸€é”®åˆ›å»ºé¡µé¢ã€ç»„ä»¶ã€åˆ†åŒ…"><a href="#ä¸€é”®åˆ›å»ºé¡µé¢ã€ç»„ä»¶ã€åˆ†åŒ…" class="headerlink" title="ä¸€é”®åˆ›å»ºé¡µé¢ã€ç»„ä»¶ã€åˆ†åŒ…"></a>ä¸€é”®åˆ›å»ºé¡µé¢ã€ç»„ä»¶ã€åˆ†åŒ…</h2><ul><li><code>uni-create-view</code>æ’ä»¶</li></ul><h1 id="uni-app-Vue3-TS-æ­å»º"><a href="#uni-app-Vue3-TS-æ­å»º" class="headerlink" title="uni-app + Vue3 + TS æ­å»º"></a>uni-app + Vue3 + TS æ­å»º</h1><h2 id="æ•™ç¨‹äºŒ"><a href="#æ•™ç¨‹äºŒ" class="headerlink" title="æ•™ç¨‹äºŒ"></a>æ•™ç¨‹äºŒ</h2><p>åˆ›å»º vue3 é¡¹ç›®</p><blockquote><p><code>npx degit dcloudio/uni-preset-vue#vite-ts ç›®å½•å</code> // å®‰è£…é¡¹ç›®<br><code>npm install</code> //å®‰è£…ä¾èµ–</p></blockquote><p>uni-app æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒæ›´æ–°@dcloudio ä¾èµ–åŒ…</p><blockquote><p><code>npx @dcloudio/uvm alpha</code></p></blockquote><h2 id="æ•™ç¨‹ä¸€"><a href="#æ•™ç¨‹ä¸€" class="headerlink" title="æ•™ç¨‹ä¸€"></a>æ•™ç¨‹ä¸€</h2><p>[(<a href="https://www.jianshu.com/p/8cf806f974c3)]">https://www.jianshu.com/p/8cf806f974c3)]</a></p><blockquote><p><code>npm install -g @vue/cli</code> å®‰è£…æ›´æ–° vue è„šæ‰‹æ¶<br><code>vue create -p dcloudio/uni-preset-vue#vue3 uni-app-vue3</code> å®‰è£… uni-app é»˜è®¤æ¨¡æ¿ (é€‰æ‹© typeScript)</p></blockquote><p><a href="https://ext.dcloud.net.cn/plugin?id=4941">hello-uniapp ç¤ºä¾‹å·¥ç¨‹</a></p><p>å®˜æ–¹æ›´å¤šç‰ˆæœ¬é€‰æ‹©å‘½ä»¤ ( <code>vue create -p dcloudio/uni-preset-vue my-project</code> )</p><p>å¯ä»¥å¸è½½ &gt; <code>npm uninstall vue-class-component vue-property-decorator</code> ä¾èµ–åŒ…(éå¿…é¡»)</p><p><a href="https://www.cnblogs.com/goloving/p/15407340.html">vue-class-component</a></p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>æ›´æ–°ä¸‹ç‰ˆæœ¬åŒ…</p><blockquote><p><code>npm install vue@3.2.20 vuex@4.0.2 typescript@4.4.4</code></p></blockquote><dl><dt>æŠ¥é”™å¤„ç†</dt><dd>Cannot find module â€˜vue-loader-v16/package.jsonâ€™ é‡æ–°å®‰è£…ä¸‹ vue-loader-v16</dd></dl><blockquote><p><code>yarn remove vue-loader-v16</code> &gt; <code>yarn add vue-loader-v16</code> é€‰æ‹© <code>2.0.1-alpha-35420220810001ç‰ˆæœ¬</code></p></blockquote><p>error in ./src/main.ts</p><p>Syntax Error: TypeError: loaderContext.getOptions is not a function<br>@ multi (webpack)-dev-server/client?<a href="http://192.168.1.208:8080/sockjs-node">http://192.168.1.208:8080/sockjs-node</a> (webpack)/hot/dev-server.js ./src/main.ts</p><p>é…ç½® SASS<br><code>npm install node-sass@4.0.0 sass-loader@7.3.1 --save-dev</code></p><p>// å¦‚é‡åˆ°å®‰è£…é—®é¢˜å¯æ‰‹åŠ¨åœ¨ package.json devDependencies æ‰‹åŠ¨ä¸­æ·»åŠ <br>// åˆ é™¤ node_modules ç„¶å é‡æ–°å®‰è£… npm install<br>å¤åˆ¶ä»£ç </p><h2 id="eslint-prettier"><a href="#eslint-prettier" class="headerlink" title="eslint + prettier"></a>eslint + prettier</h2><p><strong>é…ç½® eslint + prettier è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é…ç½®è·¯å¾„"><a href="#é…ç½®è·¯å¾„" class="headerlink" title="é…ç½®è·¯å¾„"></a>é…ç½®è·¯å¾„</h2><p><code>npm install @types/node --save-dev</code> å®‰è£…ä¾èµ–</p><p>åœ¨ <code>tsconfig.json</code> é…ç½® <code>compilerOptions</code> ä¸­å¢åŠ  <code> &quot;paths&quot;: &#123; &quot;@/*&quot;: [&quot;src/*&quot;] &#125;</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;target&quot;: &quot;esnext&quot;,</span><br><span class="line">    &quot;useDefineForClassFields&quot;: true,</span><br><span class="line">    &quot;module&quot;: &quot;esnext&quot;,</span><br><span class="line">    &quot;moduleResolution&quot;: &quot;node&quot;,</span><br><span class="line">    &quot;strict&quot;: true,</span><br><span class="line">    &quot;noImplicitAny&quot;: false,</span><br><span class="line">    &quot;jsx&quot;: &quot;preserve&quot;,</span><br><span class="line">    &quot;sourceMap&quot;: true,</span><br><span class="line">    &quot;resolveJsonModule&quot;: true,</span><br><span class="line">    &quot;esModuleInterop&quot;: true,</span><br><span class="line">    &quot;lib&quot;: [&quot;esnext&quot;, &quot;dom&quot;],</span><br><span class="line">    &quot;types&quot;: [&quot;@dcloudio/types&quot;],</span><br><span class="line">    &quot;baseUrl&quot;: &quot;.&quot;,</span><br><span class="line">    &quot;paths&quot;: &#123;</span><br><span class="line">      //è¿™é‡Œé…ç½®è·¯å¾„</span><br><span class="line">      &quot;@/*&quot;: [&quot;src/*&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;include&quot;: [&quot;src/**/*.ts&quot;, &quot;src/**/*.d.ts&quot;, &quot;src/**/*.tsx&quot;, &quot;src/**/*.vue&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="pages-json"><a href="#pages-json" class="headerlink" title="pages.json"></a>pages.json</h1><p><a href="https://uniapp.dcloud.net.cn/collocation/pages.html">pages.json é¡µé¢è·¯ç”±</a><br><a href="https://uniapp.dcloud.net.cn/collocation/package.html">å®˜ç½‘è¯´æ˜</a></p><h1 id="é¡µé¢"><a href="#é¡µé¢" class="headerlink" title="é¡µé¢"></a>é¡µé¢</h1><p><a href="https://uniapp.dcloud.net.cn/api/router.html#navigateto">å®˜ç½‘</a></p><h2 id="é¡µé¢è·³è½¬"><a href="#é¡µé¢è·³è½¬" class="headerlink" title="é¡µé¢è·³è½¬"></a>é¡µé¢è·³è½¬</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uni.navigateTo(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;/pages/QR-code/index&quot;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="api"><a href="#api" class="headerlink" title="api"></a>api</h1><h2 id="ä¾èµ–åŒ…"><a href="#ä¾èµ–åŒ…" class="headerlink" title="ä¾èµ–åŒ…"></a>ä¾èµ–åŒ…</h2><p><strong>äºŒç»´ç </strong></p><p><a href="https://www.jianshu.com/p/2e6dad005fa5">vue3 å¼•å…¥</a></p><h1 id="TS"><a href="#TS" class="headerlink" title="TS"></a>TS</h1><h2 id="å¼•å…¥æŠ¥é”™"><a href="#å¼•å…¥æŠ¥é”™" class="headerlink" title="å¼•å…¥æŠ¥é”™"></a>å¼•å…¥æŠ¥é”™</h2><p><code>tsconfig.json</code> æ·»åŠ  <code>&quot;noImplicitAny&quot;: false</code> ï¼Œæˆ–è€… <code>â€œstrictâ€: trueæ”¹ä¸ºfalse</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;target&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;useDefineForClassFields&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;module&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;strict&quot;</span>: <span class="literal">false</span>, <span class="comment">//éä¸¥æ ¼æ¨¡å¼</span></span><br><span class="line">    <span class="attr">&quot;jsx&quot;</span>: <span class="string">&quot;preserve&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;resolveJsonModule&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;esModuleInterop&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;lib&quot;</span>: [<span class="string">&quot;esnext&quot;</span>, <span class="string">&quot;dom&quot;</span>],</span><br><span class="line">    <span class="attr">&quot;types&quot;</span>: [<span class="string">&quot;@dcloudio/types&quot;</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;include&quot;</span>: [<span class="string">&quot;src/**/*.ts&quot;</span>, <span class="string">&quot;src/**/*.d.ts&quot;</span>, <span class="string">&quot;src/**/*.tsx&quot;</span>, <span class="string">&quot;src/**/*.vue&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="require-æŠ¥é”™"><a href="#require-æŠ¥é”™" class="headerlink" title="require æŠ¥é”™"></a>require æŠ¥é”™</h2><p><a href="https://blog.csdn.net/weixin_47093559/article/details/114081002">require is not defined</a></p><h2 id="å¤„ç†è·¨åŸŸ"><a href="#å¤„ç†è·¨åŸŸ" class="headerlink" title="å¤„ç†è·¨åŸŸ"></a>å¤„ç†è·¨åŸŸ</h2><p><strong>å¤„ç†ä¸€</strong></p><p>è®¾ç½®è¯·æ±‚å¤´ä¼šè§£å†³è·¨åŸŸé—®é¢˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">uni.request(&#123;</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;api/url&#x27;</span>,</span><br><span class="line">  <span class="attr">header</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">data</span>: params</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>å¤„ç†äºŒ</strong></p><p>åœ¨ manifest.json çš„ä»£ç è§†å›¾ä¸­ æ ¹èŠ‚ç‚¹ä¸­é…ç½® h5</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;devServer&quot;</span> : &#123;</span><br><span class="line">    <span class="comment">// &quot;port&quot; : 8080, //æµè§ˆå™¨è¿è¡Œç«¯å£</span></span><br><span class="line">    <span class="string">&quot;https&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="string">&quot;proxy&quot;</span> : &#123;</span><br><span class="line">        <span class="string">&quot;/baseUrlTest&quot;</span> : &#123;</span><br><span class="line">            <span class="string">&quot;target&quot;</span> : <span class="string">&quot;http://192.168.1.34:8084&quot;</span>,</span><br><span class="line">            <span class="string">&quot;changeOrigin&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;secure&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;pathRewrite&quot;</span> : &#123;</span><br><span class="line">                <span class="string">&quot;^/baseUrlTest&quot;</span> : <span class="string">&quot;&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;/baseUrlBuild&quot;</span> : &#123;</span><br><span class="line">            <span class="string">&quot;target&quot;</span> : <span class="string">&quot;http://zhbz-test.xxx.com&quot;</span>,</span><br><span class="line">            <span class="string">&quot;changeOrigin&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;secure&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;pathRewrite&quot;</span> : &#123;</span><br><span class="line">                <span class="string">&quot;^/baseUrlBuild&quot;</span> : <span class="string">&quot;&quot;</span> <span class="comment">//è·¯å¾„é‡å†™ï¼Œå°†æ¥å£è·¯å¾„ä¸­ä»¥/apiå¼€å¤´çš„éƒ¨åˆ†æ›¿æ¢æ‰</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼€å‘ç‰ˆé…ç½®ç”Ÿäº§ç¯å¢ƒé…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;cors&#x27;</span>=&gt;[</span><br><span class="line">  <span class="string">&#x27;Origin&#x27;</span> =&gt; [<span class="string">&#x27;*&#x27;</span>], <span class="comment">// å…è®¸è·¨åŸŸçš„è¯·æ±‚æº</span></span><br><span class="line">  <span class="string">&#x27;Access-Control-Request-Method&#x27;</span> =&gt; [<span class="string">&#x27;*&#x27;</span>], <span class="comment">// æ¥æ”¶çš„è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  <span class="string">&#x27;Access-Control-Request-Headers&#x27;</span> =&gt; [<span class="string">&#x27;*&#x27;</span>], <span class="comment">// è¯·æ±‚å¤´æ¥æ”¶ç±»å‹</span></span><br><span class="line">  <span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span> =&gt; <span class="literal">false</span>,  <span class="comment">// æ˜¯å¦å…è®¸è¯·æ±‚æºå¸¦ cookieï¼Œæ³¨æ„è¿™é‡Œå¦‚æœè®¾ç½®ä¸ºtrueï¼Œåˆ™ä¼šæŠ¥é”™</span></span><br><span class="line">  <span class="string">&#x27;Access-Control-Max-Age&#x27;</span> =&gt; <span class="number">3600</span> <span class="comment">// ç¼“å­˜ï¼Œå¯ä¸è®¾ç½®</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;uni-app å¼€å‘&lt;/p&gt;
&lt;h1 id=&quot;Vue2&quot;&gt;&lt;a href=&quot;#Vue2&quot; class=&quot;headerlink&quot; title=&quot;Vue2&quot;&gt;&lt;/a&gt;Vue2&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://juejin.cn/post/709053227125</summary>
      
    
    
    
    <category term="uni-app" scheme="https://wecy-chen.github.io/categories/uni-app/"/>
    
    
    <category term="uni-app" scheme="https://wecy-chen.github.io/tags/uni-app/"/>
    
  </entry>
  
  <entry>
    <title>markdownè¯­æ³•</title>
    <link href="https://wecy-chen.github.io/2022/05/09/md/"/>
    <id>https://wecy-chen.github.io/2022/05/09/md/</id>
    <published>2022-05-08T23:04:35.000Z</published>
    <updated>2022-08-22T01:42:38.305Z</updated>
    
    <content type="html"><![CDATA[<p><strong>markdown å­¦ä¹ </strong></p><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p><a href="https://baike.baidu.com/item/markdown/3245829?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a></p><ul><li><p>ç®€ä»‹<br>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚</p></li><li><p>åº”ç”¨</p></li></ul><p>å½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨ Markdown æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€ç®€ä¹¦ã€çŸ¥ä¹ç­‰</p><ul><li>å¾½ç« <br>å¾½ç« æ˜¯ä¸€ç§å°å·§ç²¾ç¾çš„å°å›¾æ ‡ï¼Œä¸€èˆ¬é…æœ‰ç›¸å…³æ–‡å­—è¿›è¡Œè¾…åŠ©è¯´æ˜ï¼Œå¯å¯¹æ•°æ®è¿›è¡Œç›‘æ§ï¼Œé“¾æ¥è·³è½¬ç­‰ï¼Œå¯Œæœ‰è¡¨ç°åŠ›ã€‚<br>å¸¸è§äº github é¡¹ç›®ä¸»é¡µï¼Œä½†å…¶ä¸ä»…å‡ºç°äº github é¡¹ç›®ä¸»é¡µï¼Œå‡¡æ˜¯èƒ½å¤Ÿè¡¨ç°å›¾ç‰‡çš„åœ°æ–¹éƒ½å¯ä»¥å‡ºç°å¾½ç« </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ ¼å¼: [![å›¾ç‰‡æ–‡å­—è¯´æ˜](å›¾ç‰‡æºåœ°å€)](è¶…é“¾æ¥åœ°å€)  å³è¶…é“¾æ¥å†…éƒ¨åµŒå¥—å›¾ç‰‡</span><br><span class="line">è¯­æ³•ï¼š</span><br><span class="line">[![github](https://img.shields.io/badge/github-xugaoyi-brightgreen.svg)](https://github.com/xugaoyi)</span><br></pre></td></tr></table></figure><p><a href="https://wecy-chen.github.io/"><img src="https://img.shields.io/badge/github-wecychen-brightgreen.svg" alt="github"></a></p><p>å¾½ç« ç”Ÿæˆç½‘ç«™: <a href="https://shields.io/">https://shields.io/</a></p><p><a href="https://segmentfault.com/a/1190000019552597">å¾½ç« ç”Ÿæˆæ•™ç¨‹</a></p><ul><li>ç¼–è¾‘<br>vscode ä¸‹è½½markdown-formatteræ’ä»¶<br>setting.jsoné…ç½®ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰ç…§jsæ ¼å¼åŒ–</span></span><br><span class="line"><span class="comment">// &quot;markdownFormatter.codeAreaToBlock&quot;: &quot;js&quot;,</span></span><br><span class="line"><span class="comment">// ä¸æ ¼å¼åŒ–</span></span><br><span class="line"><span class="string">&quot;markdownFormatter.codeAreaToBlock&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="comment">// è‡ªåŠ¨æ ¼å¼åŒ–æ ‡ç‚¹</span></span><br><span class="line"><span class="string">&quot;markdownFormatter.fullWidthTurnHalfWidth&quot;</span>: <span class="string">&quot;auto&quot;</span>,</span><br><span class="line"><span class="comment">// ä¸­æ–‡æ ‡ç‚¹æ ¼å¼åŒ–ä¸ºè‹±æ–‡</span></span><br><span class="line"><span class="comment">// &quot;markdownFormatter.fullWidthTurnHalfWidth&quot;: &quot;ï¼Œï¼šï¼›ï¼â€œâ€â€˜â€™ï¼ˆï¼‰ï¼Ÿã€‚&quot;,</span></span><br><span class="line"><span class="string">&quot;markdownFormatter.formatOpt&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;indent_size&quot;</span>: <span class="number">2</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&quot;[markdown]&quot;</span>: &#123;</span><br><span class="line">  <span class="comment">// è‡ªåŠ¨ä¿å­˜</span></span><br><span class="line">  <span class="string">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// æ˜¾ç¤ºç©ºæ ¼</span></span><br><span class="line">  <span class="string">&quot;editor.renderWhitespace&quot;</span>: <span class="string">&quot;all&quot;</span>,</span><br><span class="line">  <span class="comment">// å¿«é€Ÿè¡¥å…¨</span></span><br><span class="line">  <span class="string">&quot;editor.quickSuggestions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;other&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;comments&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;strings&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// snippet æç¤ºä¼˜å…ˆ</span></span><br><span class="line">  <span class="string">&quot;editor.snippetSuggestions&quot;</span>: <span class="string">&quot;top&quot;</span>,</span><br><span class="line">  <span class="string">&quot;editor.tabCompletion&quot;</span>: <span class="string">&quot;on&quot;</span>,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨enter æ¥å—æç¤º</span></span><br><span class="line">  <span class="string">&quot;editor.acceptSuggestionOnEnter&quot;</span>: <span class="string">&quot;on&quot;</span>,</span><br><span class="line">  <span class="comment">// é»˜è®¤æ ¼å¼åŒ–å·¥å…·ä¸ºæœ¬å·¥å…·</span></span><br><span class="line">  <span class="string">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;mervin.markdown-formatter&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><h2 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h2><ul><li><p><strong>æ®µè½</strong><br>Markdown æ®µè½æ²¡æœ‰ç‰¹æ®Šçš„æ ¼å¼ï¼Œç›´æ¥ç¼–å†™æ–‡å­—ï¼Œéœ€è¦æ®µè½ç¼©è¿›æ—¶ä½¿ç”¨ 2 ä¸ª Tab</p></li><li><p><strong>å­—ä½“</strong></p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*æ–œä½“æ–‡æœ¬*   _æ–œä½“æ–‡æœ¬_</span><br><span class="line">**ç²—ä½“æ–‡æœ¬**  __ç²—ä½“æ–‡æœ¬__</span><br><span class="line">***ç²—æ–œä½“æ–‡æœ¬***  ___ç²—æ–œä½“æ–‡æœ¬___</span><br></pre></td></tr></table></figure><p><em>æ–œä½“æ–‡æœ¬</em> <em>æ–œä½“æ–‡æœ¬</em><br><strong>ç²—ä½“æ–‡æœ¬</strong> <strong>ç²—ä½“æ–‡æœ¬</strong><br><strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong> <strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong></p><ul><li><strong>åˆ é™¤çº¿</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~åˆ é™¤çº¿~~</span><br></pre></td></tr></table></figure><p><del>åˆ é™¤çº¿</del></p><ul><li><strong>ä¸‹åˆ’çº¿</strong><br>ä¸‹åˆ’çº¿å¯ä»¥é€šè¿‡ HTML çš„ æ ‡ç­¾æ¥å®ç°ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;u&gt;å¸¦ä¸‹åˆ’çº¿çš„æ–‡æœ¬&lt;/u&gt;</span><br></pre></td></tr></table></figure><p><u>å¸¦ä¸‹åˆ’çº¿çš„æ–‡æœ¬</u></p><ul><li><strong>æ–‡å­—é«˜äº®</strong><br>æ–‡å­—é«˜äº®åŠŸèƒ½èƒ½ä½¿è¡Œå†…éƒ¨åˆ†æ–‡å­—é«˜äº®ï¼Œä½¿ç”¨ä¸€å¯¹åå¼•å·ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`html` `css` `javascript`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>html</code>  <code>css</code>  <code>javascript</code></p><h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">***</span><br><span class="line"></span><br><span class="line">*****</span><br><span class="line"></span><br><span class="line">- - -</span><br><span class="line"></span><br><span class="line">----------</span><br></pre></td></tr></table></figure><hr><hr><hr><hr><h2 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h2><p>è„šæ³¨æ˜¯å¯¹æ–‡æœ¬çš„è¡¥å……è¯´æ˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">[^å˜é‡]</span><br><span class="line">åœ¨æ–‡æ¡£ç»“å°¾æˆ–å…¶ä»–ä½ç½®çµ¦å˜é‡èµ‹å€¼ï¼š</span><br><span class="line">[^å˜é‡]: æ³¨æ˜æ¡†å†…æ˜¾ç¤ºçš„å†…å®¹</span><br><span class="line"></span><br><span class="line">é¼ æ ‡ç§»åˆ°è¿™é‡Œ&gt; [^å“ˆå–½]</span><br><span class="line">[^å“ˆå–½]: æ³¨æ˜æ¡†å†…æ˜¾ç¤ºçš„å†…å®¹</span><br></pre></td></tr></table></figure><p>é¼ æ ‡ç§»åˆ°è¿™é‡Œ&gt; [^1]</p><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><ul><li><strong>æ— åºåˆ—è¡¨</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* ç¬¬ä¸€é¡¹</span><br><span class="line">* ç¬¬äºŒé¡¹</span><br><span class="line"></span><br><span class="line">+ ç¬¬ä¸€é¡¹</span><br><span class="line">+ ç¬¬äºŒé¡¹</span><br><span class="line"></span><br><span class="line">- ç¬¬ä¸€é¡¹</span><br><span class="line">- ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><ul><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li></ul><ul><li><strong>æœ‰åºåˆ—è¡¨</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€é¡¹</span><br><span class="line">2. ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li></ol><ul><li><strong>æŠ˜å åˆ—è¡¨</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span>ç‚¹æˆ‘æ‰“å¼€å…³é—­æŠ˜å <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  æŠ˜å å†…å®¹</span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure><details><summary>ç‚¹æˆ‘æ‰“å¼€å…³é—­æŠ˜å </summary>æŠ˜å å†…å®¹ <ul><li>1</li> <li>2</li> <li>3</li> </ul></details><ul><li><strong>å¸¦å¤é€‰æ¡†åˆ—è¡¨</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* [x] ç¬¬ä¸€é¡¹</span><br><span class="line">* [ ] ç¬¬äºŒé¡¹</span><br><span class="line">* [ ] ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><ul><li><input checked="" disabled="" type="checkbox"> ç¬¬ä¸€é¡¹</li><li><input disabled="" type="checkbox"> ç¬¬äºŒé¡¹</li><li><input disabled="" type="checkbox"> ç¬¬ä¸‰é¡¹</li></ul><p>-<strong>åˆ—è¡¨åµŒå¥—</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€é¡¹</span><br><span class="line">   - åµŒå¥—1</span><br><span class="line">   - åµŒå¥—2</span><br><span class="line">2. ç¬¬äºŒé¡¹</span><br><span class="line">   - åµŒå¥—1</span><br><span class="line">   - åµŒå¥—2</span><br></pre></td></tr></table></figure><ol><li>ç¬¬ä¸€é¡¹<ul><li>åµŒå¥—1</li><li>åµŒå¥—2</li></ul></li><li>ç¬¬äºŒé¡¹<ul><li>åµŒå¥—1</li><li>åµŒå¥—2</li></ul></li></ol><h2 id="åŒºå—"><a href="#åŒºå—" class="headerlink" title="åŒºå—"></a>åŒºå—</h2><p>åŒºå—å¼•ç”¨æ˜¯åœ¨æ®µè½å¼€å¤´ä½¿ç”¨ <strong>&gt;</strong> ç¬¦å· ï¼Œç„¶ååé¢ç´§è·Ÿä¸€ä¸ª<strong>ç©ºæ ¼</strong>ç¬¦å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; åŒºå—å¼•ç”¨</span><br></pre></td></tr></table></figure><blockquote><p>åŒºå—å¼•ç”¨</p><p>å›è½¦é”®è‡ªåŠ¨å»¶ä¼¸åŒºå—</p></blockquote><ul><li><p><strong>åŒºå—åµŒå¥—</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; ç¬¬ä¸€å±‚</span><br><span class="line">&gt; &gt; ç¬¬äºŒå±‚</span><br><span class="line">&gt; &gt; &gt; ç¬¬ä¸‰å±‚</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬ä¸€å±‚</p><blockquote><p>ç¬¬äºŒå±‚</p><blockquote><p>ç¬¬ä¸‰å±‚</p></blockquote></blockquote></blockquote></li></ul><p>-<strong>åŒºå—ä¸­ä½¿ç”¨åˆ—è¡¨</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; åŒºå—ä¸­ä½¿ç”¨åˆ—è¡¨</span><br><span class="line">&gt; 1. ç¬¬ä¸€é¡¹</span><br><span class="line">&gt; 2. ç¬¬äºŒé¡¹</span><br><span class="line">&gt; * 111</span><br><span class="line">&gt; * 222</span><br></pre></td></tr></table></figure><blockquote><p>åŒºå—ä¸­ä½¿ç”¨åˆ—è¡¨</p><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li></ol><ul><li>111</li><li>222</li></ul></blockquote><ul><li><p><strong>åˆ—è¡¨ä¸­ä½¿ç”¨åŒºå—</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* ç¬¬ä¸€é¡¹</span><br><span class="line">    &gt; åŒºå—</span><br><span class="line">* ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€é¡¹<blockquote><p>åŒºå—</p></blockquote></li><li>ç¬¬äºŒé¡¹</li></ul></li></ul><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>  å¦‚æœæ˜¯æ®µè½ä¸Šçš„ä¸€ä¸ªå‡½æ•°æˆ–ç‰‡æ®µçš„ä»£ç å¯ä»¥ç”¨åå¼•å·æŠŠå®ƒåŒ…èµ·æ¥ï¼ˆ**`**ï¼‰ï¼š</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`function()` å‡½æ•°</span><br></pre></td></tr></table></figure><p>  <code>function()</code>å‡½æ•°</p><ul><li><p><strong>ä»£ç å—</strong></p><p>ç”¨ <strong>```</strong> åŒ…è£¹ä¸€æ®µä»£ç ï¼Œå¹¶æŒ‡å®šä¸€ç§è¯­è¨€ï¼ˆä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼‰<br>æœ¬ä»£ç åŒºå—ä¸ºè¯´æ˜ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```javascript</span><br><span class="line">function test() &#123;</span><br><span class="line">alert(&#x27;test&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">alert(<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[é“¾æ¥åç§°](é“¾æ¥åœ°å€)</span><br><span class="line">[é“¾æ¥åç§°](é“¾æ¥åœ°å€,å¯é€‰çš„alt)</span><br><span class="line">æˆ–</span><br><span class="line">&lt;é“¾æ¥åœ°å€&gt;</span><br></pre></td></tr></table></figure>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ç™¾åº¦](http://www.baidu.com,&#x27;ç™¾åº¦&#x27;)</span><br></pre></td></tr></table></figure><p>  <a href="http://www.baidu.com,'ç™¾åº¦'/">ç™¾åº¦</a></p><p>  ç›´æ¥æ˜¾ç¤ºé“¾æ¥åœ°å€ï¼š</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;http://www.baidu.com&gt;</span><br></pre></td></tr></table></figure><p>  <a href="http://www.baidu.com/">http://www.baidu.com</a></p></li><li><p><strong>å˜é‡é“¾æ¥</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">é“¾æ¥å¯ä»¥ç”¨å˜é‡æ¥ä»£æ›¿ï¼Œæ–‡æ¡£æœ«å°¾æˆ–å…¶ä»–ä½ç½®é™„å¸¦å˜é‡åœ°å€ï¼š</span><br><span class="line">è¿™ä¸ªé“¾æ¥ç”¨ 1 ä½œä¸ºç½‘å€å˜é‡ [Google][1]</span><br><span class="line">è¿™ä¸ªé“¾æ¥ç”¨ baidu ä½œä¸ºç½‘å€å˜é‡ [Baidu][baidu]</span><br><span class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾ä¸ºå˜é‡èµ‹å€¼ï¼ˆç½‘å€ï¼‰</span><br><span class="line">  [1]: http://www.google.com/</span><br><span class="line">  [baidu]: http://www.baidu.com/</span><br></pre></td></tr></table></figure><p>  [Google][1]</p><p>  [Baidu][baidu]</p><p>  [1]:<a href="http://www.google.com/">http://www.google.com</a></p><p>  [baidu]: <a href="http://www.baidu.com/">http://www.baidu.com/</a></p></li><li><p><strong>Githubä¸­ä½¿ç”¨å†…éƒ¨é“¾æ¥</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆå‰ææ˜¯æœ‰è¯¥è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼‰</span><br><span class="line">[test](/2022/05/30/git/)</span><br></pre></td></tr></table></figure><p>  <a href="/2022/05/30/git/">test</a></p></li><li><p><strong>é”šç‚¹é“¾æ¥</strong></p><p>  æœ¬æ–‡ä»¶ä¸­æ¯ä¸€ä¸ªæ ‡é¢˜éƒ½æ˜¯ä¸€ä¸ªé”šç‚¹ï¼Œå’ŒHTMLçš„é”šç‚¹ï¼ˆ<code>#</code>ï¼‰ç±»ä¼¼</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Markdown](#Markdown)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š githubå¯¹å«æœ‰æ ‡ç‚¹ç¬¦å·çš„æ ‡é¢˜è¿›è¡Œé”šç‚¹æ—¶ä¼šå¿½ç•¥æ‰æ ‡ç‚¹ç¬¦å·ï¼Œ<br>æœ¬é¡µä¸­ï¼Œå¦‚æœè¿™æ ·å†™åˆ™æ— æ³•è·³è½¬ï¼š[é“¾æ¥](#ä¹ã€é“¾æ¥)<br>æ­£ç¡®å†™æ³•ï¼š[é“¾æ¥](#ä¹é“¾æ¥)<br>  <a href="#%E4%B8%80Markdown">Markdown</a></p></blockquote><p>  <a href="#%E4%B9%9D%E9%93%BE%E6%8E%A5">é“¾æ¥</a>     </p><p>  <a href="#%E6%B5%81%E7%A8%8B%E5%9B%BE">æµç¨‹å›¾</a></p></li></ul><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![altæ›¿ä»£æ–‡æœ¬](å›¾ç‰‡åœ°å€)</span><br><span class="line">![altæ›¿ä»£æ–‡æœ¬](å›¾ç‰‡åœ°å€ &quot;titleæ ‡é¢˜&quot;)</span><br></pre></td></tr></table></figure></code></pre><ul><li><p>å¼€å¤´ä¸€ä¸ªæ„Ÿå¹å· !</p></li><li><p>æ¥ç€ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„æ›¿ä»£æ–‡å­—</p></li><li><p>æ¥ç€ä¸€ä¸ªæ™®é€šæ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„åœ°å€ï¼Œæœ€åè¿˜å¯ä»¥ç”¨å¼•å·åŒ…ä½å¹¶åŠ ä¸Šé€‰æ‹©æ€§çš„ â€˜titleâ€™ å±æ€§çš„æ–‡å­—ã€‚</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![logo](https://img2.baidu.com/it/u=594502772,1564194739&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=265 &quot;logo&quot;)</span><br></pre></td></tr></table></figure><p><img src="https://img2.baidu.com/it/u=594502772,1564194739&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=265" alt="logo" title="logo"></p><p>  å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åƒé“¾æ¥é‚£æ ·å¯¹å›¾ç‰‡åœ°å€ä½¿ç”¨å˜é‡:</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œé“¾æ¥ç”¨ img ä½œä¸ºå›¾ç‰‡åœ°å€å˜é‡ </span><br><span class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾æˆ–å…¶ä»–ä½ç½®ç»™å˜é‡èµ‹å€¼ï¼ˆå›¾ç‰‡åœ°å€ï¼‰</span><br><span class="line">![RUNOOB][img]</span><br><span class="line"> [img]: https://img2.baidu.com/it/u=594502772,1564194739&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=265</span><br></pre></td></tr></table></figure><p><img src="https://img2.baidu.com/it/u=594502772,1564194739&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=265" alt="RUNOOB"></p></li></ul><ul><li><strong>å›¾ç‰‡å®½é«˜</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;https://img2.baidu.com/it/u=594502772,1564194739&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=265&quot; width=&quot;50px&quot; height=&quot;30px&quot;&gt;</span><br></pre></td></tr></table></figure><img src="https://img2.baidu.com/it/u=594502772,1564194739&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=265" width="50px" height="30px"><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p>åˆ¶ä½œè¡¨æ ¼ä½¿ç”¨ (<strong>|</strong>) æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨( <strong>-</strong>) æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|  è¡¨å¤´   | è¡¨å¤´  |</span><br><span class="line">|  ----  | ----  |</span><br><span class="line">| å•å…ƒæ ¼  | å•å…ƒæ ¼ |</span><br><span class="line">| å•å…ƒæ ¼  | å•å…ƒæ ¼ |</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">è¡¨å¤´</th><th align="center">è¡¨å¤´</th></tr></thead><tbody><tr><td align="center">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="center">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><ul><li><strong>å¯¹é½æ–¹å¼</strong><ul><li><strong>-:</strong> è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…å³å¯¹é½  </li><li><strong>:-</strong> è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…å·¦å¯¹é½</li><li><strong>:-:</strong> è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…ä¸­å¯¹é½</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å·¦å¯¹é½ | å³å¯¹é½ | å±…ä¸­å¯¹é½ |</span><br><span class="line">| :-----| ----: | :----: |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ | å•å…ƒæ ¼ |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ | å•å…ƒæ ¼ |</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å·¦å¯¹é½</th><th align="right">å³å¯¹é½</th><th align="center">å±…ä¸­å¯¹é½</th></tr></thead><tbody><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><h2 id="Emojiè¡¨æƒ…åŒ…"><a href="#Emojiè¡¨æƒ…åŒ…" class="headerlink" title="Emojiè¡¨æƒ…åŒ…"></a>Emojiè¡¨æƒ…åŒ…</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼šEmojiè¡¨æƒ…è‹±æ–‡åçš„å‰ååŠ å†’å·ï¼ŒTyporeä¸Šå…ˆè¾“å…¥å†’å·å†è¾“å…¥é¦–å­—æ¯æœ‰è¡¨æƒ…æç¤º</span><br><span class="line">æˆ–ç›´æ¥å¤åˆ¶è¡¨æƒ…åŒ…</span><br><span class="line">å¦‚ï¼š</span><br><span class="line">:smirk:</span><br><span class="line">&amp;#x1f602;</span><br></pre></td></tr></table></figure><p>æ”¯æŒä¸å®Œå–„</p><p><a href="https://blog.csdn.net/qq_39218530/article/details/118671991">è¡¨æƒ…åŒ…</a></p><p>ğŸ˜€ ğŸ˜ƒ ğŸ¥° ğŸ˜ ğŸ˜˜</p><p>&#x1f602;<br>:smirk: </p><p>æ›´å¤šè¡¨æƒ…åç§°è¯·æŸ¥çœ‹ï¼š<a href="https://www.webfx.com/tools/emoji-cheat-sheet/">è¡¨æƒ…åŒ…æ¸…å•</a></p><h2 id="å…¶ä»–æŠ€å·§"><a href="#å…¶ä»–æŠ€å·§" class="headerlink" title="å…¶ä»–æŠ€å·§"></a>å…¶ä»–æŠ€å·§</h2><h3 id="æ”¯æŒçš„-HTML-å…ƒç´ "><a href="#æ”¯æŒçš„-HTML-å…ƒç´ " class="headerlink" title="æ”¯æŒçš„ HTML å…ƒç´ "></a>æ”¯æŒçš„ HTML å…ƒç´ </h3><p>ä¸åœ¨ Markdown è¯­æ³•æ¶µç›–èŒƒå›´ä¹‹å†…çš„æ ‡ç­¾ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£é‡Œé¢ç”¨ HTML æ’°å†™ã€‚</p><p>ç›®å‰æ”¯æŒçš„ HTML å…ƒç´ æœ‰ï¼š<code>&lt;kbd&gt; &lt;b&gt; &lt;i&gt; &lt;em&gt; &lt;sup&gt; &lt;sub&gt; &lt;br&gt;</code>ç­‰ ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Del&lt;/kbd&gt; é‡å¯ç”µè„‘</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> é‡å¯ç”µè„‘</p><p><b>ä½¿ç”¨bæ ‡ç­¾çš„åŠ ç²—å­—ä½“</b></p><h3 id="è½¬ä¹‰"><a href="#è½¬ä¹‰" class="headerlink" title="è½¬ä¹‰"></a>è½¬ä¹‰</h3><p>Markdown ä½¿ç”¨äº†å¾ˆå¤šç‰¹æ®Šç¬¦å·æ¥è¡¨ç¤ºç‰¹å®šçš„æ„ä¹‰ï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºç‰¹å®šçš„ç¬¦å·åˆ™éœ€è¦ä½¿ç”¨åæ–œæ è½¬ä¹‰å­—ç¬¦ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">**æœªè½¬ä¹‰æ˜Ÿå·æ˜¾ç¤ºåŠ ç²—** </span><br><span class="line">\*\* è½¬ä¹‰æ˜¾ç¤ºæ˜Ÿå· \*\*</span><br></pre></td></tr></table></figure><p><strong>æœªè½¬ä¹‰æ˜Ÿå·æ˜¾ç¤ºåŠ ç²—</strong><br>** è½¬ä¹‰æ˜¾ç¤ºæ˜Ÿå· **</p><p>Markdown æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   åæ–œçº¿</span><br><span class="line">`   åå¼•å·</span><br><span class="line">*   æ˜Ÿå·</span><br><span class="line">_   ä¸‹åˆ’çº¿</span><br><span class="line">&#123;&#125;  èŠ±æ‹¬å·</span><br><span class="line">[]  æ–¹æ‹¬å·</span><br><span class="line">()  å°æ‹¬å·</span><br><span class="line">#   äº•å­—å·</span><br><span class="line">+   åŠ å·</span><br><span class="line">-   å‡å·</span><br><span class="line">.   è‹±æ–‡å¥ç‚¹</span><br><span class="line">!   æ„Ÿå¹å·</span><br></pre></td></tr></table></figure><hr><p>*** <strong>ä»¥ä¸‹éƒ¨åˆ†åœ¨Githubæš‚æœªæ”¯æŒ</strong> ***</p><hr><h2 id="æ•°å­¦å…¬å¼"><a href="#æ•°å­¦å…¬å¼" class="headerlink" title="æ•°å­¦å…¬å¼"></a>æ•°å­¦å…¬å¼</h2><p>å½“ä½ éœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­æ’å…¥æ•°å­¦å…¬å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦ $$ åŒ…è£¹ TeX æˆ– LaTeX æ ¼å¼çš„æ•°å­¦å…¬å¼æ¥å®ç°ã€‚æäº¤åï¼Œé—®ç­”å’Œæ–‡ç« é¡µä¼šæ ¹æ®éœ€è¦åŠ è½½ Mathjax å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ã€‚å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">$$</span><br><span class="line">\mathbf&#123;V&#125;_1 \times \mathbf&#123;V&#125;_2 =  \begin&#123;vmatrix&#125; </span><br><span class="line">\mathbf&#123;i&#125; &amp; \mathbf&#123;j&#125; &amp; \mathbf&#123;k&#125; \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial u&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial u&#125; &amp; 0 \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial v&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial v&#125; &amp; 0 \\</span><br><span class="line">\end&#123;vmatrix&#125;</span><br><span class="line">$$tep1&#125;&#123;\style&#123;visibility:hidden&#125;&#123;(x+1)(x+1)&#125;&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$\sqrt{3x-1}+(1+x)^2$</p><p>$$<br>\mathbf{V}_1 \times \mathbf{V}_2 =  \begin{vmatrix}<br>\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \<br>\frac{\partial X}{\partial u} &amp;  \frac{\partial Y}{\partial u} &amp; 0 \<br>\frac{\partial X}{\partial v} &amp;  \frac{\partial Y}{\partial v} &amp; 0 \<br>\end{vmatrix}<br>$$</p><h2 id="å›¾è¡¨"><a href="#å›¾è¡¨" class="headerlink" title="å›¾è¡¨"></a>å›¾è¡¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```chart</span><br><span class="line">,Budget,Income,Expenses,Debt</span><br><span class="line">June,5000,8000,4000,6000</span><br><span class="line">July,3000,1000,4000,3000</span><br><span class="line">Aug,5000,7000,6000,3000</span><br><span class="line">Sep,7000,2000,3000,1000</span><br><span class="line">Oct,6000,5000,4000,2000</span><br><span class="line">Nov,4000,3000,5000,</span><br><span class="line">type: pie</span><br><span class="line">title: Monthly Revenue</span><br><span class="line">x.title: Amount</span><br><span class="line">y.title: Month</span><br><span class="line">y.suffix: $</span><br><span class="line">â€‹```</span><br><span class="line">â€‹```mermaid</span><br><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ</span><br><span class="line">B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>â€‹<code>chart ,Budget,Income,Expenses,Debt June,5000,8000,4000,6000 July,3000,1000,4000,3000 Aug,5000,7000,6000,3000 Sep,7000,2000,3000,1000 Oct,6000,5000,4000,2000 Nov,4000,3000,5000, type: pie title: Monthly Revenue x.title: Amount y.title: Month y.suffix: $ â€‹</code></p><p>â€‹<code>mermaid sequenceDiagram A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯ â€‹</code></p><blockquote><p>æ³¨ï¼šåœ¨Typoraä¸­æœªæ”¯æŒ</p></blockquote><h2 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```mermaid</span><br><span class="line">graph TD</span><br><span class="line">A[æ¨¡å—A] --&gt;|A1| B(æ¨¡å—B)</span><br><span class="line">B --&gt; C&#123;åˆ¤æ–­æ¡ä»¶C&#125;</span><br><span class="line">C --&gt;|æ¡ä»¶C1| D[æ¨¡å—D]</span><br><span class="line">C --&gt;|æ¡ä»¶C2| E[æ¨¡å—E]</span><br><span class="line">C --&gt;|æ¡ä»¶C3| F[æ¨¡å—F]</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>æµç¨‹å›¾ç›¸å…³æ–‡ç« ï¼š<a href="https://www.jianshu.com/p/b421cc723da5">https://www.jianshu.com/p/b421cc723da5</a></p><p><a href="http://www.imooc.com/article/292708">http://www.imooc.com/article/292708</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A[æ¨¡å—A] --&gt;|A1| B(æ¨¡å—B)</span><br><span class="line">B --&gt; C&#123;åˆ¤æ–­æ¡ä»¶C&#125;</span><br><span class="line">C --&gt;|æ¡ä»¶C1| D[æ¨¡å—D]</span><br><span class="line">C --&gt;|æ¡ä»¶C2| E[æ¨¡å—E]</span><br><span class="line">C --&gt;|æ¡ä»¶C3| F[æ¨¡å—F]</span><br></pre></td></tr></table></figure><h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```mermaid</span><br><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ</span><br><span class="line">B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ</span><br><span class="line">B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯</span><br></pre></td></tr></table></figure><h3 id="ç”˜ç‰¹å›¾"><a href="#ç”˜ç‰¹å›¾" class="headerlink" title="ç”˜ç‰¹å›¾"></a>ç”˜ç‰¹å›¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```mermaid</span><br><span class="line">gantt</span><br><span class="line">title ç”˜ç‰¹å›¾</span><br><span class="line">dateFormat  YYYY-MM-DD</span><br><span class="line">section é¡¹ç›®A</span><br><span class="line">ä»»åŠ¡1           :a1, 2018-06-06, 30d</span><br><span class="line">ä»»åŠ¡2     :after a1  , 20d</span><br><span class="line">section é¡¹ç›®B</span><br><span class="line">ä»»åŠ¡3      :2018-06-12  , 12d</span><br><span class="line">ä»»åŠ¡4      : 24d</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">title ç”˜ç‰¹å›¾</span><br><span class="line">dateFormat  YYYY-MM-DD</span><br><span class="line">section é¡¹ç›®A</span><br><span class="line">ä»»åŠ¡1           :a1, 2018-06-06, 30d</span><br><span class="line">ä»»åŠ¡2     :after a1  , 20d</span><br><span class="line">section é¡¹ç›®B</span><br><span class="line">ä»»åŠ¡3      :2018-06-12  , 12d</span><br><span class="line">ä»»åŠ¡4      : 24d</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">markdownè¯­æ³•å­¦ä¹ </summary>
    
    
    
    <category term="mdå­¦ä¹ " scheme="https://wecy-chen.github.io/categories/md%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="mdå­¦ä¹  markdown" scheme="https://wecy-chen.github.io/tags/md%E5%AD%A6%E4%B9%A0-markdown/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://wecy-chen.github.io/2022/03/19/hello-world/"/>
    <id>https://wecy-chen.github.io/2022/03/19/hello-world/</id>
    <published>2022-03-19T01:54:42.201Z</published>
    <updated>2022-08-22T01:42:38.302Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.<br>æ¬¢è¿æ¥åˆ°<a href="https://hexo.io/">Hexo</a>! è¿™æ˜¯ä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚æ£€æŸ¥<a href="https://hexo.io/docs/">æ–‡ä»¶</a>æ›´å¤šä¿¡æ¯ã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨Hexoæ—¶é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨[æ•…éšœæ’é™¤]ä¸­æ‰¾åˆ°ç­”æ¡ˆ(<a href="https://hexo.io/docs/troubleshooting.html)%E6%88%96%E8%80%85%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%9C%A8[GitHub]%E4%B8%8A%E9%97%AE%E6%88%91(https://github.com/hexojs/hexo/issues)">https://hexo.io/docs/troubleshooting.html)æˆ–è€…ä½ å¯ä»¥åœ¨[GitHub]ä¸Šé—®æˆ‘(https://github.com/hexojs/hexo/issues)</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wecy-chen.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>å¯¹æ¥æ”¯ä»˜å®æ”¯ä»˜æ¥å£</title>
    <link href="https://wecy-chen.github.io/2021/12/08/zhifubao/"/>
    <id>https://wecy-chen.github.io/2021/12/08/zhifubao/</id>
    <published>2021-12-08T01:26:42.000Z</published>
    <updated>2022-08-22T01:42:38.318Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€-ç”³è¯·å¼€å‘"><a href="#ä¸€-ç”³è¯·å¼€å‘" class="headerlink" title="*ä¸€.Â ç”³è¯·å¼€å‘??"></a>*<em>ä¸€.Â ç”³è¯·å¼€å‘?</em>?</h2><p>è®¿é—®å¼€å‘è€…ä¸­å¿ƒ<a href="https://links.jianshu.com/go?to=https://openhome.alipay.com/platform/appDaily.htm?tab=info">https://openhome.alipay.com/platform/appDaily.htm?tab=info</a></p><p>è¿›è¡Œè®¤è¯å(çœŸå®å§“å,ç»‘å®šæ‰‹æœºå·å’Œé‚®ç®±), å³å¯è¿›å…¥æ²™ç®±é…ç½®é¡µ</p><p><img src="/image/zhifubao/a43f57e84f55a6f0a29727736934b9a6.png" alt="a43f57e84f55a6f0a29727736934b9a6.png"></p><h2 id="äºŒ-é…ç½®å¯†é’¥"><a href="#äºŒ-é…ç½®å¯†é’¥" class="headerlink" title="äºŒ. é…ç½®å¯†é’¥"></a><strong>äºŒ. é…ç½®å¯†é’¥</strong></h2><h3 id="1-ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·"><a href="#1-ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·" class="headerlink" title="1. ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·"></a><strong>1. ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·</strong></h3><p>è®¿é—®Â <a href="https://links.jianshu.com/go?to=https://docs.open.alipay.com/291/105971">https://docs.open.alipay.com/291/105971</a></p><p><img src="/image/zhifubao/1f8481f58db077b46c576d3f9e2f332c.png" alt="1f8481f58db077b46c576d3f9e2f332c.png"></p><p>ä¸‹è½½AlipayDevelopmentAssistant-1.0.7.exe (æ”¯ä»˜å®å¼€å‘å¹³å°å¼€å‘åŠ©æ‰‹)å¯†é’¥å·¥å…·Â å¤§çº¦100å¤šMÂ æ­£å¸¸å®‰è£…</p><h3 id="2-ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥"><a href="#2-ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥" class="headerlink" title="2.ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥"></a><strong>2.ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥</strong></h3><p><strong><img src="/image/zhifubao/c6f845df84f5cbcac6dce6cb485cb38b.png" alt="c6f845df84f5cbcac6dce6cb485cb38b.png"></strong></p><h3 id="3-è®¾ç½®å…¬é’¥"><a href="#3-è®¾ç½®å…¬é’¥" class="headerlink" title="3.è®¾ç½®å…¬é’¥"></a><strong>3.è®¾ç½®å…¬é’¥</strong></h3><p>åŠ ç­¾æ–¹å¼é€‰æ‹©<strong>å…¬é’¥</strong></p><p><strong><img src="/image/zhifubao/51e1ae5878ebc514b824d38f660fa219.png" alt="51e1ae5878ebc514b824d38f660fa219.png"></strong></p><p>ä¿å­˜å…¬é’¥,é€€æ¬¾éœ€è¦ç”¨åˆ°</p><h2 id="ä¸‰-NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£-koa"><a href="#ä¸‰-NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£-koa" class="headerlink" title="ä¸‰. NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£(koa)"></a><strong>ä¸‰. NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£(koa)</strong></h2><p>1.ä¿å­˜ç§é’¥</p><p>æ–°å»ºapp_private_key.pemæ–‡ä»¶</p><p><img src="/image/zhifubao/84b01a06d3bab3d55e11b7776901ce77.png" alt="84b01a06d3bab3d55e11b7776901ce77.png"></p><p>2.å®ç°ä»£ç </p><p>æ”¯ä»˜å‚æ•°</p><p><a href="https://opendocs.alipay.com/apis/api_1/alipay.trade.page.pay">https://opendocs.alipay.com/apis/api_1/alipay.trade.page.pay</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; nginx &#125; = MAPP.proConfig</span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; app_private_key &#125; = MAPP.keys<span class="comment">// æ”¯ä»˜å®ç§é’¥</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">get</span>: &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ”¯ä»˜å®æ”¯ä»˜è¿æ¥</span></span><br><span class="line">    <span class="string">&#x27;/test/alipay&#x27;</span>: [</span><br><span class="line">      <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">        <span class="comment">// æ”¯ä»˜å‚æ•°</span></span><br><span class="line">        <span class="comment">// æ³¨æ„:æœ¬åœ°æµ‹è¯•å›è°ƒéœ€è¦é…ç½®ngrok</span></span><br><span class="line">        <span class="keyword">const</span> paramsMap = &#123;</span><br><span class="line">          <span class="attr">app_id</span>: <span class="string">&#x27;2021xxxxxxxx&#x27;</span>, <span class="comment">// åº”ç”¨id</span></span><br><span class="line">          <span class="attr">method</span>: <span class="string">&#x27;alipay.trade.page.pay&#x27;</span>, <span class="comment">// è°ƒèµ·ç±»å‹(app,page,wap)(åŒ…æ‹¬app,h5,PCé¡µé¢æ”¯ä»˜)</span></span><br><span class="line">          <span class="attr">format</span>: <span class="string">&#x27;JSON&#x27;</span>,</span><br><span class="line">          <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span>,</span><br><span class="line">          <span class="attr">sign_type</span>: <span class="string">&#x27;RSA2&#x27;</span>,</span><br><span class="line">          <span class="attr">timestamp</span>: moment().format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>),</span><br><span class="line">          <span class="attr">version</span>: <span class="string">&#x27;1.0&#x27;</span>,</span><br><span class="line">          <span class="attr">notify_url</span>: <span class="string">`https://<span class="subst">$&#123;nginx.server_name&#125;</span>/api-universal/test/aliay/callback`</span>, <span class="comment">// æ¥å£å›è°ƒ(é…ç½®ngrokæ˜ å°„httpsåœ°å€)</span></span><br><span class="line">          <span class="comment">// return_url: &#x27;https://b2c-app-dev.fenxiangqu.cn/pages/my/index&#x27;,// å‰å°è·³è½¬é¡µé¢</span></span><br><span class="line">          <span class="attr">biz_content</span>: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">            <span class="attr">product_code</span>: <span class="string">&#x27;FAST_INSTANT_TRADE_PAY&#x27;</span>, <span class="comment">// å•†å“ç </span></span><br><span class="line">            <span class="attr">body</span>: <span class="string">&#x27;è®¢å•å›è°ƒå†…å®¹&#x27;</span>, <span class="comment">// è®¢å•é™„åŠ ä¿¡æ¯ã€‚</span></span><br><span class="line">            <span class="attr">subject</span>: <span class="string">&#x27;æµ‹è¯•æ”¯ä»˜å®PCæ”¯ä»˜&#x27;</span>, <span class="comment">// äº¤æ˜“æ ‡é¢˜</span></span><br><span class="line">            <span class="attr">out_trade_no</span>: <span class="string">&#x27;xxxxxxxxx&#x27;</span>, <span class="comment">// è®¢å•ç¼–å·</span></span><br><span class="line">            <span class="attr">total_amount</span>: <span class="number">0.01</span> <span class="comment">// æ”¯ä»˜é‡‘é¢</span></span><br><span class="line">          &#125;) <span class="comment">// è®¢å•æ”¯ä»˜å‚æ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‹¼æ¥å‚æ•°</span></span><br><span class="line">        <span class="keyword">let</span> objParams = <span class="built_in">Object</span>.keys(paramsMap)</span><br><span class="line">          .sort()</span><br><span class="line">          .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> key + <span class="string">&#x27;=&#x27;</span> + paramsMap[key]</span><br><span class="line">          &#125;)</span><br><span class="line">          .join(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> encodeParams = <span class="built_in">Object</span>.keys(paramsMap)</span><br><span class="line">          .sort()</span><br><span class="line">          .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> key + <span class="string">&#x27;=&#x27;</span> + <span class="built_in">encodeURIComponent</span>(paramsMap[key])</span><br><span class="line">          &#125;)</span><br><span class="line">          .join(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">        <span class="comment">// RSA2åŠ å¯†ç­¾å</span></span><br><span class="line">        <span class="keyword">let</span> sign</span><br><span class="line">        <span class="keyword">let</span> signInit = crypto.createSign(<span class="string">&#x27;RSA-SHA256&#x27;</span>)</span><br><span class="line">        signInit.update(objParams, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">        <span class="comment">// æ”¯ä»˜å®ç§é’¥ç­¾å</span></span><br><span class="line">        <span class="comment">// console.log(app_private_key)</span></span><br><span class="line">        sign = signInit.sign(app_private_key, <span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> params = encodeParams + <span class="string">&#x27;&amp;sign=&#x27;</span> + <span class="built_in">encodeURIComponent</span>(sign)</span><br><span class="line">        <span class="comment">// https://openapi.alipaydev.com/gateway.do æ²™æ¼ç¯å¢ƒ</span></span><br><span class="line">        <span class="comment">// https://openapi.alipay.com/gateway.do æ­£å¼ç¯å¢ƒ</span></span><br><span class="line">        <span class="keyword">const</span> url = <span class="string">`https://openapi.alipaydev.com/gateway.do?<span class="subst">$&#123;params&#125;</span>`</span></span><br><span class="line">        ctx.info(&#123; <span class="attr">message</span>: <span class="string">&#x27;åˆ›å»ºæ”¯ä»˜å‚æ•°æˆåŠŸ&#x27;</span>, <span class="attr">data</span>: &#123; url &#125; &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">post</span>: &#123;</span><br><span class="line">    <span class="comment">// æ”¯ä»˜å®å›è°ƒ</span></span><br><span class="line">    <span class="string">&#x27;/test/alipay/callback&#x27;</span>: [<span class="keyword">async</span> ctx =&gt; &#123; &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ”¯ä»˜ä¿¡æ¯é“¾æ¥</p><p><img src="/image/zhifubao/409fe8b92de6a90b63cef300de9b23c3.png" alt="409fe8b92de6a90b63cef300de9b23c3.png"></p><p>4.æ”¯ä»˜ç•Œé¢</p><p>Â å‰å°æ”¯ä»˜ç•Œé¢Â <a href="https://opendocs.alipay.com/open/270/01arn8">https://opendocs.alipay.com/open/270/01arn8</a></p><p><img src="/image/zhifubao/0d1453f969811cbc5c3e46dcd98e642d.png" alt="0d1453f969811cbc5c3e46dcd98e642d.png"></p><p>5.ç”ŸæˆäºŒç»´ç </p><p><a href="https://opendocs.alipay.com/open/02ekfg?scene=19">apiè¯´æ˜</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// åˆ›å»ºå½“é¢äºŒç»´ç æ”¯ä»˜</span></span><br><span class="line">  <span class="string">&#x27;/test/alipay/qr&#x27;</span>: [</span><br><span class="line">    <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> paramsMap = &#123;</span><br><span class="line">        <span class="attr">app_id</span>: <span class="string">&#x27;xxxxxxä¿¡&#x27;</span>, <span class="comment">// åº”ç”¨id</span></span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;alipay.trade.precreate&#x27;</span>, <span class="comment">//è¯·æ±‚æ–¹å¼åç§°</span></span><br><span class="line">        <span class="comment">// method: &#x27;alipay.trade.create&#x27;,</span></span><br><span class="line">        <span class="attr">format</span>: <span class="string">&#x27;JSON&#x27;</span>,</span><br><span class="line">        <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span>,</span><br><span class="line">        <span class="attr">sign_type</span>: <span class="string">&#x27;RSA2&#x27;</span>,</span><br><span class="line">        <span class="attr">timestamp</span>: moment().format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>),</span><br><span class="line">        <span class="attr">version</span>: <span class="string">&#x27;1.0&#x27;</span>,</span><br><span class="line">        <span class="attr">notify_url</span>: <span class="string">`https://<span class="subst">$&#123;nginx.server_name&#125;</span>/api-universal/test/aliay/callback`</span>, <span class="comment">// æ¥å£å›è°ƒ(é…ç½®ngrokæ˜ å°„httpsåœ°å€)</span></span><br><span class="line">        <span class="comment">// app_cert_sn: app_private_key, // ç§˜é’¥</span></span><br><span class="line">        <span class="comment">// alipay_root_cert_sn: app_public_key, // å…¬é’¥</span></span><br><span class="line">        <span class="attr">biz_content</span>: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">          <span class="attr">subject</span>: <span class="string">&#x27;æ”¯ä»˜å®äºŒç»´ç æ”¯ä»˜&#x27;</span>, <span class="comment">// äº¤æ˜“æ ‡é¢˜</span></span><br><span class="line">          <span class="attr">out_trade_no</span>: <span class="string">&#x27;1624678209672759&#x27;</span>, <span class="comment">// è®¢å•ç¼–å·</span></span><br><span class="line">          <span class="attr">total_amount</span>: <span class="number">0.01</span> <span class="comment">// æ”¯ä»˜é‡‘é¢</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æ‹¼æ¥å‚æ•°</span></span><br><span class="line">      <span class="keyword">let</span> objParams = <span class="built_in">Object</span>.keys(paramsMap)</span><br><span class="line">        .sort()</span><br><span class="line">        .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> key + <span class="string">&#x27;=&#x27;</span> + paramsMap[key]</span><br><span class="line">        &#125;)</span><br><span class="line">        .join(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">      <span class="comment">// RSA2åŠ å¯†ç­¾å</span></span><br><span class="line">      <span class="keyword">let</span> sign</span><br><span class="line">      <span class="keyword">let</span> signInit = crypto.createSign(<span class="string">&#x27;RSA-SHA256&#x27;</span>)</span><br><span class="line">      signInit.update(objParams, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">      <span class="comment">// æ”¯ä»˜å®ç§é’¥ç­¾å</span></span><br><span class="line">      <span class="comment">// console.log(app_private_key)</span></span><br><span class="line">      sign = signInit.sign(app_private_key, <span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line">      <span class="keyword">const</span> gateway = <span class="string">&#x27;https://openapi.alipaydev.com&#x27;</span></span><br><span class="line">      <span class="comment">// const url = `$&#123;gateway&#125;/gateway.do?$&#123;params&#125;`</span></span><br><span class="line">      paramsMap.sign = sign</span><br><span class="line">      <span class="comment">// å¯¹æ¥æ”¯ä»˜å®æ¥å£,ç”Ÿæˆåœ°å€</span></span><br><span class="line">      <span class="keyword">const</span> server = MAPP.creatServer(gateway)</span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">await</span> server.get(<span class="string">&#x27;/gateway.do&#x27;</span>, &#123; <span class="attr">params</span>: paramsMap &#125;)</span><br><span class="line">      <span class="built_in">console</span>.log(response.data) <span class="comment">//è¿”å›ä¿¡æ¯</span></span><br><span class="line">      <span class="comment">// &#123;</span></span><br><span class="line">      <span class="comment">//   alipay_trade_precreate_response: &#123;</span></span><br><span class="line">      <span class="comment">//     code: &#x27;10000&#x27;,</span></span><br><span class="line">      <span class="comment">//     msg: &#x27;Success&#x27;,</span></span><br><span class="line">      <span class="comment">//     out_trade_no: &#x27;xxxxxx&#x27;,</span></span><br><span class="line">      <span class="comment">//     qr_code: &#x27;https://qr.alipay.com/bax05172lthykirrqxus00f5&#x27; // åœ°å€è¦ç”¨å·¥å…·ç”ŸæˆäºŒç»´ç æ‰«æ</span></span><br><span class="line">      <span class="comment">//   &#125;,</span></span><br><span class="line">      <span class="comment">//   sign: &#x27;&#x27;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ³¨æ„:</p><h1 id="æ˜¾ç¤º-ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•"><a href="#æ˜¾ç¤º-ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•" class="headerlink" title="æ˜¾ç¤º:ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•"></a><strong>æ˜¾ç¤º:ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•</strong></h1><p>è§£å†³åŠæ³•: å°±æ˜¯ä½¿ç”¨æ²™ç®±ç‰ˆæœ¬çš„æ”¯ä»˜å®APPæ‰«ææˆ–è€…ä½¿ç”¨æ²™ç®±ç‰ˆæœ¬çš„æ”¯ä»˜å®è´¦å·å¯†ç ç™»å½•ä»˜æ¬¾å³å¯ã€‚</p><p>æ‰“å¼€å¼€æ”¾å¹³å°,Â æ²™ç®±å·¥å…·ä¸­ä¸‹è½½æ²™æ¼ç‰ˆé’±åŒ…</p><p><a href="https://open.alipay.com/platform/appDaily.htm?tab=tool">https://open.alipay.com/platform/appDaily.htm?tab=tool</a></p>]]></content>
    
    
    <summary type="html">æ”¯ä»˜å®æ¥å£å¼€å‘</summary>
    
    
    
    <category term="æ”¯ä»˜å®" scheme="https://wecy-chen.github.io/categories/%E6%94%AF%E4%BB%98%E5%AE%9D/"/>
    
    
  </entry>
  
</feed>
