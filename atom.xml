<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ¬¢è¿,æ¬¢è¿â”(*ï½€âˆ€Â´*)ãƒäº»!</title>
  
  
  <link href="https://wecy-chen.github.io/atom.xml" rel="self"/>
  
  <link href="https://wecy-chen.github.io/"/>
  <updated>2022-07-26T09:30:05.270Z</updated>
  <id>https://wecy-chen.github.io/</id>
  
  <author>
    <name>wecyChen</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ–°é›¶å”®ä»£ç ç‰‡æ®µ</title>
    <link href="https://wecy-chen.github.io/2022/07/26/retail_core/"/>
    <id>https://wecy-chen.github.io/2022/07/26/retail_core/</id>
    <published>2022-07-26T08:16:04.917Z</published>
    <updated>2022-07-26T09:30:05.270Z</updated>
    
    <content type="html"><![CDATA[<p>ä»£ç ç‰‡æ®µ</p><h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><p><a href="https://doc.sequoiadb.com/cn/sequoiadb-cat_id-1558957224-edition_id-500">mongodbä¸­æ–‡æ–‡æ¡£</a></p><h2 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li>ä¸åˆ†é¡µ</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;area&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">isCount</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">page</span>: i + <span class="number">1</span>,</span><br><span class="line">    <span class="attr">limit</span>: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">lean</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">filters</span>: &#123;</span><br><span class="line">    <span class="attr">adcode</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="2"><li>è·å–è¿‡æ»¤æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ </li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">  result = [], count = <span class="number">0</span></span><br><span class="line">&#125; = <span class="keyword">await</span> MAPP.db_queryAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;commodity&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;distributed.store_id&#x27;</span>: <span class="string">&#x27;5d64d9b75fc33f07bcfe1435&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">filters</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;distributed.$&#x27;</span>: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿”å›     </span></span><br><span class="line">[&#123;</span><br><span class="line">  <span class="attr">_id</span>: <span class="number">58805</span> dd61d8bdc9c56cc3e2d,</span><br><span class="line">  <span class="attr">distributed</span>: [</span><br><span class="line">    [<span class="built_in">Object</span>]</span><br><span class="line">  ]</span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p>è·å–ä¸€æ¡æ•°æ® <code>MAPP.db_getOne()</code></p><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">$set</span>: &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¯­æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  <span class="comment">//æ›´æ–°æ•°æ®</span></span><br><span class="line">  <span class="attr">$set</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">//æ’å…¥æ•°æ®,é‡å¤çš„ä¸æ’å…¥</span></span><br><span class="line">  <span class="attr">$addToSet</span>: &#123;&#125;</span><br><span class="line">  <span class="comment">//æ’å…¥æ•°æ®</span></span><br><span class="line">  <span class="attr">$push</span>: &#123;&#125;</span><br><span class="line">  <span class="comment">//æ›´æ–°æˆ–æ’å…¥æ•°æ®</span></span><br><span class="line">  <span class="attr">$setOnInsert</span>: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›´æ–°æˆ–æ’å…¥æ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_setOne(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">$set</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">$setOnInsert</span>: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">options</span>: &#123;</span><br><span class="line">    <span class="attr">lean</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">new</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">upsert</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">setDefaultsOnInsert</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// options å¿…é¡»é…ç½®</span></span><br></pre></td></tr></table></figure><h2 id="èšåˆ"><a href="#èšåˆ" class="headerlink" title="èšåˆ"></a>èšåˆ</h2><p>åŸºç¡€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> MAPP.db_aggregateAll(&#123;</span><br><span class="line">  <span class="attr">model</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">condition</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">aggregate</span>: []</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><code>$filter</code> è¿‡æ»¤æ•°ç»„ç¬¦åˆçš„å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">$project</span>: &#123;</span><br><span class="line">    <span class="attr">assigners</span>: &#123;</span><br><span class="line">      <span class="attr">$filter</span>: &#123;</span><br><span class="line">        <span class="attr">input</span>: <span class="string">&#x27;$assigners&#x27;</span>,</span><br><span class="line">        <span class="attr">as</span>: <span class="string">&#x27;item&#x27;</span>,</span><br><span class="line">        <span class="attr">cond</span>: &#123;</span><br><span class="line">          <span class="attr">$eq</span>: [<span class="string">&#x27;$$item.id&#x27;</span>, MAPP.MTypesId(staff_id)]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>$$ROOT</code> æ ¹å…ƒç´ è¿‡æ»¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">$project</span>: &#123;</span><br><span class="line">    <span class="attr">goods_ids</span>: <span class="string">&#x27;$$ROOT.check.goods_ids&#x27;</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€šç”¨æ–¹æ³•"><a href="#é€šç”¨æ–¹æ³•" class="headerlink" title="é€šç”¨æ–¹æ³•"></a>é€šç”¨æ–¹æ³•</h2><h2 id="MAPP"><a href="#MAPP" class="headerlink" title="MAPP"></a><code>MAPP</code></h2><p>è·¯å¾„ <code>\api-medicalCenter\libs\utils\</code></p><p><code>plus</code> åŠ  <code>minus</code> å‡ <code>multiply</code> ä¹˜ <code>division</code> é™¤</p><p> <code>selectTime</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ—¶é—´èŒƒå›´</span></span><br><span class="line"><span class="comment">// ä¼ å…¥</span></span><br><span class="line"><span class="comment">// Month: æœ¬æœˆ LastMonth: ä¸Šæœˆ Yesterday:æ˜¨å¤© Day: ä»Šå¤©</span></span><br><span class="line"><span class="comment">// LastWeek:ä¸Šå‘¨ Â Week: æœ¬å‘¨ Â Year:ä»Šå¹´ LastYear:å»å¹´</span></span><br><span class="line"><span class="keyword">const</span> timeRange = MAPP.selectTime(<span class="string">&#x27;Today&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(timeRange) <span class="comment">// [ 1658764800000, 1658851199999 ]</span></span><br></pre></td></tr></table></figure><h2 id="æ ¡éªŒ"><a href="#æ ¡éªŒ" class="headerlink" title="æ ¡éªŒ"></a>æ ¡éªŒ</h2><p>è·¯å¾„ <code>\api-medicalCenter\middleware</code></p><p>validator æ ¡éªŒ  userAuth ä¸ç”¨ç™»å½•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">validator</span>: &#123;</span><br><span class="line">    <span class="attr">verification_code</span>: <span class="string">&#x27;required|min:6&#x27;</span>,</span><br><span class="line">    <span class="attr">phone</span>: <span class="string">&#x27;required|cellphoneNumber&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;required|min:6&#x27;</span>,</span><br><span class="line">    <span class="attr">openid</span>: <span class="string">&#x27;string&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>å¤šä¸ª|éš”å¼€<br><code>required</code> å¿…ä¼ <br><code>min:6</code> æœ€å°6ä½<br><code>split-mongodbId</code> æ•°ç»„id</p><p>å¸¸ç”¨<br><code>mongodbId</code>  <code> numeric</code>  <code>object</code>  <code>string</code>  <code>array</code></p>]]></content>
    
    
    <summary type="html">æ–°é›¶å”®ä»£ç ç‰‡æ®µ</summary>
    
    
    
    <category term="ä»£ç ç‰‡æ®µ" scheme="https://wecy-chen.github.io/categories/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    
    
  </entry>
  
  <entry>
    <title>markdownè¯­æ³•</title>
    <link href="https://wecy-chen.github.io/2022/06/23/md/"/>
    <id>https://wecy-chen.github.io/2022/06/23/md/</id>
    <published>2022-06-23T06:37:07.686Z</published>
    <updated>2022-06-24T01:34:47.632Z</updated>
    
    <content type="html"><![CDATA[<p><strong>markdown å­¦ä¹ </strong></p><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><p><a href="https://baike.baidu.com/item/markdown/3245829?fr=aladdin">ç™¾åº¦ç™¾ç§‘</a></p><ul><li><p>ç®€ä»‹<br>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚</p></li><li><p>åº”ç”¨</p></li></ul><p>å½“å‰è®¸å¤šç½‘ç«™éƒ½å¹¿æ³›ä½¿ç”¨ Markdown æ¥æ’°å†™å¸®åŠ©æ–‡æ¡£æˆ–æ˜¯ç”¨äºè®ºå›ä¸Šå‘è¡¨æ¶ˆæ¯ã€‚ä¾‹å¦‚ï¼šGitHubã€ç®€ä¹¦ã€çŸ¥ä¹ç­‰</p><ul><li>å¾½ç« <br>å¾½ç« æ˜¯ä¸€ç§å°å·§ç²¾ç¾çš„å°å›¾æ ‡ï¼Œä¸€èˆ¬é…æœ‰ç›¸å…³æ–‡å­—è¿›è¡Œè¾…åŠ©è¯´æ˜ï¼Œå¯å¯¹æ•°æ®è¿›è¡Œç›‘æ§ï¼Œé“¾æ¥è·³è½¬ç­‰ï¼Œå¯Œæœ‰è¡¨ç°åŠ›ã€‚<br>å¸¸è§äº github é¡¹ç›®ä¸»é¡µï¼Œä½†å…¶ä¸ä»…å‡ºç°äº github é¡¹ç›®ä¸»é¡µï¼Œå‡¡æ˜¯èƒ½å¤Ÿè¡¨ç°å›¾ç‰‡çš„åœ°æ–¹éƒ½å¯ä»¥å‡ºç°å¾½ç« </li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ ¼å¼: [![å›¾ç‰‡æ–‡å­—è¯´æ˜](å›¾ç‰‡æºåœ°å€)](è¶…é“¾æ¥åœ°å€)  å³è¶…é“¾æ¥å†…éƒ¨åµŒå¥—å›¾ç‰‡</span><br><span class="line">è¯­æ³•ï¼š</span><br><span class="line">[![github](https://img.shields.io/badge/github-xugaoyi-brightgreen.svg)](https://github.com/xugaoyi)</span><br></pre></td></tr></table></figure><p><a href="https://wecy-chen.github.io/"><img src="https://img.shields.io/badge/github-wecychen-brightgreen.svg" alt="github"></a></p><p>å¾½ç« ç”Ÿæˆç½‘ç«™: <a href="https://shields.io/">https://shields.io/</a></p><p><a href="https://segmentfault.com/a/1190000019552597">å¾½ç« ç”Ÿæˆæ•™ç¨‹</a></p><ul><li>ç¼–è¾‘<br>vscode ä¸‹è½½markdown-formatteræ’ä»¶<br>setting.jsoné…ç½®ï¼š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰ç…§jsæ ¼å¼åŒ–</span></span><br><span class="line"><span class="comment">// &quot;markdownFormatter.codeAreaToBlock&quot;: &quot;js&quot;,</span></span><br><span class="line"><span class="comment">// ä¸æ ¼å¼åŒ–</span></span><br><span class="line"><span class="string">&quot;markdownFormatter.codeAreaToBlock&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="comment">// è‡ªåŠ¨æ ¼å¼åŒ–æ ‡ç‚¹</span></span><br><span class="line"><span class="string">&quot;markdownFormatter.fullWidthTurnHalfWidth&quot;</span>: <span class="string">&quot;auto&quot;</span>,</span><br><span class="line"><span class="comment">// ä¸­æ–‡æ ‡ç‚¹æ ¼å¼åŒ–ä¸ºè‹±æ–‡</span></span><br><span class="line"><span class="comment">// &quot;markdownFormatter.fullWidthTurnHalfWidth&quot;: &quot;ï¼Œï¼šï¼›ï¼â€œâ€â€˜â€™ï¼ˆï¼‰ï¼Ÿã€‚&quot;,</span></span><br><span class="line"><span class="string">&quot;markdownFormatter.formatOpt&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;indent_size&quot;</span>: <span class="number">2</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">&quot;[markdown]&quot;</span>: &#123;</span><br><span class="line">  <span class="comment">// è‡ªåŠ¨ä¿å­˜</span></span><br><span class="line">  <span class="string">&quot;editor.formatOnSave&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// æ˜¾ç¤ºç©ºæ ¼</span></span><br><span class="line">  <span class="string">&quot;editor.renderWhitespace&quot;</span>: <span class="string">&quot;all&quot;</span>,</span><br><span class="line">  <span class="comment">// å¿«é€Ÿè¡¥å…¨</span></span><br><span class="line">  <span class="string">&quot;editor.quickSuggestions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;other&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;comments&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;strings&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// snippet æç¤ºä¼˜å…ˆ</span></span><br><span class="line">  <span class="string">&quot;editor.snippetSuggestions&quot;</span>: <span class="string">&quot;top&quot;</span>,</span><br><span class="line">  <span class="string">&quot;editor.tabCompletion&quot;</span>: <span class="string">&quot;on&quot;</span>,</span><br><span class="line">  <span class="comment">// ä½¿ç”¨enter æ¥å—æç¤º</span></span><br><span class="line">  <span class="string">&quot;editor.acceptSuggestionOnEnter&quot;</span>: <span class="string">&quot;on&quot;</span>,</span><br><span class="line">  <span class="comment">// é»˜è®¤æ ¼å¼åŒ–å·¥å…·ä¸ºæœ¬å·¥å…·</span></span><br><span class="line">  <span class="string">&quot;editor.defaultFormatter&quot;</span>: <span class="string">&quot;mervin.markdown-formatter&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><h2 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h2><ul><li><p><strong>æ®µè½</strong><br>Markdown æ®µè½æ²¡æœ‰ç‰¹æ®Šçš„æ ¼å¼ï¼Œç›´æ¥ç¼–å†™æ–‡å­—ï¼Œéœ€è¦æ®µè½ç¼©è¿›æ—¶ä½¿ç”¨ 2 ä¸ª Tab</p></li><li><p><strong>å­—ä½“</strong></p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*æ–œä½“æ–‡æœ¬*   _æ–œä½“æ–‡æœ¬_</span><br><span class="line">**ç²—ä½“æ–‡æœ¬**  __ç²—ä½“æ–‡æœ¬__</span><br><span class="line">***ç²—æ–œä½“æ–‡æœ¬***  ___ç²—æ–œä½“æ–‡æœ¬___</span><br></pre></td></tr></table></figure><p><em>æ–œä½“æ–‡æœ¬</em> <em>æ–œä½“æ–‡æœ¬</em><br><strong>ç²—ä½“æ–‡æœ¬</strong> <strong>ç²—ä½“æ–‡æœ¬</strong><br><strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong> <strong><em>ç²—æ–œä½“æ–‡æœ¬</em></strong></p><ul><li><strong>åˆ é™¤çº¿</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">~~åˆ é™¤çº¿~~</span><br></pre></td></tr></table></figure><p><del>åˆ é™¤çº¿</del></p><ul><li><strong>ä¸‹åˆ’çº¿</strong><br>ä¸‹åˆ’çº¿å¯ä»¥é€šè¿‡ HTML çš„ æ ‡ç­¾æ¥å®ç°ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;u&gt;å¸¦ä¸‹åˆ’çº¿çš„æ–‡æœ¬&lt;/u&gt;</span><br></pre></td></tr></table></figure><p><u>å¸¦ä¸‹åˆ’çº¿çš„æ–‡æœ¬</u></p><ul><li><strong>æ–‡å­—é«˜äº®</strong><br>æ–‡å­—é«˜äº®åŠŸèƒ½èƒ½ä½¿è¡Œå†…éƒ¨åˆ†æ–‡å­—é«˜äº®ï¼Œä½¿ç”¨ä¸€å¯¹åå¼•å·ã€‚</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`html` `css` `javascript`</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>html</code>  <code>css</code>  <code>javascript</code></p><h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">***</span><br><span class="line"></span><br><span class="line">*****</span><br><span class="line"></span><br><span class="line">- - -</span><br><span class="line"></span><br><span class="line">----------</span><br></pre></td></tr></table></figure><hr><hr><hr><hr><h2 id="è„šæ³¨"><a href="#è„šæ³¨" class="headerlink" title="è„šæ³¨"></a>è„šæ³¨</h2><p>è„šæ³¨æ˜¯å¯¹æ–‡æœ¬çš„è¡¥å……è¯´æ˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">[^å˜é‡]</span><br><span class="line">åœ¨æ–‡æ¡£ç»“å°¾æˆ–å…¶ä»–ä½ç½®çµ¦å˜é‡èµ‹å€¼ï¼š</span><br><span class="line">[^å˜é‡]: æ³¨æ˜æ¡†å†…æ˜¾ç¤ºçš„å†…å®¹</span><br><span class="line"></span><br><span class="line">é¼ æ ‡ç§»åˆ°è¿™é‡Œ&gt; [^å“ˆå–½]</span><br><span class="line">[^å“ˆå–½]: æ³¨æ˜æ¡†å†…æ˜¾ç¤ºçš„å†…å®¹</span><br></pre></td></tr></table></figure><p>é¼ æ ‡ç§»åˆ°è¿™é‡Œ&gt; [^1]</p><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><ul><li><strong>æ— åºåˆ—è¡¨</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* ç¬¬ä¸€é¡¹</span><br><span class="line">* ç¬¬äºŒé¡¹</span><br><span class="line"></span><br><span class="line">+ ç¬¬ä¸€é¡¹</span><br><span class="line">+ ç¬¬äºŒé¡¹</span><br><span class="line"></span><br><span class="line">- ç¬¬ä¸€é¡¹</span><br><span class="line">- ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><ul><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li></ul><ul><li><strong>æœ‰åºåˆ—è¡¨</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€é¡¹</span><br><span class="line">2. ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li></ol><ul><li><strong>æŠ˜å åˆ—è¡¨</strong></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">summary</span>&gt;</span>ç‚¹æˆ‘æ‰“å¼€å…³é—­æŠ˜å <span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line">  æŠ˜å å†…å®¹</span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure><details><summary>ç‚¹æˆ‘æ‰“å¼€å…³é—­æŠ˜å </summary>æŠ˜å å†…å®¹ <ul><li>1</li> <li>2</li> <li>3</li> </ul></details><ul><li><strong>å¸¦å¤é€‰æ¡†åˆ—è¡¨</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* [x] ç¬¬ä¸€é¡¹</span><br><span class="line">* [ ] ç¬¬äºŒé¡¹</span><br><span class="line">* [ ] ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><ul><li><input checked="" disabled="" type="checkbox"> ç¬¬ä¸€é¡¹</li><li><input disabled="" type="checkbox"> ç¬¬äºŒé¡¹</li><li><input disabled="" type="checkbox"> ç¬¬ä¸‰é¡¹</li></ul><p>-<strong>åˆ—è¡¨åµŒå¥—</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. ç¬¬ä¸€é¡¹</span><br><span class="line">   - åµŒå¥—1</span><br><span class="line">   - åµŒå¥—2</span><br><span class="line">2. ç¬¬äºŒé¡¹</span><br><span class="line">   - åµŒå¥—1</span><br><span class="line">   - åµŒå¥—2</span><br></pre></td></tr></table></figure><ol><li>ç¬¬ä¸€é¡¹<ul><li>åµŒå¥—1</li><li>åµŒå¥—2</li></ul></li><li>ç¬¬äºŒé¡¹<ul><li>åµŒå¥—1</li><li>åµŒå¥—2</li></ul></li></ol><h2 id="åŒºå—"><a href="#åŒºå—" class="headerlink" title="åŒºå—"></a>åŒºå—</h2><p>åŒºå—å¼•ç”¨æ˜¯åœ¨æ®µè½å¼€å¤´ä½¿ç”¨ <strong>&gt;</strong> ç¬¦å· ï¼Œç„¶ååé¢ç´§è·Ÿä¸€ä¸ª<strong>ç©ºæ ¼</strong>ç¬¦å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; åŒºå—å¼•ç”¨</span><br></pre></td></tr></table></figure><blockquote><p>åŒºå—å¼•ç”¨</p><p>å›è½¦é”®è‡ªåŠ¨å»¶ä¼¸åŒºå—</p></blockquote><ul><li><p><strong>åŒºå—åµŒå¥—</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; ç¬¬ä¸€å±‚</span><br><span class="line">&gt; &gt; ç¬¬äºŒå±‚</span><br><span class="line">&gt; &gt; &gt; ç¬¬ä¸‰å±‚</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¬ä¸€å±‚</p><blockquote><p>ç¬¬äºŒå±‚</p><blockquote><p>ç¬¬ä¸‰å±‚</p></blockquote></blockquote></blockquote></li></ul><p>-<strong>åŒºå—ä¸­ä½¿ç”¨åˆ—è¡¨</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; åŒºå—ä¸­ä½¿ç”¨åˆ—è¡¨</span><br><span class="line">&gt; 1. ç¬¬ä¸€é¡¹</span><br><span class="line">&gt; 2. ç¬¬äºŒé¡¹</span><br><span class="line">&gt; * 111</span><br><span class="line">&gt; * 222</span><br></pre></td></tr></table></figure><blockquote><p>åŒºå—ä¸­ä½¿ç”¨åˆ—è¡¨</p><ol><li>ç¬¬ä¸€é¡¹</li><li>ç¬¬äºŒé¡¹</li></ol><ul><li>111</li><li>222</li></ul></blockquote><ul><li><p><strong>åˆ—è¡¨ä¸­ä½¿ç”¨åŒºå—</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* ç¬¬ä¸€é¡¹</span><br><span class="line">    &gt; åŒºå—</span><br><span class="line">* ç¬¬äºŒé¡¹</span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€é¡¹<blockquote><p>åŒºå—</p></blockquote></li><li>ç¬¬äºŒé¡¹</li></ul></li></ul><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>  å¦‚æœæ˜¯æ®µè½ä¸Šçš„ä¸€ä¸ªå‡½æ•°æˆ–ç‰‡æ®µçš„ä»£ç å¯ä»¥ç”¨åå¼•å·æŠŠå®ƒåŒ…èµ·æ¥ï¼ˆ**`**ï¼‰ï¼š</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`function()` å‡½æ•°</span><br></pre></td></tr></table></figure><p>  <code>function()</code>å‡½æ•°</p><ul><li><p><strong>ä»£ç å—</strong></p><p>ç”¨ <strong>```</strong> åŒ…è£¹ä¸€æ®µä»£ç ï¼Œå¹¶æŒ‡å®šä¸€ç§è¯­è¨€ï¼ˆä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼‰<br>æœ¬ä»£ç åŒºå—ä¸ºè¯´æ˜ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```javascript</span><br><span class="line">function test() &#123;</span><br><span class="line">alert(&#x27;test&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">alert(<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[é“¾æ¥åç§°](é“¾æ¥åœ°å€)</span><br><span class="line">[é“¾æ¥åç§°](é“¾æ¥åœ°å€,å¯é€‰çš„alt)</span><br><span class="line">æˆ–</span><br><span class="line">&lt;é“¾æ¥åœ°å€&gt;</span><br></pre></td></tr></table></figure>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ç™¾åº¦](http://www.baidu.com,&#x27;ç™¾åº¦&#x27;)</span><br></pre></td></tr></table></figure><p>  <a href="http://www.baidu.com,'ç™¾åº¦'/">ç™¾åº¦</a></p><p>  ç›´æ¥æ˜¾ç¤ºé“¾æ¥åœ°å€ï¼š</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;http://www.baidu.com&gt;</span><br></pre></td></tr></table></figure><p>  <a href="http://www.baidu.com/">http://www.baidu.com</a></p></li><li><p><strong>å˜é‡é“¾æ¥</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">é“¾æ¥å¯ä»¥ç”¨å˜é‡æ¥ä»£æ›¿ï¼Œæ–‡æ¡£æœ«å°¾æˆ–å…¶ä»–ä½ç½®é™„å¸¦å˜é‡åœ°å€ï¼š</span><br><span class="line">è¿™ä¸ªé“¾æ¥ç”¨ 1 ä½œä¸ºç½‘å€å˜é‡ [Google][1]</span><br><span class="line">è¿™ä¸ªé“¾æ¥ç”¨ baidu ä½œä¸ºç½‘å€å˜é‡ [Baidu][baidu]</span><br><span class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾ä¸ºå˜é‡èµ‹å€¼ï¼ˆç½‘å€ï¼‰</span><br><span class="line">  [1]: http://www.google.com/</span><br><span class="line">  [baidu]: http://www.baidu.com/</span><br></pre></td></tr></table></figure><p>  [Google][1]</p><p>  [Baidu][baidu]</p><p>  [1]:<a href="http://www.google.com/">http://www.google.com</a></p><p>  [baidu]: <a href="http://www.baidu.com/">http://www.baidu.com/</a></p></li><li><p><strong>Githubä¸­ä½¿ç”¨å†…éƒ¨é“¾æ¥</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆå‰ææ˜¯æœ‰è¯¥è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼‰</span><br><span class="line">[test](/2022/05/30/git/)</span><br></pre></td></tr></table></figure><p>  <a href="/2022/05/30/git/">test</a></p></li><li><p><strong>é”šç‚¹é“¾æ¥</strong></p><p>  æœ¬æ–‡ä»¶ä¸­æ¯ä¸€ä¸ªæ ‡é¢˜éƒ½æ˜¯ä¸€ä¸ªé”šç‚¹ï¼Œå’ŒHTMLçš„é”šç‚¹ï¼ˆ<code>#</code>ï¼‰ç±»ä¼¼</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Markdown](#Markdown)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š githubå¯¹å«æœ‰æ ‡ç‚¹ç¬¦å·çš„æ ‡é¢˜è¿›è¡Œé”šç‚¹æ—¶ä¼šå¿½ç•¥æ‰æ ‡ç‚¹ç¬¦å·ï¼Œ<br>æœ¬é¡µä¸­ï¼Œå¦‚æœè¿™æ ·å†™åˆ™æ— æ³•è·³è½¬ï¼š[é“¾æ¥](#ä¹ã€é“¾æ¥)<br>æ­£ç¡®å†™æ³•ï¼š[é“¾æ¥](#ä¹é“¾æ¥)<br>  <a href="#%E4%B8%80Markdown">Markdown</a></p></blockquote><p>  <a href="#%E4%B9%9D%E9%93%BE%E6%8E%A5">é“¾æ¥</a>     </p><p>  <a href="#%E6%B5%81%E7%A8%8B%E5%9B%BE">æµç¨‹å›¾</a></p></li></ul><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><pre><code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![altæ›¿ä»£æ–‡æœ¬](å›¾ç‰‡åœ°å€)</span><br><span class="line">![altæ›¿ä»£æ–‡æœ¬](å›¾ç‰‡åœ°å€ &quot;titleæ ‡é¢˜&quot;)</span><br></pre></td></tr></table></figure></code></pre><ul><li><p>å¼€å¤´ä¸€ä¸ªæ„Ÿå¹å· !</p></li><li><p>æ¥ç€ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„æ›¿ä»£æ–‡å­—</p></li><li><p>æ¥ç€ä¸€ä¸ªæ™®é€šæ‹¬å·ï¼Œé‡Œé¢æ”¾ä¸Šå›¾ç‰‡çš„åœ°å€ï¼Œæœ€åè¿˜å¯ä»¥ç”¨å¼•å·åŒ…ä½å¹¶åŠ ä¸Šé€‰æ‹©æ€§çš„ â€˜titleâ€™ å±æ€§çš„æ–‡å­—ã€‚</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![logo](https://img2.baidu.com/it/u=594502772,1564194739&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=265 &quot;logo&quot;)</span><br></pre></td></tr></table></figure><p><img src="https://img2.baidu.com/it/u=594502772,1564194739&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=265" alt="logo" title="logo"></p><p>  å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥åƒé“¾æ¥é‚£æ ·å¯¹å›¾ç‰‡åœ°å€ä½¿ç”¨å˜é‡:</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¿™é‡Œé“¾æ¥ç”¨ img ä½œä¸ºå›¾ç‰‡åœ°å€å˜é‡ </span><br><span class="line">ç„¶ååœ¨æ–‡æ¡£çš„ç»“å°¾æˆ–å…¶ä»–ä½ç½®ç»™å˜é‡èµ‹å€¼ï¼ˆå›¾ç‰‡åœ°å€ï¼‰</span><br><span class="line">![RUNOOB][img]</span><br><span class="line"> [img]: https://img2.baidu.com/it/u=594502772,1564194739&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=265</span><br></pre></td></tr></table></figure><p><img src="https://img2.baidu.com/it/u=594502772,1564194739&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=265" alt="RUNOOB"></p></li></ul><ul><li><strong>å›¾ç‰‡å®½é«˜</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;https://img2.baidu.com/it/u=594502772,1564194739&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=499&amp;h=265&quot; width=&quot;50px&quot; height=&quot;30px&quot;&gt;</span><br></pre></td></tr></table></figure><img src="https://img2.baidu.com/it/u=594502772,1564194739&fm=253&fmt=auto&app=138&f=JPEG?w=499&h=265" width="50px" height="30px"><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><p>åˆ¶ä½œè¡¨æ ¼ä½¿ç”¨ (<strong>|</strong>) æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨( <strong>-</strong>) æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|  è¡¨å¤´   | è¡¨å¤´  |</span><br><span class="line">|  ----  | ----  |</span><br><span class="line">| å•å…ƒæ ¼  | å•å…ƒæ ¼ |</span><br><span class="line">| å•å…ƒæ ¼  | å•å…ƒæ ¼ |</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">è¡¨å¤´</th><th align="center">è¡¨å¤´</th></tr></thead><tbody><tr><td align="center">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="center">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><ul><li><strong>å¯¹é½æ–¹å¼</strong><ul><li><strong>-:</strong> è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…å³å¯¹é½  </li><li><strong>:-</strong> è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…å·¦å¯¹é½</li><li><strong>:-:</strong> è®¾ç½®å†…å®¹å’Œæ ‡é¢˜æ å±…ä¸­å¯¹é½</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">| å·¦å¯¹é½ | å³å¯¹é½ | å±…ä¸­å¯¹é½ |</span><br><span class="line">| :-----| ----: | :----: |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ | å•å…ƒæ ¼ |</span><br><span class="line">| å•å…ƒæ ¼ | å•å…ƒæ ¼ | å•å…ƒæ ¼ |</span><br></pre></td></tr></table></figure><table><thead><tr><th align="left">å·¦å¯¹é½</th><th align="right">å³å¯¹é½</th><th align="center">å±…ä¸­å¯¹é½</th></tr></thead><tbody><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr><tr><td align="left">å•å…ƒæ ¼</td><td align="right">å•å…ƒæ ¼</td><td align="center">å•å…ƒæ ¼</td></tr></tbody></table><h2 id="Emojiè¡¨æƒ…åŒ…"><a href="#Emojiè¡¨æƒ…åŒ…" class="headerlink" title="Emojiè¡¨æƒ…åŒ…"></a>Emojiè¡¨æƒ…åŒ…</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼šEmojiè¡¨æƒ…è‹±æ–‡åçš„å‰ååŠ å†’å·ï¼ŒTyporeä¸Šå…ˆè¾“å…¥å†’å·å†è¾“å…¥é¦–å­—æ¯æœ‰è¡¨æƒ…æç¤º</span><br><span class="line">æˆ–ç›´æ¥å¤åˆ¶è¡¨æƒ…åŒ…</span><br><span class="line">å¦‚ï¼š</span><br><span class="line">:smirk:</span><br><span class="line">&amp;#x1f602;</span><br></pre></td></tr></table></figure><p>æ”¯æŒä¸å®Œå–„</p><p><a href="https://blog.csdn.net/qq_39218530/article/details/118671991">è¡¨æƒ…åŒ…</a></p><p>ğŸ˜€ ğŸ˜ƒ ğŸ¥° ğŸ˜ ğŸ˜˜</p><p>&#x1f602;<br>:smirk: </p><p>æ›´å¤šè¡¨æƒ…åç§°è¯·æŸ¥çœ‹ï¼š<a href="https://www.webfx.com/tools/emoji-cheat-sheet/">è¡¨æƒ…åŒ…æ¸…å•</a></p><h2 id="å…¶ä»–æŠ€å·§"><a href="#å…¶ä»–æŠ€å·§" class="headerlink" title="å…¶ä»–æŠ€å·§"></a>å…¶ä»–æŠ€å·§</h2><h3 id="æ”¯æŒçš„-HTML-å…ƒç´ "><a href="#æ”¯æŒçš„-HTML-å…ƒç´ " class="headerlink" title="æ”¯æŒçš„ HTML å…ƒç´ "></a>æ”¯æŒçš„ HTML å…ƒç´ </h3><p>ä¸åœ¨ Markdown è¯­æ³•æ¶µç›–èŒƒå›´ä¹‹å†…çš„æ ‡ç­¾ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£é‡Œé¢ç”¨ HTML æ’°å†™ã€‚</p><p>ç›®å‰æ”¯æŒçš„ HTML å…ƒç´ æœ‰ï¼š<code>&lt;kbd&gt; &lt;b&gt; &lt;i&gt; &lt;em&gt; &lt;sup&gt; &lt;sub&gt; &lt;br&gt;</code>ç­‰ ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Del&lt;/kbd&gt; é‡å¯ç”µè„‘</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd> é‡å¯ç”µè„‘</p><p><b>ä½¿ç”¨bæ ‡ç­¾çš„åŠ ç²—å­—ä½“</b></p><h3 id="è½¬ä¹‰"><a href="#è½¬ä¹‰" class="headerlink" title="è½¬ä¹‰"></a>è½¬ä¹‰</h3><p>Markdown ä½¿ç”¨äº†å¾ˆå¤šç‰¹æ®Šç¬¦å·æ¥è¡¨ç¤ºç‰¹å®šçš„æ„ä¹‰ï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºç‰¹å®šçš„ç¬¦å·åˆ™éœ€è¦ä½¿ç”¨åæ–œæ è½¬ä¹‰å­—ç¬¦ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">**æœªè½¬ä¹‰æ˜Ÿå·æ˜¾ç¤ºåŠ ç²—** </span><br><span class="line">\*\* è½¬ä¹‰æ˜¾ç¤ºæ˜Ÿå· \*\*</span><br></pre></td></tr></table></figure><p><strong>æœªè½¬ä¹‰æ˜Ÿå·æ˜¾ç¤ºåŠ ç²—</strong><br>** è½¬ä¹‰æ˜¾ç¤ºæ˜Ÿå· **</p><p>Markdown æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   åæ–œçº¿</span><br><span class="line">`   åå¼•å·</span><br><span class="line">*   æ˜Ÿå·</span><br><span class="line">_   ä¸‹åˆ’çº¿</span><br><span class="line">&#123;&#125;  èŠ±æ‹¬å·</span><br><span class="line">[]  æ–¹æ‹¬å·</span><br><span class="line">()  å°æ‹¬å·</span><br><span class="line">#   äº•å­—å·</span><br><span class="line">+   åŠ å·</span><br><span class="line">-   å‡å·</span><br><span class="line">.   è‹±æ–‡å¥ç‚¹</span><br><span class="line">!   æ„Ÿå¹å·</span><br></pre></td></tr></table></figure><hr><p>*** <strong>ä»¥ä¸‹éƒ¨åˆ†åœ¨Githubæš‚æœªæ”¯æŒ</strong> ***</p><hr><h2 id="æ•°å­¦å…¬å¼"><a href="#æ•°å­¦å…¬å¼" class="headerlink" title="æ•°å­¦å…¬å¼"></a>æ•°å­¦å…¬å¼</h2><p>å½“ä½ éœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­æ’å…¥æ•°å­¦å…¬å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦ $$ åŒ…è£¹ TeX æˆ– LaTeX æ ¼å¼çš„æ•°å­¦å…¬å¼æ¥å®ç°ã€‚æäº¤åï¼Œé—®ç­”å’Œæ–‡ç« é¡µä¼šæ ¹æ®éœ€è¦åŠ è½½ Mathjax å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ã€‚å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">$$</span><br><span class="line">\mathbf&#123;V&#125;_1 \times \mathbf&#123;V&#125;_2 =  \begin&#123;vmatrix&#125; </span><br><span class="line">\mathbf&#123;i&#125; &amp; \mathbf&#123;j&#125; &amp; \mathbf&#123;k&#125; \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial u&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial u&#125; &amp; 0 \\</span><br><span class="line">\frac&#123;\partial X&#125;&#123;\partial v&#125; &amp;  \frac&#123;\partial Y&#125;&#123;\partial v&#125; &amp; 0 \\</span><br><span class="line">\end&#123;vmatrix&#125;</span><br><span class="line">$$tep1&#125;&#123;\style&#123;visibility:hidden&#125;&#123;(x+1)(x+1)&#125;&#125;</span><br><span class="line">$$</span><br></pre></td></tr></table></figure><p>$\sqrt{3x-1}+(1+x)^2$</p><p>$$<br>\mathbf{V}_1 \times \mathbf{V}_2 =  \begin{vmatrix}<br>\mathbf{i} &amp; \mathbf{j} &amp; \mathbf{k} \<br>\frac{\partial X}{\partial u} &amp;  \frac{\partial Y}{\partial u} &amp; 0 \<br>\frac{\partial X}{\partial v} &amp;  \frac{\partial Y}{\partial v} &amp; 0 \<br>\end{vmatrix}<br>$$</p><h2 id="å›¾è¡¨"><a href="#å›¾è¡¨" class="headerlink" title="å›¾è¡¨"></a>å›¾è¡¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```chart</span><br><span class="line">,Budget,Income,Expenses,Debt</span><br><span class="line">June,5000,8000,4000,6000</span><br><span class="line">July,3000,1000,4000,3000</span><br><span class="line">Aug,5000,7000,6000,3000</span><br><span class="line">Sep,7000,2000,3000,1000</span><br><span class="line">Oct,6000,5000,4000,2000</span><br><span class="line">Nov,4000,3000,5000,</span><br><span class="line">type: pie</span><br><span class="line">title: Monthly Revenue</span><br><span class="line">x.title: Amount</span><br><span class="line">y.title: Month</span><br><span class="line">y.suffix: $</span><br><span class="line">â€‹```</span><br><span class="line">â€‹```mermaid</span><br><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ</span><br><span class="line">B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>â€‹<code>chart ,Budget,Income,Expenses,Debt June,5000,8000,4000,6000 July,3000,1000,4000,3000 Aug,5000,7000,6000,3000 Sep,7000,2000,3000,1000 Oct,6000,5000,4000,2000 Nov,4000,3000,5000, type: pie title: Monthly Revenue x.title: Amount y.title: Month y.suffix: $ â€‹</code></p><p>â€‹<code>mermaid sequenceDiagram A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯ â€‹</code></p><blockquote><p>æ³¨ï¼šåœ¨Typoraä¸­æœªæ”¯æŒ</p></blockquote><h2 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```mermaid</span><br><span class="line">graph TD</span><br><span class="line">A[æ¨¡å—A] --&gt;|A1| B(æ¨¡å—B)</span><br><span class="line">B --&gt; C&#123;åˆ¤æ–­æ¡ä»¶C&#125;</span><br><span class="line">C --&gt;|æ¡ä»¶C1| D[æ¨¡å—D]</span><br><span class="line">C --&gt;|æ¡ä»¶C2| E[æ¨¡å—E]</span><br><span class="line">C --&gt;|æ¡ä»¶C3| F[æ¨¡å—F]</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><p>æµç¨‹å›¾ç›¸å…³æ–‡ç« ï¼š<a href="https://www.jianshu.com/p/b421cc723da5">https://www.jianshu.com/p/b421cc723da5</a></p><p><a href="http://www.imooc.com/article/292708">http://www.imooc.com/article/292708</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A[æ¨¡å—A] --&gt;|A1| B(æ¨¡å—B)</span><br><span class="line">B --&gt; C&#123;åˆ¤æ–­æ¡ä»¶C&#125;</span><br><span class="line">C --&gt;|æ¡ä»¶C1| D[æ¨¡å—D]</span><br><span class="line">C --&gt;|æ¡ä»¶C2| E[æ¨¡å—E]</span><br><span class="line">C --&gt;|æ¡ä»¶C3| F[æ¨¡å—F]</span><br></pre></td></tr></table></figure><h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```mermaid</span><br><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ</span><br><span class="line">B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: æ˜¯å¦å·²æ”¶åˆ°æ¶ˆæ¯ï¼Ÿ</span><br><span class="line">B--&gt;&gt;A: å·²æ”¶åˆ°æ¶ˆæ¯</span><br></pre></td></tr></table></figure><h3 id="ç”˜ç‰¹å›¾"><a href="#ç”˜ç‰¹å›¾" class="headerlink" title="ç”˜ç‰¹å›¾"></a>ç”˜ç‰¹å›¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">è¯­æ³•ï¼š</span><br><span class="line">â€‹```mermaid</span><br><span class="line">gantt</span><br><span class="line">title ç”˜ç‰¹å›¾</span><br><span class="line">dateFormat  YYYY-MM-DD</span><br><span class="line">section é¡¹ç›®A</span><br><span class="line">ä»»åŠ¡1           :a1, 2018-06-06, 30d</span><br><span class="line">ä»»åŠ¡2     :after a1  , 20d</span><br><span class="line">section é¡¹ç›®B</span><br><span class="line">ä»»åŠ¡3      :2018-06-12  , 12d</span><br><span class="line">ä»»åŠ¡4      : 24d</span><br><span class="line">â€‹```</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">title ç”˜ç‰¹å›¾</span><br><span class="line">dateFormat  YYYY-MM-DD</span><br><span class="line">section é¡¹ç›®A</span><br><span class="line">ä»»åŠ¡1           :a1, 2018-06-06, 30d</span><br><span class="line">ä»»åŠ¡2     :after a1  , 20d</span><br><span class="line">section é¡¹ç›®B</span><br><span class="line">ä»»åŠ¡3      :2018-06-12  , 12d</span><br><span class="line">ä»»åŠ¡4      : 24d</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">markdownè¯­æ³•å­¦ä¹ </summary>
    
    
    
    <category term="mdå­¦ä¹ " scheme="https://wecy-chen.github.io/categories/md%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="mdå­¦ä¹  markdown" scheme="https://wecy-chen.github.io/tags/md%E5%AD%A6%E4%B9%A0-markdown/"/>
    
  </entry>
  
  <entry>
    <title>git</title>
    <link href="https://wecy-chen.github.io/2022/05/30/git/"/>
    <id>https://wecy-chen.github.io/2022/05/30/git/</id>
    <published>2022-05-30T08:31:10.051Z</published>
    <updated>2022-06-25T07:27:50.650Z</updated>
    
    <content type="html"><![CDATA[<p><strong>gitå­¦ä¹ </strong></p><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://git-scm.com/">å®˜ç½‘</a></p><blockquote><p>åˆæ¬¡å®‰è£…gité…ç½®ç”¨æˆ·åå’Œé‚®ç®±</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;ä½ çš„åç§°&quot;</span><br><span class="line">$ git config --global user.email &quot;ä½ çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><blockquote><p>gitä½¿ç”¨sshå¯†é’¥</p></blockquote><p>åˆæ¬¡ä½¿ç”¨gitçš„ç”¨æˆ·è¦ä½¿ç”¨gitåè®®å¤§æ¦‚éœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼š</p><p>1.ç”Ÿæˆå¯†é’¥å¯¹<br>2.è®¾ç½®è¿œç¨‹ä»“åº“ï¼ˆæœ¬æ–‡ä»¥githubä¸ºä¾‹ï¼‰ä¸Šçš„å…¬é’¥<br>3.æŠŠgitçš„ remote url ä¿®æ”¹ä¸ºgitåè®®</p><h3 id="1-ç”Ÿæˆå¯†é’¥å¯¹"><a href="#1-ç”Ÿæˆå¯†é’¥å¯¹" class="headerlink" title="1.ç”Ÿæˆå¯†é’¥å¯¹"></a>1.ç”Ÿæˆå¯†é’¥å¯¹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/.ssh</span><br><span class="line">$ ls</span><br></pre></td></tr></table></figure><p>æˆªå›¾æœ¬æœºå·²ç»ç”Ÿæˆè¿‡å…¬é’¥äº†</p><p><img src="/image/git/ssh.png" alt="ssh.png"></p><p>æ–‡ä»¶è¯´æ˜:<br>id_rsa: å…¬é’¥<br>id_rsa.pub: ç§é’¥</p><p>å¦‚æœæ²¡æœ‰å­˜åœ¨è¿™ä¸ªä¸¤ä¸ªæ–‡ä»¶,åˆ™éœ€è¦ç”Ÿæˆç§˜é’¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ssh-keygen -t rsa -C &quot;ä½ çš„é‚®ç®±&quot;</span><br><span class="line"></span><br><span class="line">Creates a new ssh key using the provided email # Generating public/private rsa key pair.</span><br><span class="line"></span><br><span class="line">Enter file in which to save the key (/home/you/.ssh/id_rsa):</span><br></pre></td></tr></table></figure><p>ç›´æ¥æŒ‰Enterå°±è¡Œã€‚ç„¶åï¼Œä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼Œå¦‚ä¸‹(å»ºè®®è¾“ä¸€ä¸ªï¼Œå®‰å…¨ä¸€ç‚¹ï¼Œå½“ç„¶ä¸è¾“ä¹Ÿè¡Œï¼Œåº”è¯¥ä¸ä¼šæœ‰äººé—²çš„æ— èŠå†’å……ä½ å»ä¿®æ”¹ä½ çš„ä»£ç )ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter same passphrase again: [Type passphrase again]</span><br></pre></td></tr></table></figure><p>å®Œæˆè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Your public key has been saved in /home/you/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is: # 01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db your_email@youremail.com</span><br></pre></td></tr></table></figure><h3 id="2-è®¾ç½®è¿œç¨‹ä»“åº“"><a href="#2-è®¾ç½®è¿œç¨‹ä»“åº“" class="headerlink" title="2.è®¾ç½®è¿œç¨‹ä»“åº“"></a>2.è®¾ç½®è¿œç¨‹ä»“åº“</h3><ul><li>1.æŸ¥çœ‹ä½ ç”Ÿæˆçš„å…¬é’¥</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cat ~/.ssh/id_rsa.pub</span><br><span class="line"></span><br><span class="line">ssh-rsa xxxxxxxxxxxxx</span><br></pre></td></tr></table></figure><ul><li>2.é…ç½®å…¬é’¥<ul><li>ç™»é™†ä½ çš„githubå¸æˆ·ã€‚ç‚¹å‡»ä½ çš„å¤´åƒï¼Œç„¶å Settings -&gt; å·¦æ ç‚¹å‡» SSH and GPG keys -&gt; ç‚¹å‡» New SSH key</li><li>ç„¶åä½ å¤åˆ¶ä¸Šé¢çš„å…¬é’¥å†…å®¹ï¼Œç²˜è´´è¿›â€œKeyâ€æ–‡æœ¬åŸŸå†…ã€‚ titleåŸŸï¼Œè‡ªå·±éšä¾¿èµ·ä¸ªåå­—</li><li>ç‚¹å‡» Add key<br>å®Œæˆä»¥åï¼ŒéªŒè¯ä¸‹è¿™ä¸ªkeyæ˜¯ä¸æ˜¯æ­£å¸¸å·¥ä½œï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">Attempts to ssh to github</span><br></pre></td></tr></table></figure>çœ‹åˆ°è¿™ä¸ª<br><code>Hi xxx! You&#39;ve successfully authenticated, but GitHub does not # provide shell access.</code><br>æ­å–œä½ ï¼Œä½ çš„è®¾ç½®å·²ç»æˆåŠŸäº†ã€‚</li></ul></li></ul><h3 id="3-åˆ›å»ºgithubé¡¹ç›®"><a href="#3-åˆ›å»ºgithubé¡¹ç›®" class="headerlink" title="3.åˆ›å»ºgithubé¡¹ç›®"></a>3.åˆ›å»ºgithubé¡¹ç›®</h3><p><strong>æ–°å»ºé¡¹ç›®åˆ†2ç§æƒ…å†µï¼š</strong></p><p>1.æœ¬åœ°æ²¡æœ‰é¡¹ç›®ä»£ç ã€‚<br>2.æœ¬åœ°å·²ç»å­˜åœ¨é¡¹ç›®ä»£ç ï¼Œåªæ˜¯æƒ³æ”¾åˆ° github æ‰˜ç®¡ã€‚</p><blockquote><p>åˆ›å»ºä»“åº“</p></blockquote><p>ç™»å½•ä½ çš„githubè´¦å·,æ¥åˆ›å»ºè¿œç¨‹ä»“åº“(å¦‚å›¾)</p><p><img src="/image/git/github1.png" alt="github1.png"></p><p><img src="/image/git/github2.png" alt="github2.png"></p><ul><li>ç”±ä¸Šå¾€ä¸‹è¾“å…¥ä½ é¡¹ç›®çš„åå­—ã€é¡¹ç›®çš„æè¿°ï¼Œé€‰æ‹©è¿™ä¸ªé¡¹ç›®æ˜¯ä¸æ˜¯å…¬å¼€(Public)æˆ–æ˜¯ä½œä¸ºç§äººé¡¹ç›®(Private)ã€‚</li><li>Initialize this repository with a READMEè¿™ä¸ªé€‰é¡¹æ˜¯é—®ä½ è¦ä¸è¦å¸®ä½ æ ¹æ®ä½ è¾“å…¥çš„é¡¹ç›®åå­—å’Œæè¿°åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®(ç”Ÿæˆä¸€ä¸ªREADMEçš„mdæ–‡ä»¶)</li><li>å†æ¥ä¸‹æ¥æ˜¯é—®ä½ è¦ä¸è¦æ·»åŠ é¡¹ç›®çš„å¿½ç•¥æ–‡ä»¶(.gitigore)è¿˜æœ‰è¦ä¸è¦ä¸ºä½ çš„é¡¹ç›®å¢åŠ ä¸€ä¸ªè®¸å¯è¯(license)ã€‚</li><li>ä¸Šé¢çš„æ ¹æ®ä½ è‡ªå·±çš„å®é™…éœ€è¦å¡«å®Œå’Œé€‰æ‹©å³å¯ï¼Œç„¶åç‚¹å‡»ç»¿è‰²çš„æŒ‰é’®å°±ä¼šåˆ›å»ºä¸€ä¸ªé¡¹ç›®ä»“åº“äº†ã€‚</li><li>ç„¶åå°±ä¼šè·³è½¬åˆ°ä½ é¡¹ç›®çš„ä¸€ä¸ªä¸»é¡µã€‚</li></ul><p><strong>æœ¬åœ°æ²¡æœ‰é¡¹ç›®ä»£ç </strong></p><p>å¯ä»¥åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç©ºç™½çš„æ–‡ä»¶å¤¹ï¼Œç„¶åå…‹éš†åˆšåˆšåˆ›å»ºçš„é¡¹ç›®(ps: clone url åœ¨é¡¹ç›®ä¸»é¡µçš„å³ä¸‹æ–¹ä½ç½®å¯ä»¥æ‰¾åˆ°)æœ¬åœ°ï¼Œç„¶åæ·»åŠ ä»£ç å†ä¸Šä¼ ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir project</span><br><span class="line">cd project</span><br><span class="line">git clone https://github.com/githubå/é¡¹ç›®å.git</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯ git add å’Œ git push ç›¸åº”çš„æ“ä½œã€‚</p><p><strong>æœ¬åœ°å·²æœ‰é¡¹ç›®ä»£ç </strong></p><p>æœ¬åœ°å·²åˆ›å»ºäº†é¡¹ç›®,éœ€è¦æäº¤åˆ°githubä¸Š</p><ol><li>åœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶ç›®å½•å…ˆæ‰§è¡Œå‘½ä»¤<code>git init</code>ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ª git ä»“åº“ã€‚</li><li>å°†é¡¹ç›®é‡Œæ‰€æœ‰æ–‡ä»¶åŠ åˆ°æœ¬åœ°çš„ä»“åº“ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:<code>git add .</code> , <code>git commit -m &quot;æäº¤ä¿¡æ¯</code></li><li>ç„¶åå°† github ä¸Šçš„é¡¹ç›® pull ä¸‹æ¥ <code>git pull https://github.com/githubå/é¡¹ç›®å.git</code></li><li>ä¸ºç‰ˆæœ¬åº“æ·»åŠ åä¸ºoriginçš„è¿œç¨‹ç‰ˆæœ¬åº“ <code>git remote add origin https://github.com/githubå/é¡¹ç›®å.git</code></li><li>æ‰§è¡Œæ¨é€å‘½ä»¤ï¼Œå®ŒæˆGitHubç‰ˆæœ¬åº“çš„åˆå§‹åŒ–(æ³¨æ„å‘½ä»¤è¡Œä¸­çš„-uå‚æ•°ï¼Œåœ¨æ¨é€æˆåŠŸåè‡ªåŠ¨å»ºç«‹æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹ç‰ˆæœ¬åº“åˆ†æ”¯çš„è¿½è¸ª)<br><code>git push -u origin master</code></li></ol><h3 id="4-ä¿®æ”¹è¿œç¨‹åœ°å€"><a href="#4-ä¿®æ”¹è¿œç¨‹åœ°å€" class="headerlink" title="4.ä¿®æ”¹è¿œç¨‹åœ°å€"></a>4.ä¿®æ”¹è¿œç¨‹åœ°å€</h3><p> ä½¿ç”¨å‘½ä»¤ git remote -v æŸ¥çœ‹ä½ å½“å‰çš„ remote url (çº¿ä¸Šé¡¹ç›®è¿œç¨‹åœ°å€)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">origin https://github.com/githubå/é¡¹ç›®å.git (fetch)</span><br><span class="line">origin https://github.com/githubå/é¡¹ç›®å.git (push)</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å‘½ä»¤:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote set-url origin git@github.com:githubå/æ–°çš„é¡¹ç›®å.git</span><br></pre></td></tr></table></figure><p>å…ˆåˆ å†æ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$git remote rm origin</span><br><span class="line">$git remote add origin git@github.com:githubå/æ–°çš„é¡¹ç›®å.git</span><br></pre></td></tr></table></figure><h3 id="5-åˆ é™¤é¡¹ç›®"><a href="#5-åˆ é™¤é¡¹ç›®" class="headerlink" title="5.åˆ é™¤é¡¹ç›®"></a>5.åˆ é™¤é¡¹ç›®</h3><p>è¿›å…¥é¡¹ç›®è®¾ç½®,æ‹‰åˆ°æœ€å<br><img src="/image/git/github-delete.png" alt="github-delete"></p><h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><h2 id="gité‡ç½®commitæ—¶çš„æ³¨é‡Š"><a href="#gité‡ç½®commitæ—¶çš„æ³¨é‡Š" class="headerlink" title="gité‡ç½®commitæ—¶çš„æ³¨é‡Š"></a>gité‡ç½®commitæ—¶çš„æ³¨é‡Š</h2><p><a href="https://blog.csdn.net/ydk888888/article/details/80167627">åŸåœ°å€è§CSDN</a></p><p><code>æ³¨æ„:åœ¨æœªpushçš„æƒ…å†µä¸‹:</code></p><p>æ–¹æ³•ä¸€: <code>git commit --amend</code> (ä¿®æ”¹commitæäº¤å†…å®¹)</p><p>æ–¹æ³•äºŒ: <code>git reset --soft</code>  (å€’æ•°ç¬¬äºŒæ¬¡commitçš„commit_idâ€,ç„¶åé‡æ–°git commit -m â€œâ€¦.â€)</p><h2 id="å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç "><a href="#å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç " class="headerlink" title="å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç "></a>å¼ºåˆ¶è¦†ç›–æœ¬åœ°ä»£ç </h2><p><a href="https://blog.csdn.net/sinat_36184075/article/details/80115000">åŸåœ°å€è§CSDN</a></p><p><code>git fetch --all</code> (æ‹‰å–æ‰€æœ‰æ›´æ–°ï¼Œä¸åŒæ­¥)<br><code>git reset --hard origin/master</code> (æœ¬åœ°ä»£ç åŒæ­¥çº¿ä¸Šæœ€æ–°ç‰ˆæœ¬(ä¼šè¦†ç›–æœ¬åœ°æ‰€æœ‰ä¸è¿œç¨‹ä»“åº“ä¸ŠåŒåçš„æ–‡ä»¶))<br><code>git pull</code>  (å†æ›´æ–°ä¸€æ¬¡)</p><p><code>git fetch --all &amp;&amp;  git reset --hard origin/master &amp;&amp; git pull</code> å•æ¡æ‰§è¡Œ</p><p><code>git reset --hard origin/master</code> å°±è¿™ä¸€æ¡ä¹Ÿè¡Œ</p><h2 id="æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨"><a href="#æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨" class="headerlink" title="æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨"></a>æ›´æ–°è¿œç¨‹åˆ†æ”¯åˆ—è¡¨</h2><p><code>git remote update origin --prune</code></p><p>æ³¨æ„:å¦‚æœä½ çš„remote branchä¸æ˜¯åœ¨originä¸‹ï¼ŒæŒ‰ä½ å¾—æŠŠoriginæ¢æˆä½ çš„åå­—</p><h2 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h2><ul><li>é‡å‘½ågitæœ¬åœ°åˆ†æ”¯</li></ul><p><code>git branch -m è€åˆ†æ”¯ æ–°åˆ†æ”¯</code></p><ul><li>é‡å‘½ågitè¿œç¨‹åˆ†æ”¯</li></ul><p>å‰æ æ˜¯æœ¬åœ°å·²æ‹‰å–è¿œç¨‹åˆ†æ”¯</p><p><code>git push --delete origin è¿œç¨‹åˆ†æ”¯</code> (åˆ é™¤è¿œç¨‹åˆ†æ”¯,ä¹Ÿå¯ä»¥ä¸åˆ )<br><code>git branch -m è€åˆ†æ”¯ æ–°åˆ†æ”¯</code> (é‡å‘½åæœ¬åœ°åˆ†æ”¯)<br><code>git push origin æ–°åˆ†æ”¯</code> (æ¨é€æœ¬åœ°åˆ†æ”¯)</p><p>ç„¶è€Œï¼Œåœ¨ github ä¸Šæ“ä½œçš„æ—¶å€™ï¼Œæˆ‘åœ¨åˆ é™¤è¿œç¨‹åˆ†æ”¯æ—¶ç¢°åˆ°è¿™ä¸ªé”™è¯¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git push --delete origin devel</span><br><span class="line">remote: error: refusing to delete the current branch: refs/heads/devel</span><br><span class="line">To git@github.com:zrong/quick-cocos2d-x.git</span><br><span class="line"> ! [remote rejected] devel (deletion of the current branch prohibited)</span><br><span class="line">error: failed to push some refs to &#x27;git@github.com:zrong/quick-cocos2d-x.git&#x27;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç”±äºåœ¨ github ä¸­ï¼Œdevel æ˜¯é¡¹ç›®çš„é»˜è®¤åˆ†æ”¯ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¿™æ ·æ“ä½œï¼š</p><ol><li>è¿›å…¥ github ä¸­è¯¥é¡¹ç›®çš„ Settings é¡µé¢ï¼›</li><li>è®¾ç½® Default Branch ä¸ºå…¶ä»–çš„åˆ†æ”¯ï¼ˆä¾‹å¦‚ masterï¼‰ï¼›</li><li>é‡æ–°æ‰§è¡Œåˆ é™¤è¿œç¨‹åˆ†æ”¯å‘½ä»¤ã€‚</li></ol><h2 id="æ’¤é”€å’Œå›æ»šæ“ä½œ"><a href="#æ’¤é”€å’Œå›æ»šæ“ä½œ" class="headerlink" title="æ’¤é”€å’Œå›æ»šæ“ä½œ"></a>æ’¤é”€å’Œå›æ»šæ“ä½œ</h2><ul><li>æ’¤é”€ (æœª<code>git add</code>æ“ä½œ)</li></ul><p><code>git checkout fileName</code><br><code>git checkout .</code></p><h1 id="githubè®¿é—®é…ç½®"><a href="#githubè®¿é—®é…ç½®" class="headerlink" title="githubè®¿é—®é…ç½®"></a>githubè®¿é—®é…ç½®</h1><p>å½“æ— æ³•è®¿é—®githubæ—¶,å¯ä»¥è®¾ç½®hosté…ç½®<br>windowsè·¯å¾„:<code>C:\Windows\System32\drivers\etc</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># Copyright (c) 1993-2009 Microsoft Corp.</span><br><span class="line">#</span><br><span class="line"># This is a sample HOSTS file used by Microsoft TCP/IP for Windows.</span><br><span class="line">#</span><br><span class="line"># This file contains the mappings of IP addresses to host names. Each</span><br><span class="line"># entry should be kept on an individual line. The IP address should</span><br><span class="line"># be placed in the first column followed by the corresponding host name.</span><br><span class="line"># The IP address and the host name should be separated by at least one</span><br><span class="line"># space.</span><br><span class="line">#</span><br><span class="line"># Additionally, comments (such as these) may be inserted on individual</span><br><span class="line"># lines or following the machine name denoted by a &#x27;#&#x27; symbol.</span><br><span class="line">#</span><br><span class="line"># For example:</span><br><span class="line">#</span><br><span class="line">#      102.54.94.97     rhino.acme.com          # source server</span><br><span class="line">#       38.25.63.10     x.acme.com              # x client host</span><br><span class="line"></span><br><span class="line"># localhost name resolution is handled within DNS itself.</span><br><span class="line">#127.0.0.1       localhost</span><br><span class="line">#::1             localhost</span><br><span class="line"></span><br><span class="line">20.205.243.166 github.com</span><br><span class="line"></span><br><span class="line"># 140.82.114.4 github.com</span><br><span class="line"></span><br><span class="line"># 185.199.108.153 vscode-auth.github.com</span><br><span class="line"># 185.199.110.153 vscode-auth.github.com</span><br><span class="line"># 185.199.111.153 vscode-auth.github.com</span><br><span class="line"># 185.199.109.153 vscode-auth.github.com</span><br></pre></td></tr></table></figure><p>```</p>]]></content>
    
    
    <summary type="html">gitå­¦ä¹ </summary>
    
    
    
    <category term="git" scheme="https://wecy-chen.github.io/categories/git/"/>
    
    
  </entry>
  
  <entry>
    <title>Vue3.0</title>
    <link href="https://wecy-chen.github.io/2022/05/30/vue3/"/>
    <id>https://wecy-chen.github.io/2022/05/30/vue3/</id>
    <published>2022-05-30T08:03:44.323Z</published>
    <updated>2022-06-24T01:35:23.552Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Vue3.0 å­¦ä¹ </strong></p><h1 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h1><p>æ–‡æ¡£è¯´æ˜</p><ol><li> <a href="https://vue3js.cn/">å­¦ä¹ åœ°å€</a></li><li> <a href="https://24kcs.github.io/vue3_study/">å¿«é€Ÿä¸Šæ‰‹</a></li><li> <a href="https://v3.cn.vuejs.org/">vue ä¸­æ–‡å®˜ç½‘</a></li><li> <a href="https://sfc.vuejs.org/#eyJBcHAudnVlIjoiPHRlbXBsYXRlPlxuICA8aDE+e3sgbXNnIH19PC9oMT5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQgc2V0dXA+XG5jb25zdCBtc2cgPSAnSGVsbG8gV29ybGQhJ1xuPC9zY3JpcHQ+IiwiaW1wb3J0LW1hcC5qc29uIjoie1xuICBcImltcG9ydHNcIjoge1xuICAgIFwidnVlXCI6IFwiaHR0cHM6Ly9zZmMudnVlanMub3JnL3Z1ZS5ydW50aW1lLmVzbS1icm93c2VyLmpzXCJcbiAgfVxufSJ9">ä»£ç æµ‹è¯•</a></li><li> <a href="https://juejin.cn/post/6955129410705948702">Vue3 æ˜é‡‘</a></li></ol><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h2><p><a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">æ–‡æ¡£</a></p><h3 id="ä½¿ç”¨-vue-cli-åˆ›å»º"><a href="#ä½¿ç”¨-vue-cli-åˆ›å»º" class="headerlink" title="ä½¿ç”¨ vue-cli åˆ›å»º"></a>ä½¿ç”¨ vue-cli åˆ›å»º</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g @vue/cli  ## å®‰è£…æˆ–è€…å‡çº§</span><br><span class="line">$ vue --version  ## ä¿è¯ vue cli ç‰ˆæœ¬åœ¨ <span class="number">4.5</span><span class="number">.0</span> ä»¥ä¸Š  å½“å‰å®‰è£…ç‰ˆæœ¬<span class="number">5.0</span><span class="number">.4</span></span><br><span class="line">$ vue create my-project ## åˆ›å»ºé¡¹ç›®</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£…æ­¥éª¤<br>æ³¨æ„:é€‰é¡¹æ— æ³•æŒ‰ç®­å¤´é”®é€‰æ‹©æ—¶,å¯ä»¥ç”¨æ•°å­—é”®é€‰æ‹©</p></blockquote><ul><li>Use <a href="https://registry.npmmirror.com/">https://registry.npmmirror.com</a> for faster installation? Yes ä½¿ç”¨æ›´å¿«çš„ npm é•œåƒ</li><li>Target directory D:\æ¡Œé¢\github\vue-3.0 already exists. Pick an action: (Use<br>arrow keys) ** merge æ–‡ä»¶å·²å­˜åœ¨,åˆå¹¶æœ¬åœ°æ–‡ä»¶</li><li>? Please pick a preset: Default ([Vue 3] babel, eslint)**1 ä½¿ç”¨ vue3 é…ç½®é¡¹(ä¸€èˆ¬é€‰æ‹©è‡ªå®šä¹‰é…ç½®)</li><li>? Pick the package manager to use when installing dependencies: Yarn å®‰è£…</li></ul><p>åˆ›å»ºæˆåŠŸä¹‹åä¸€èˆ¬ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–åŒ…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd vue-<span class="number">3.0</span></span><br><span class="line">$ yarn serve</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-vite-åˆ›å»º"><a href="#ä½¿ç”¨-vite-åˆ›å»º" class="headerlink" title="ä½¿ç”¨ vite åˆ›å»º"></a>ä½¿ç”¨ vite åˆ›å»º</h3><p><a href="https://v3.cn.vuejs.org/guide/installation.html">æ–‡æ¡£</a></p><ul><li>vite æ˜¯ä¸€ä¸ªç”±åŸç”Ÿ ESM é©±åŠ¨çš„ Web å¼€å‘æ„å»ºå·¥å…·ã€‚åœ¨å¼€å‘ç¯å¢ƒä¸‹åŸºäºæµè§ˆå™¨åŸç”Ÿ ES imports å¼€å‘</li><li>å®ƒåšåˆ°äº†**<em>æœ¬åœ°å¿«é€Ÿå¼€å‘å¯åŠ¨</em>**, åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹åŸºäº Rollup æ‰“åŒ…</li></ul><ul><li>1.å¿«é€Ÿçš„å†·å¯åŠ¨ï¼Œä¸éœ€è¦ç­‰å¾…æ‰“åŒ…æ“ä½œï¼›</li><li>2.å³æ—¶çš„çƒ­æ¨¡å—æ›´æ–°ï¼Œæ›¿æ¢æ€§èƒ½å’Œæ¨¡å—æ•°é‡çš„è§£è€¦è®©æ›´æ–°é£èµ·</li><li>3.çœŸæ­£çš„æŒ‰éœ€ç¼–è¯‘ï¼Œä¸å†ç­‰å¾…æ•´ä¸ªåº”ç”¨ç¼–è¯‘å®Œæˆï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æ”¹å˜ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm init vite-app &lt;project-name&gt;</span><br><span class="line">$ cd &lt;project-name&gt;</span><br><span class="line">$ npm install  æˆ–è€… yarn</span><br><span class="line">$ npm run dev æˆ–è€… yarn dev</span><br></pre></td></tr></table></figure><h1 id="Composition-API"><a href="#Composition-API" class="headerlink" title="Composition API"></a>Composition API</h1><h2 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h2><ul><li>æ–°çš„ option, æ‰€æœ‰çš„ç»„åˆ API å‡½æ•°éƒ½åœ¨æ­¤ä½¿ç”¨, åªåœ¨åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡</li><li>å‡½æ•°å¦‚æœè¿”å›å¯¹è±¡, å¯¹è±¡ä¸­çš„å±æ€§æˆ–æ–¹æ³•, æ¨¡æ¿ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨</li></ul><p><code>æ³¨æ„:</code>setup ç»†èŠ‚é—®é¢˜</p><ul><li>setup æ˜¯åœ¨ beforeCreate ç”Ÿå‘½å‘¨æœŸå›è°ƒä¹‹å‰å°±æ‰§è¡Œäº†,è€Œä¸”å°±æ‰§è¡Œä¸€æ¬¡</li></ul><ul><li>1.ç”±æ­¤å¯ä»¥æ¨æ–­å‡º:setup åœ¨æ‰§è¡Œçš„æ—¶å€™,å½“å‰çš„ç»„ä»¶è¿˜æ²¡æœ‰åˆ›å»ºå‡ºæ¥,ä¹Ÿå°±æ„å‘³ç€:ç»„ä»¶å®ä¾‹å¯¹è±¡ this æ ¹æœ¬å°±ä¸èƒ½ç”¨</li><li>2.this æ˜¯ undefined,è¯´æ˜,å°±ä¸èƒ½é€šè¿‡ this å†å»è°ƒç”¨ data/computed/methods/props ä¸­çš„ç›¸å…³å†…å®¹äº†</li><li>3.å…¶å®æ‰€æœ‰çš„ composition API ç›¸å…³å›è°ƒå‡½æ•°ä¸­ä¹Ÿéƒ½ä¸å¯ä»¥</li></ul><ul><li>setup ä¸­çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡,å†…éƒ¨çš„å±æ€§å’Œæ–¹æ³•æ˜¯ç»™ html æ¨¡ç‰ˆä½¿ç”¨çš„</li><li>setup ä¸­çš„å¯¹è±¡å†…éƒ¨çš„å±æ€§å’Œ data å‡½æ•°ä¸­çš„ return å¯¹è±¡çš„å±æ€§éƒ½å¯ä»¥åœ¨ html æ¨¡ç‰ˆä¸­ä½¿ç”¨</li><li>setup ä¸­çš„å¯¹è±¡ä¸­çš„å±æ€§å’Œ data å‡½æ•°ä¸­çš„å¯¹è±¡ä¸­çš„å±æ€§ä¼šåˆå¹¶ä¸ºç»„ä»¶å¯¹è±¡çš„å±æ€§</li><li>setup ä¸­çš„å¯¹è±¡ä¸­çš„æ–¹æ³•å’Œ methods å¯¹è±¡ä¸­çš„æ–¹æ³•ä¼šåˆå¹¶ä¸ºç»„ä»¶å¯¹è±¡çš„æ–¹æ³•</li><li>åœ¨ Vue3 ä¸­å°½é‡ä¸è¦æ··åˆçš„ä½¿ç”¨ data å’Œ setup åŠ methods å’Œ setup</li><li>ä¸€èˆ¬ä¸è¦æ··åˆä½¿ç”¨: methods ä¸­å¯ä»¥è®¿é—® setup æä¾›çš„å±æ€§å’Œæ–¹æ³•, ä½†åœ¨ setup æ–¹æ³•ä¸­ä¸èƒ½è®¿é—® data å’Œ methods</li><li>setup ä¸èƒ½æ˜¯ä¸€ä¸ª async å‡½æ•°: å› ä¸ºè¿”å›å€¼ä¸å†æ˜¯ return çš„å¯¹è±¡, è€Œæ˜¯ promise, æ¨¡æ¿çœ‹ä¸åˆ° return å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®</li></ul><ul><li>setup çš„å‚æ•°<ul><li>setup(props, context) / setup(props, {attrs, slots, emit})</li><li>props: åŒ…å« props é…ç½®å£°æ˜ä¸”ä¼ å…¥äº†çš„æ‰€æœ‰å±æ€§çš„å¯¹è±¡</li><li>attrs: åŒ…å«æ²¡æœ‰åœ¨ props é…ç½®ä¸­å£°æ˜çš„å±æ€§çš„å¯¹è±¡, ç›¸å½“äº this.$attrs</li><li>slots: åŒ…å«æ‰€æœ‰ä¼ å…¥çš„æ’æ§½å†…å®¹çš„å¯¹è±¡, ç›¸å½“äº this.$slots</li><li>emit: ç”¨æ¥åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº this.$emit</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Childå­çº§ç»„ä»¶<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>msg:&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;h3&gt;count:&#123;&#123; count &#125;&#125;&lt;/h3&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;emitXxx&quot;</span>&gt;</span>åˆ†å‘äº‹ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;Child&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">props</span>: [<span class="string">&quot;msg&quot;</span>],</span></span><br><span class="line"><span class="javascript">    <span class="attr">emits</span>: [<span class="string">&quot;fn&quot;</span>], <span class="comment">// å¯é€‰çš„, å£°æ˜äº†æ›´åˆ©äºç¨‹åºå‘˜é˜…è¯», ä¸”å¯ä»¥å¯¹åˆ†å‘çš„äº‹ä»¶æ•°æ®è¿›è¡Œæ ¡éªŒ</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// beforeCreate() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(&#x27;beforeCreateæ‰§è¡Œäº†&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// ç•Œé¢æ¸²æŸ“å®Œæ¯•</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// mounted() &#123;&#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// setup(props,context) &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params">props, &#123; attrs, slots, emit &#125;</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// propså‚æ•°,æ˜¯ä¸€ä¸ªå¯¹è±¡,é‡Œé¢æœ‰çˆ¶çº§ç»„ä»¶å‘å­çº§ç»„ä»¶ä¼ é€’çš„æ•°æ®,å¹¶ä¸”æ˜¯åœ¨å­çº§ç»„ä»¶ä¸­ä½¿ç”¨propsæ¥æ”¶åˆ°çš„æ‰€æœ‰çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// åŒ…å«propsé…ç½®å£°æ˜ä¸”ä¼ å…¥äº†çš„æ‰€æœ‰å±æ€§çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(props.msg)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(context.attrs)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(context.emit)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// contextå‚æ•°,æ˜¯ä¸€ä¸ªå¯¹è±¡,é‡Œé¢æœ‰attrså¯¹è±¡(è·å–å½“å‰ç»„ä»¶æ ‡ç­¾ä¸Šçš„æ‰€æœ‰çš„å±æ€§çš„å¯¹è±¡,ä½†æ˜¯è¯¥å±æ€§æ˜¯åœ¨propsä¸­æ²¡æœ‰å£°æ˜æ¥æ”¶çš„æ‰€æœ‰çš„å°šéœ€ç»çš„å¯¹è±¡),emitæ–¹æ³•(åˆ†å‘äº‹ä»¶çš„),slotså¯¹è±¡(æ’æ§½)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// åŒ…å«æ²¡æœ‰åœ¨propsé…ç½®ä¸­å£°æ˜çš„å±æ€§çš„å¯¹è±¡, ç›¸å½“äº this.$attrs</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(context.attrs.msg2)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(&#x27;=============&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;setupæ‰§è¡Œäº†&quot;</span>, <span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> showMsg1 = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;setupä¸­çš„showMsg1æ–¹æ³•&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°</span></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">emitXxx</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// context.emit(&#x27;xxx&#x27;,&#x27;++&#x27;)</span></span></span><br><span class="line"><span class="javascript">        emit(<span class="string">&quot;fn&quot;</span>, <span class="string">&quot;++&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        showMsg1,</span></span><br><span class="line"><span class="javascript">        emitXxx,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// setupä¸­ä¸€èˆ¬éƒ½æ˜¯è¿”å›ä¸€ä¸ªå¯¹è±¡,å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•éƒ½å¯ä»¥åœ¨htmlæ¨¡ç‰ˆä¸­ç›´æ¥ä½¿ç”¨</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// data() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   return &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     count: 10,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// // ç•Œé¢æ¸²æŸ“åçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒ</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// mounted() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   console.log(this)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// // æ–¹æ³•çš„</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// methods: &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   showMsg2() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     console.log(&#x27;methodsä¸­çš„showMsgæ–¹æ³•&#x27;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;,</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;,</span></span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><ul><li>ä½œç”¨: å®šä¹‰ä¸€ä¸ªæ•°æ®çš„å“åº”å¼</li><li>è¯­æ³•: const xxx = ref(initValue):<ul><li>åˆ›å»ºä¸€ä¸ªåŒ…å«å“åº”å¼æ•°æ®çš„å¼•ç”¨(reference)å¯¹è±¡</li><li>js ä¸­æ“ä½œæ•°æ®: xxx.value</li><li>æ¨¡æ¿ä¸­æ“ä½œæ•°æ®: ä¸éœ€è¦.value</li></ul></li><li>ä¸€èˆ¬ç”¨æ¥å®šä¹‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®</li></ul><p>æ›´æ–°é¡µé¢æ•°é‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>setupå’Œrefçš„åŸºæœ¬ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateCount&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;script lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="comment">// éœ€æ±‚:é¡µé¢æ‰“å¼€åå¯ä»¥ç›´æ¥çœ‹åˆ°ä¸€ä¸ªæ•°æ®,ç‚¹å‡»æŒ‰é’®å,è¯¥æ•°æ®å¯ä»¥å‘ç”Ÿå˜åŒ–</span></span><br><span class="line">  <span class="comment">// vue2çš„æ–¹å¼å®ç°</span></span><br><span class="line">  <span class="comment">// data() &#123;</span></span><br><span class="line">  <span class="comment">//   return &#123;</span></span><br><span class="line">  <span class="comment">//     count: 0, // å±æ€§</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// methods: &#123;</span></span><br><span class="line">  <span class="comment">//   updateCount() &#123; // æ–¹æ³•</span></span><br><span class="line">  <span class="comment">//     this.count++</span></span><br><span class="line">  <span class="comment">//   &#125;,</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// vue3çš„æ–¹å¼å®ç°</span></span><br><span class="line">  <span class="comment">// setupæ˜¯ç»„åˆAPIçš„å…¥å£å‡½æ•°</span></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(&#x27;ç¬¬ä¸€æ¬¡&#x27;)</span></span><br><span class="line">    <span class="comment">// å˜é‡</span></span><br><span class="line">    <span class="comment">// let count = 0 // æ­¤æ—¶çš„æ•°æ®å¹¶ä¸æ˜¯å“åº”å¼çš„æ•°æ®(å“åº”å¼æ•°æ®:æ•°æ®å˜åŒ–,é¡µé¢è·Ÿç€æ¸²æŸ“å˜åŒ–)</span></span><br><span class="line">    <span class="comment">// refæ˜¯ä¸€ä¸ªå‡½æ•°,ä½œç”¨:å®šä¹‰ä¸€ä¸ªå“åº”å¼çš„æ•°æ®,è¿”å›çš„æ˜¯ä¸€ä¸ªRefå¯¹è±¡,å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªvalueå±æ€§,å¦‚æœéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ“ä½œ,éœ€è¦ä½¿ç”¨è¯¥Refå¯¹è±¡è°ƒç”¨valueå±æ€§çš„æ–¹å¼è¿›è¡Œæ•°æ®çš„æ“ä½œ</span></span><br><span class="line">    <span class="comment">// htmlæ¨¡ç‰ˆä¸­æ˜¯ä¸éœ€è¦ä½¿ç”¨.valueå±æ€§çš„å†™æ³•</span></span><br><span class="line">    <span class="comment">// ä¸€èˆ¬ç”¨æ¥å®šä¹‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„å“åº”å¼æ•°æ®</span></span><br><span class="line">    <span class="comment">// count çš„ç±»å‹ Refç±»å‹</span></span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(count);</span><br><span class="line">    <span class="comment">// æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">updateCount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&quot;=====&quot;</span>);</span><br><span class="line">      <span class="comment">// æŠ¥é”™çš„åŸå› :countæ˜¯ä¸€ä¸ªRefå¯¹è±¡,å¯¹è±¡æ˜¯ä¸èƒ½è¿›è¡Œ++çš„æ“ä½œ</span></span><br><span class="line">      <span class="comment">// count++</span></span><br><span class="line">      count.value++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// å±æ€§</span></span><br><span class="line">      count,</span><br><span class="line">      <span class="comment">// æ–¹æ³•</span></span><br><span class="line">      updateCount,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="reactive"><a href="#reactive" class="headerlink" title="reactive"></a>reactive</h2><ul><li>ä½œç”¨: å®šä¹‰å¤šä¸ªæ•°æ®çš„å“åº”å¼</li><li>const proxy = reactive(obj): æ¥æ”¶ä¸€ä¸ªæ™®é€šå¯¹è±¡ç„¶åè¿”å›è¯¥æ™®é€šå¯¹è±¡çš„å“åº”å¼ä»£ç†å™¨å¯¹è±¡</li><li>å“åº”å¼è½¬æ¢æ˜¯â€œæ·±å±‚çš„â€ï¼šä¼šå½±å“å¯¹è±¡å†…éƒ¨æ‰€æœ‰åµŒå¥—çš„å±æ€§</li><li>å†…éƒ¨åŸºäº ES6 çš„ Proxy å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®éƒ½æ˜¯å“åº”å¼çš„</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>reactiveçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åå­—:&#123;&#123; user.name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¹´é¾„:&#123;&#123; user.age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ€§åˆ«:&#123;&#123; user.gender &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åª³å¦‡:&#123;&#123; user.wife &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€æ±‚:æ˜¾ç¤ºç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯,ç‚¹å‡»æŒ‰é’®,å¯ä»¥æ›´æ–°ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯æ•°æ® /* reactive ä½œç”¨:</span></span><br><span class="line">å®šä¹‰å¤šä¸ªæ•°æ®çš„å“åº”å¼ <span class="keyword">const</span> proxy = reactive(obj):</span><br><span class="line">æ¥æ”¶ä¸€ä¸ªæ™®é€šå¯¹è±¡ç„¶åè¿”å›è¯¥æ™®é€šå¯¹è±¡çš„å“åº”å¼ä»£ç†å™¨å¯¹è±¡</span><br><span class="line">å“åº”å¼è½¬æ¢æ˜¯â€œæ·±å±‚çš„â€ï¼šä¼šå½±å“å¯¹è±¡å†…éƒ¨æ‰€æœ‰åµŒå¥—çš„å±æ€§ å†…éƒ¨åŸºäº ES6 çš„ <span class="built_in">Proxy</span></span><br><span class="line">å®ç°ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ */</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">import</span> &#123; defineComponent, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> obj = &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="attr">age</span>: <span class="number">20</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="attr">wife</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">name</span>: <span class="string">&quot;å°ç”œç”œ&quot;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">age</span>: <span class="number">18</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">cars</span>: [<span class="string">&quot;å¥”é©°&quot;</span>, <span class="string">&quot;å®é©¬&quot;</span>, <span class="string">&quot;å¥¥è¿ª&quot;</span>],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// æŠŠæ•°æ®å˜æˆå“åº”å¼çš„æ•°æ®</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// è¿”å›çš„æ˜¯ä¸€ä¸ªProxyçš„ä»£ç†å¯¹è±¡,è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡å°±æ˜¯objå¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// userç°åœ¨æ˜¯ä»£ç†å¯¹è±¡,objæ˜¯ç›®æ ‡å¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="comment">// userå¯¹è±¡çš„ç±»å‹æ˜¯Proxy</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> user = reactive&lt;any&gt;(obj); <span class="comment">//Proxyå¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="built_in">console</span>.log(user);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">const</span> updateUser = <span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="comment">//åªèƒ½ä½¿ç”¨ä»£ç†å¯¹è±¡çš„æ–¹å¼æ¥æ›´æ–°æ•°æ®(å“åº”å¼æ•°æ®)</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">      user.name = <span class="string">&quot;å°å·¥&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      user.wife.cars[<span class="number">3</span>] = <span class="string">&quot;å¥¥æ‹“&quot;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      updateUser,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      user,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    &#125;;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">&#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><code>å“åº”å¼çš„åŸç†</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>reactiveçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åå­—:&#123;&#123; proxyUser.name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¹´é¾„:&#123;&#123; proxyUser.age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ€§åˆ«:&#123;&#123; proxyUser.gender &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åª³å¦‡:&#123;&#123; proxyUser.wife &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//å®šä¹‰æ¥å£</span></span></span><br><span class="line"><span class="javascript">      interface User &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: string;</span></span><br><span class="line"><span class="javascript">        age: number;</span></span><br><span class="line"><span class="javascript">        wife: &#123;</span></span><br><span class="line"><span class="javascript">          name?: string;</span></span><br><span class="line"><span class="javascript">          age: number;</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">        gender?: string;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//[proppName:string]:any;</span></span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›®æ ‡å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> user: User = &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;ä½åŠ©&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">wife</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å°æ¨±&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">age</span>: <span class="number">19</span>,</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŠŠç›®æ ‡å¯¹è±¡å˜æˆä»£ç†å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å‚æ•°1:user----&gt;targetç›®æ ‡å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å‚æ•°2:handler----&gt;å¤„ç†å™¨å¯¹è±¡,ç”¨æ¥ç›‘è§†æ•°æ®,åŠæ•°æ®çš„æ“</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> proxyUser = <span class="keyword">new</span> <span class="built_in">Proxy</span>(user, &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è·å–ç›®æ ‡å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params">target, prop</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;getæ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="built_in">Reflect</span>.get(target, prop);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// ä¿®æ”¹ç›®æ ‡å¯¹è±¡çš„å±æ€§å€¼/ä¸ºç›®æ ‡å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">target, prop, val</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;setæ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, prop, val);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// åˆ é™¤ç›®æ ‡å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">deleteProperty</span>(<span class="params">target, prop</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">&quot;deleteæ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> <span class="built_in">Reflect</span>.deleteProperty(target, prop);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//é¡µé¢ä¸ä¼šæ›´æ–°å“åº”å¼æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> updateUser = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(proxyUser.name);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡ä»£ç†å¯¹è±¡æ›´æ–°ç›®æ ‡å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§å€¼</span></span></span><br><span class="line"><span class="javascript">        proxyUser.name = <span class="string">&quot;é¸£äºº&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(proxyUser);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// é€šè¿‡ä»£ç†å¯¹è±¡å‘ç›®æ ‡å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„å±æ€§</span></span></span><br><span class="line"><span class="javascript">        proxyUser.gender = <span class="string">&quot;ç”·&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(user);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">delete</span> proxyUser.gender;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// æ›´æ–°ç›®æ ‡å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§å¯¹è±¡ä¸­çš„å±æ€§å€¼</span></span></span><br><span class="line"><span class="javascript">        proxyUser.wife.name = <span class="string">&quot;é›ç”°&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(user);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        proxyUser,</span></span><br><span class="line"><span class="javascript">        updateUser,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="reactive-ä¸-ref-ç»†èŠ‚"><a href="#reactive-ä¸-ref-ç»†èŠ‚" class="headerlink" title="reactive ä¸ ref-ç»†èŠ‚"></a>reactive ä¸ ref-ç»†èŠ‚</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>reactiveå’Œrefçš„ç»†èŠ‚é—®é¢˜<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m1:&#123;&#123; m1 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m2:&#123;&#123; m2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m3:&#123;&#123; m3 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, ref, reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// æ˜¯Vue3çš„ composition APIä¸­2ä¸ªæœ€é‡è¦çš„å“åº”å¼API(refå’Œreactive)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// refç”¨æ¥å¤„ç†åŸºæœ¬ç±»å‹æ•°æ®, reactiveç”¨æ¥å¤„ç†å¯¹è±¡(é€’å½’æ·±åº¦å“åº”å¼)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// å¦‚æœç”¨refå¯¹è±¡/æ•°ç»„, å†…éƒ¨ä¼šè‡ªåŠ¨å°†å¯¹è±¡/æ•°ç»„è½¬æ¢ä¸ºreactiveçš„ä»£ç†å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// refå†…éƒ¨: é€šè¿‡ç»™valueå±æ€§æ·»åŠ getter/setteræ¥å®ç°å¯¹æ•°æ®çš„åŠ«æŒ</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// reactiveå†…éƒ¨: é€šè¿‡ä½¿ç”¨Proxyæ¥å®ç°å¯¹å¯¹è±¡å†…éƒ¨æ‰€æœ‰æ•°æ®çš„åŠ«æŒ, å¹¶é€šè¿‡Reflectæ“ä½œå¯¹è±¡å†…éƒ¨æ•°æ®</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// refçš„æ•°æ®æ“ä½œ: åœ¨jsä¸­è¦.value, åœ¨æ¨¡æ¿ä¸­ä¸éœ€è¦(å†…éƒ¨è§£ææ¨¡æ¿æ—¶ä¼šè‡ªåŠ¨æ·»åŠ .value)</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é€šè¿‡refçš„æ–¹å¼è®¾ç½®çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m1 = ref(<span class="string">&quot;abc&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m2 = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">wife</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å°çº¢&quot;</span>,</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// refä¹Ÿå¯ä»¥ä¼ å…¥å¯¹è±¡å—</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m3 = ref(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">wife</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å°çº¢&quot;</span>,</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ›´æ–°æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// refä¸­å¦‚æœæ”¾å…¥çš„æ˜¯ä¸€ä¸ªå¯¹è±¡,é‚£ä¹ˆæ˜¯ç»è¿‡äº†reactiveçš„å¤„ç†,å½¢æˆäº†ä¸€ä¸ªProxyç±»å‹çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(m3);</span></span><br><span class="line"><span class="javascript">        m1.value += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        m2.wife.name += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// m3.value.name += &#x27;===&#x27;</span></span></span><br><span class="line"><span class="javascript">        m3.value.wife.name += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(m3.value.wife);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        m1,</span></span><br><span class="line"><span class="javascript">        m2,</span></span><br><span class="line"><span class="javascript">        m3,</span></span><br><span class="line"><span class="javascript">        update,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="watch-å’Œ-watchEffect"><a href="#watch-å’Œ-watchEffect" class="headerlink" title="watch å’Œ watchEffect"></a>watch å’Œ watchEffect</h2><ul><li><p>computed å‡½æ•°:</p><ul><li>ä¸ computed é…ç½®åŠŸèƒ½ä¸€è‡´</li><li>åªæœ‰ getter</li><li>æœ‰ getter å’Œ setter</li></ul></li><li><p>watch å‡½æ•°</p><ul><li>ä¸ watch é…ç½®åŠŸèƒ½ä¸€è‡´</li><li>ç›‘è§†æŒ‡å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªå“åº”å¼æ•°æ®, ä¸€æ—¦æ•°æ®å˜åŒ–, å°±è‡ªåŠ¨æ‰§è¡Œç›‘è§†å›è°ƒ</li><li>é»˜è®¤åˆå§‹æ—¶ä¸æ‰§è¡Œå›è°ƒ, ä½†å¯ä»¥é€šè¿‡é…ç½® immediate ä¸º true, æ¥æŒ‡å®šåˆå§‹æ—¶ç«‹å³æ‰§è¡Œç¬¬ä¸€æ¬¡</li><li>é€šè¿‡é…ç½® deep ä¸º true, æ¥æŒ‡å®šæ·±åº¦ç›‘è§†</li></ul></li><li><p>watchEffect å‡½æ•°</p><ul><li>ä¸ç”¨ç›´æ¥æŒ‡å®šè¦ç›‘è§†çš„æ•°æ®, å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨çš„å“ªäº›å“åº”å¼æ•°æ®å°±ç›‘è§†å“ªäº›å“åº”å¼æ•°æ®</li><li>é»˜è®¤åˆå§‹æ—¶å°±ä¼šæ‰§è¡Œç¬¬ä¸€æ¬¡, ä»è€Œå¯ä»¥æ”¶é›†éœ€è¦ç›‘è§†çš„æ•°æ®</li><li>ç›‘è§†æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶å›è°ƒ</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è®¡ç®—å±æ€§å’Œç›‘è§†<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>å§“åæ“ä½œ<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    å§“æ°:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å§“æ°&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;user.firstName&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    åå­—:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥åå­—&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;user.lastName&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>è®¡ç®—å±æ€§å’Œç›‘è§†çš„æ¼”ç¤º<span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    å§“å1:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;æ˜¾ç¤ºå§“å1&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;fullName1&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    å§“å2:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;æ˜¾ç¤ºå§“å2&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;fullName2&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    å§“å3:<span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">placeholder</span>=<span class="string">&quot;æ˜¾ç¤ºå§“å3&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">v-model</span>=<span class="string">&quot;fullName3&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">    defineComponent,</span></span><br><span class="line"><span class="javascript">    reactive,</span></span><br><span class="line"><span class="javascript">    computed,</span></span><br><span class="line"><span class="javascript">    watch,</span></span><br><span class="line"><span class="javascript">    ref,</span></span><br><span class="line"><span class="javascript">    watchEffect,</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// å®šä¹‰ä¸€ä¸ªå“åº”å¼å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> user = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// å§“æ°</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">firstName</span>: <span class="string">&quot;ä¸œæ–¹&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// åå­—</span></span></span><br><span class="line"><span class="javascript">        <span class="attr">lastName</span>: <span class="string">&quot;ä¸è´¥&quot;</span>,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é€šè¿‡è®¡ç®—å±æ€§çš„æ–¹å¼,å®ç°ç¬¬ä¸€ä¸ªå§“åçš„æ˜¾ç¤º</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// vue3ä¸­çš„è®¡ç®—å±æ€§</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// è®¡ç®—å±æ€§çš„å‡½æ•°ä¸­å¦‚æœåªä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°,è¡¨ç¤ºçš„æ˜¯get</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç¬¬ä¸€ä¸ªå§“å:</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// è¿”å›çš„æ˜¯ä¸€ä¸ªRefç±»å‹çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fullName1 = computed(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> user.firstName + <span class="string">&quot;_&quot;</span> + user.lastName;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç¬¬äºŒä¸ªå§“å:</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fullName2 = computed(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> user.firstName + <span class="string">&quot;_&quot;</span> + user.lastName;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">val: string</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// console.log(&#x27;=====&#x27;,val)</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> names = val.split(<span class="string">&quot;_&quot;</span>);</span></span><br><span class="line"><span class="javascript">          user.firstName = names[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">          user.lastName = names[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç¬¬ä¸‰ä¸ªå§“å:</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fullName3 = ref(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†----ç›‘è§†æŒ‡å®šçš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      watch(</span></span><br><span class="line"><span class="javascript">        user,</span></span><br><span class="line"><span class="javascript">        <span class="function">(<span class="params">&#123; firstName, lastName &#125;</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          fullName3.value = firstName + <span class="string">&quot;_&quot;</span> + lastName;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        &#123; <span class="attr">immediate</span>: <span class="literal">true</span>, <span class="attr">deep</span>: <span class="literal">true</span> &#125;</span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      <span class="comment">// immediate é»˜è®¤ä¼šæ‰§è¡Œä¸€æ¬¡watch,deep æ·±åº¦ç›‘è§†</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†,ä¸éœ€è¦é…ç½®immediate,æœ¬èº«é»˜è®¤å°±ä¼šè¿›è¡Œç›‘è§†,(é»˜è®¤æ‰§è¡Œä¸€æ¬¡)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// watchEffect(() =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   fullName3.value = user.firstName + &#x27;_&#x27; + user.lastName</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†fullName3çš„æ•°æ®,æ”¹å˜firstNameå’ŒlastName</span></span></span><br><span class="line"><span class="javascript">      watchEffect(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> names = fullName3.value.split(<span class="string">&quot;_&quot;</span>);</span></span><br><span class="line"><span class="javascript">        user.firstName = names[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">        user.lastName = names[<span class="number">1</span>];</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// watch---å¯ä»¥ç›‘è§†å¤šä¸ªæ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// watch([user.firstName,user.lastName,fullName3],()=&gt;&#123;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   // è¿™é‡Œçš„ä»£ç å°±æ²¡æœ‰æ‰§è¡Œ,fullName3æ˜¯å“åº”å¼çš„æ•°æ®,ä½†æ˜¯,user.firstName,user.lastNameä¸æ˜¯å“åº”å¼çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log(&#x27;====&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å½“æˆ‘ä»¬ä½¿ç”¨watchç›‘è§†éå“åº”å¼çš„æ•°æ®çš„æ—¶å€™,ä»£ç éœ€è¦æ”¹ä¸€ä¸‹</span></span></span><br><span class="line"><span class="javascript">      watch([<span class="function">() =&gt;</span> user.firstName, <span class="function">() =&gt;</span> user.lastName, fullName3], <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿™é‡Œçš„ä»£ç å°±æ²¡æœ‰æ‰§è¡Œ,fullName3æ˜¯å“åº”å¼çš„æ•°æ®,ä½†æ˜¯,user.firstName,user.lastNameä¸æ˜¯å“åº”å¼çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;====&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        user,</span></span><br><span class="line"><span class="javascript">        fullName1,</span></span><br><span class="line"><span class="javascript">        fullName2,</span></span><br><span class="line"><span class="javascript">        fullName3,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h2><p><strong>ç”Ÿå‘½å‘¨æœŸ svg</strong></p><svg width="838" height="1388" xmlns="http://www.w3.org/2000/svg" fill="none" font-family="Inter,Roboto,sans-serif" font-size="14" text-anchor="middle">  <g transform="translate(283 63)">    <path d="M131 66v35h6l-7 14-7-14h6v-35h2z" fill="#9AA9B2"/>    <rect stroke="#2F679A" fill="#3E6B94" x="0.5" y="0.5" width="259" height="66" rx="8"/>    <text x="130" y="24.5" fill="#FFF" dominant-baseline="middle">      app = Vue.<tspan fill="#FFB196" dominant-baseline="middle">createApp</tspan>(<tspan fill="#39DD95" dominant-baseline="middle">options</tspan>)    </text>    <text x="130" y="43" fill="#FFF" dominant-baseline="middle">      app.<tspan fill="#FFB196" dominant-baseline="middle">mount</tspan>(<tspan fill="#39DD95" dominant-baseline="middle">el</tspan>)    </text>  </g>  <g transform="translate(316 178)">    <path d="M98 58v46h6l-7 14-7-14h6v-46h2z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="193" height="58" rx="8"/>    <text x="97" y="20.5" fill="#FFF" dominant-baseline="middle">Init</text>    <text x="97" y="39" fill="#FFF" dominant-baseline="middle">events &amp; lifecycle</text>  </g>  <g transform="translate(73 235)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeCreate</text>  </g>  <g transform="translate(316 296)">    <path d="M98 58v46h6l-7 14-7-14h6v-46h2z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="193" height="58" rx="8"/>    <text x="97" y="20.5" fill="#FFF" dominant-baseline="middle">Init</text>    <text x="97" y="39" fill="#FFF" dominant-baseline="middle">injections &amp; reactivity</text>  </g>  <g transform="translate(73 353)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">created</text>  </g>  <g transform="translate(317 414)">    <path d="M-45 53v52h6l-7 14-7-14h6v-54h286v54h6l-7 14-7-14h6v-52z" fill="#9AA9B2"/>    <polygon points="96,0.5 192,52 96,103.5 0,52" stroke="#F2781E" fill="#FF8228"/>    <text fill="#FFF" x="96" y="33.5" dominant-baseline="middle">Has</text>    <text fill="#FFF" x="96" y="52" dominant-baseline="middle">â€œtemplateâ€</text>    <text fill="#FFF" x="96" y="70.5" dominant-baseline="middle">option?</text>    <text fill="#8E9EA9" x="-58.5" y="66.5" text-anchor="end" dominant-baseline="middle">YES</text>    <text fill="#8E9EA9" x="250" y="66.5" text-anchor="start" dominant-baseline="middle">NO</text>  </g>  <g transform="translate(167 533)">    <path d="M103 58h2v44h282v-44h2v46h-142v54h6l-7 14l-7-14h6v-54h-142z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="207" height="58" rx="8"/>    <text fill="#FFF" x="104" y="20.5" dominant-baseline="middle">Compile template</text>    <text fill="#FFF" x="104" y="39" dominant-baseline="middle">into render function <tspan fill="#F6DA72" dominant-baseline="middle">*</tspan></text>    <g transform="translate(284 0)">      <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="207" height="58" rx="8"/>      <text fill="#FFF" x="104" y="20.5" dominant-baseline="middle">Compile elâ€™s innerHTML</text>      <text fill="#FFF" x="104" y="39" dominant-baseline="middle">as template <tspan fill="#F6DA72" dominant-baseline="middle">*</tspan></text>    </g>  </g>  <g transform="translate(73 639)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeMount</text>  </g>  <g transform="translate(316 705)">    <path d="M98 58v77h6l-7 14-7-14h6v-77h2z" fill="#9AA9B2"/>    <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="193" height="58" rx="8"/>    <text x="97" y="20.5" fill="#FFF" dominant-baseline="middle">Create app.$el and</text>    <text x="97" y="39" fill="#FFF" dominant-baseline="middle">append it to el</text>  </g>  <g transform="translate(73 777)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">mounted</text>  </g>  <g>    <g transform="translate(651.5 802.363) rotate(140 0 0)">      <path d="M14 0v14l-14-7l14-7z" fill="#DB5B62"/>      <line x1="60" y1="7" x2="15" y2="7" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    </g>    <g transform="translate(619 747)">      <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>      <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeUpdate</text>    </g>    <g transform="translate(642.5 1008.363) rotate(220 0 0)">      <path d="M14 0v14l-14-7l14-7z" fill="#DB5B62"/>      <line x1="60" y1="7" x2="15" y2="7" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    </g>    <g transform="translate(619 1003)">      <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>      <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">updated</text>    </g>    <path transform="translate(430 803)" stroke="#8999A4" stroke-width="2" stroke-dasharray="4" stroke-dashoffset="6" d="M147 16a95 95,0,1,1,-102 0"/>    <g transform="translate(539 860)">      <rect stroke="#23AC70" fill="#3AB881" x="0.5" y="0.5" width="141" height="77" rx="8"/>      <text x="71" y="20.5" fill="#FFF" dominant-baseline="middle">Virtual DOM</text>      <text x="71" y="39" fill="#FFF" dominant-baseline="middle">re-rendered</text>      <text x="71" y="57.5" fill="#FFF" dominant-baseline="middle">and patch</text>    </g>    <g transform="translate(526 803)">      <text x="0" y="0" fill="#8E9EA9" dominant-baseline="middle">when data</text>      <text x="0" y="18.5" fill="#8E9EA9" dominant-baseline="middle">changes</text>    </g>  </g>  <g transform="translate(366 854)">    <circle stroke="#DC424C" fill="#DB5860" cx="47" cy="47" r="46.5"/>    <text x="47" y="48" fill="#FFF" dominant-baseline="middle">Mounted</text>    <path stroke="#9AA9B2" stroke-width="2" stroke-dasharray="3" d="M47 96v33"/>  </g>  <g transform="translate(355 947)">    <text x="58" y="55" fill="#8E9EA9" dominant-baseline="middle">when</text>    <text x="58" y="73.5" fill="#8E9EA9" dominant-baseline="middle">app.<tspan fill="#DB5B62" dominant-baseline="middle">unmount</tspan>()</text>    <text x="56" y="92" fill="#8E9EA9" dominant-baseline="middle">is called</text>    <path stroke="#9AA9B2" stroke-width="2" stroke-dasharray="3" d="M58 107v51"/>    <path d="M51 159l7 14 7-14z" fill="#9AA9B2"/>  </g>  <g transform="translate(73 1056)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">beforeUnmount</text>  </g>  <g transform="translate(73 1150)">    <path d="M160 18v14l-14-7l14-7z" fill="#DB5B62"/>    <line x1="338" y1="25" x2="161" y2="25" stroke="#DB5B62" stroke-width="2" stroke-dasharray="3"/>    <rect stroke="#DB5B62" stroke-width="2" x="1" y="1" width="144" height="48" rx="8"/>    <text x="73" y="25.5" fill="#DB5B62" dominant-baseline="middle">unmounted</text>  </g>  <g transform="translate(359 1120)">    <circle stroke="#DC424C" fill="#DB5860" cx="54" cy="54" r="53.5"/>    <text x="54" y="55" fill="#FFF" dominant-baseline="middle">Unmounted</text>  </g>  <g transform="translate(413 1299.5)">    <text x="0" y="0" fill="#848484" dominant-baseline="middle">* Template compilation is performed ahead-of-time if using</text>    <text x="0" y="18.5" fill="#848484" dominant-baseline="middle">a build step, e.g., with single-file components.</text>  </g></svg><p><img src="/image/vue3/lifecycle.png" alt="ç”Ÿå‘½å‘¨æœŸ"></p><p><a href="https://blog.csdn.net/qq_42445025/article/details/121978510">ç”Ÿå‘½å‘¨æœŸ</a></p><p><strong>ä¸ 2.x ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸç›¸å¯¹åº”çš„ç»„åˆå¼ API</strong></p><ul><li><code>beforeCreate</code> -&gt; ä½¿ç”¨ <code>setup()</code></li><li><code>created</code> -&gt; ä½¿ç”¨ <code>setup()</code></li><li><code>beforeMount</code> -&gt; <code>onBeforeMount</code></li><li><code>mounted</code> -&gt; <code>onMounted</code></li><li><code>beforeUpdate</code> -&gt; <code>onBeforeUpdate</code></li><li><code>updated</code> -&gt; <code>onUpdated</code></li><li><code>beforeDestroy</code> -&gt; <code>onBeforeUnmount</code></li><li><code>destroyed</code> -&gt; <code>onUnmounted</code></li><li><code>errorCaptured</code> -&gt; <code>onErrorCaptured</code></li></ul><p><strong>æ–°å¢çš„é’©å­å‡½æ•°</strong></p><p>ç»„åˆå¼ API è¿˜æä¾›äº†ä»¥ä¸‹è°ƒè¯•é’©å­å‡½æ•°ï¼š</p><ul><li>onRenderTracked</li><li>onRenderTriggered</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Childå­çº§ç»„ä»¶<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h4</span>&gt;</span>msg:&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123;</span></span><br><span class="line"><span class="javascript">    defineComponent,</span></span><br><span class="line"><span class="javascript">    ref,</span></span><br><span class="line"><span class="javascript">    onBeforeMount,</span></span><br><span class="line"><span class="javascript">    onMounted,</span></span><br><span class="line"><span class="javascript">    onBeforeUpdate,</span></span><br><span class="line"><span class="javascript">    onUpdated,</span></span><br><span class="line"><span class="javascript">    onBeforeUnmount,</span></span><br><span class="line"><span class="javascript">    onUnmounted,</span></span><br><span class="line"><span class="javascript">  &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;Child&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// vue2.xä¸­çš„ç”Ÿå‘½å‘¨æœŸé’©å­</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeCreate</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeCreate...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">created</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„created...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeMount</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeMount...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„mounted...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeUpdate</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeUpdate...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">updated</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„updated...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// vue2.xä¸­çš„beforeDestroyå’Œdestroyedè¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå›è°ƒå·²ç»åœ¨vue3ä¸­æ”¹åäº†,æ‰€ä»¥,ä¸èƒ½å†ä½¿ç”¨äº†</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">beforeUnmount</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„beforeUnmount...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">unmounted</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;2.xä¸­çš„unmounted...&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„setup&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// å“åº”å¼çš„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> msg = ref(<span class="string">&quot;abc&quot;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŒ‰é’®ç‚¹å‡»äº‹ä»¶çš„å›è°ƒ</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg.value += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      onBeforeMount(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onBeforeMount&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onMounted&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onBeforeUpdate(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onBeforeUpdate&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onUpdated(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onUpdated&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onBeforeUnmount(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onBeforeUnmount&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      onUnmounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;3.0ä¸­çš„onUnmounted&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        msg,</span></span><br><span class="line"><span class="javascript">        update,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="hooks"><a href="#hooks" class="headerlink" title="hooks"></a>hooks</h2><p>è‡ªå®šä¹‰ hook å‡½æ•°</p><ul><li><p>ä½¿ç”¨ Vue3 çš„ç»„åˆ API å°è£…çš„å¯å¤ç”¨çš„åŠŸèƒ½å‡½æ•°</p></li><li><p>è‡ªå®šä¹‰ hook çš„ä½œç”¨ç±»ä¼¼äº vue2 ä¸­çš„ mixin æŠ€æœ¯</p></li><li><p>è‡ªå®šä¹‰ Hook çš„ä¼˜åŠ¿: å¾ˆæ¸…æ¥šå¤ç”¨åŠŸèƒ½ä»£ç çš„æ¥æº, æ›´æ¸…æ¥šæ˜“æ‡‚</p></li><li><p>éœ€æ±‚ 1: æ”¶é›†ç”¨æˆ·é¼ æ ‡ç‚¹å‡»çš„é¡µé¢åæ ‡</p></li></ul><ul><li>æ”¶é›†ç”¨æˆ·é¼ æ ‡ç‚¹å‡»çš„é¡µé¢åæ ‡</li></ul><p>useMousePosition.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; onBeforeUnmount, onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> x = ref(-<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">const</span> y = ref(-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç‚¹å‡»äº‹ä»¶çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">  <span class="keyword">const</span> clickHandler = <span class="function">(<span class="params">event: MouseEvent</span>) =&gt;</span> &#123;</span><br><span class="line">    x.value = event.pageX;</span><br><span class="line">    y.value = event.pageY;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// é¡µé¢å·²ç»åŠ è½½å®Œæ¯•äº†,å†è¿›è¡Œç‚¹å‡»çš„æ“ä½œ</span></span><br><span class="line">  <span class="comment">// é¡µé¢åŠ è½½å®Œæ¯•çš„ç”Ÿå‘½å‘¨æœŸç»„åˆAPI</span></span><br><span class="line">  onMounted(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">&quot;click&quot;</span>, clickHandler);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// é¡µé¢å¸è½½ä¹‹å‰çš„ç”Ÿå‘½å‘¨æœŸç»„åˆAPI</span></span><br><span class="line">  onBeforeUnmount(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.removeEventListener(<span class="string">&quot;click&quot;</span>, clickHandler);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    x,</span><br><span class="line">    y,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>é¼ æ ‡ç‚¹å‡»è·å–åæ ‡<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>x:&#123;&#123; x &#125;&#125;,y:&#123;&#123; y &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¯·æ±‚æ¥å£æ•°æ®<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-if</span>=<span class="string">&quot;loading&quot;</span>&gt;</span>æ­£åœ¨åŠ è½½ä¸­....<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-else-if</span>=<span class="string">&quot;errorMsg&quot;</span>&gt;</span>é”™è¯¯ä¿¡æ¯:&#123;&#123; errorMsg &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>id:&#123;&#123; addressData.id &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>address:&#123;&#123; addressData.address &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>distance:&#123;&#123; addressData.distance &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ•°ç»„æ•°æ®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;item in data&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>id:&#123;&#123; item.id &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>title:&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>price:&#123;&#123; item.price &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, watch &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> useMousePosition <span class="keyword">from</span> <span class="string">&quot;./useMousePosition&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> useRequest <span class="keyword">from</span> <span class="string">&quot;./useRequest&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// å®šä¹‰æ¥å£,çº¦æŸå¯¹è±¡çš„ç±»å‹</span></span></span><br><span class="line"><span class="javascript">  interface AddressData &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">id</span>: number;</span></span><br><span class="line"><span class="javascript">    address: string;</span></span><br><span class="line"><span class="javascript">    distance: string;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  interface ProductsData &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">id</span>: string;</span></span><br><span class="line"><span class="javascript">    title: string;</span></span><br><span class="line"><span class="javascript">    price: number;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">//1.é¼ æ ‡åæ ‡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; x, y &#125; = useMousePosition();</span></span><br><span class="line"><span class="javascript">      <span class="comment">//2.è‡ªå®šä¹‰æ•°æ®è·å–</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å‘é€è¯·æ±‚</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; <span class="attr">data</span>: addressData &#125; =</span></span><br><span class="line"><span class="javascript">        useRequest&lt;AddressData&gt;(<span class="string">&quot;/data/address.json&quot;</span>); <span class="comment">// è·å–å¯¹è±¡æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// æ•°ç»„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; loading, data, errorMsg &#125; = useRequest&lt;ProductsData[]&gt;(</span></span><br><span class="line"><span class="javascript">        <span class="string">&quot;/data/products.json&quot;</span></span></span><br><span class="line"><span class="javascript">      ); <span class="comment">// è·å–æ•°ç»„æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç›‘è§†</span></span></span><br><span class="line"><span class="javascript">      watch(data, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (data.value) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(data.value.length);</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        x,</span></span><br><span class="line"><span class="javascript">        y,</span></span><br><span class="line"><span class="javascript">        loading,</span></span><br><span class="line"><span class="javascript">        data,</span></span><br><span class="line"><span class="javascript">        addressData,</span></span><br><span class="line"><span class="javascript">        errorMsg,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>åˆ©ç”¨ TS æ³›å‹å¼ºåŒ–ç±»å‹æ£€æŸ¥</p></li><li><p>éœ€æ±‚ 2: å°è£…å‘ ajax è¯·æ±‚çš„ hook å‡½æ•°</p><p>useRequest.ts</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="comment">// å‘é€ajaxçš„è¯·æ±‚</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> &lt;<span class="title">T</span>&gt;(<span class="params">url: string</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// åŠ è½½çš„çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">const</span> loading = ref(<span class="literal">true</span>);</span><br><span class="line">  <span class="comment">// è¯·æ±‚æˆåŠŸçš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> data = (ref &lt; T) | (<span class="literal">null</span> &gt; <span class="literal">null</span>); <span class="comment">// å‘</span></span><br><span class="line">  <span class="comment">// é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">const</span> errorMsg = ref(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">  axios</span><br><span class="line">    .get(url)</span><br><span class="line">    .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ”¹å˜åŠ è½½çŠ¶æ€</span></span><br><span class="line">      loading.value = <span class="literal">false</span>;</span><br><span class="line">      data.value = response.data;</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// æ”¹å˜åŠ è½½çŠ¶æ€</span></span><br><span class="line">      loading.value = <span class="literal">false</span>;</span><br><span class="line">      errorMsg.value = error.message || <span class="string">&quot;æœªçŸ¥é”™è¯¯&quot;</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    loading,</span><br><span class="line">    data,</span><br><span class="line">    errorMsg,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs"></a>toRefs</h2><ul><li>æŠŠä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢æˆæ™®é€šå¯¹è±¡ï¼Œè¯¥æ™®é€šå¯¹è±¡çš„æ¯ä¸ª property éƒ½æ˜¯ä¸€ä¸ª ref</li><li>åº”ç”¨: å½“ä»åˆæˆå‡½æ•°è¿”å›å“åº”å¼å¯¹è±¡æ—¶ï¼ŒtoRefs éå¸¸æœ‰ç”¨ï¼Œè¿™æ ·æ¶ˆè´¹ç»„ä»¶å°±å¯ä»¥åœ¨ä¸ä¸¢å¤±å“åº”å¼çš„æƒ…å†µä¸‹å¯¹è¿”å›çš„å¯¹è±¡è¿›è¡Œåˆ†è§£ä½¿ç”¨</li><li>é—®é¢˜: reactive å¯¹è±¡å–å‡ºçš„æ‰€æœ‰å±æ€§å€¼éƒ½æ˜¯éå“åº”å¼çš„</li><li>è§£å†³: åˆ©ç”¨ toRefs å¯ä»¥å°†ä¸€ä¸ªå“åº”å¼ reactive å¯¹è±¡çš„æ‰€æœ‰åŸå§‹å±æ€§è½¬æ¢ä¸ºå“åº”å¼çš„ ref å±æ€§</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>toRefsçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;h3&gt;name:&#123;&#123; state.name &#125;&#125;&lt;/h3&gt;</span></span><br><span class="line"><span class="comment">  &lt;h3&gt;age:&#123;&#123; state.age &#125;&#125;&lt;/h3&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>name:&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age:&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>name2:&#123;&#123; name2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age2:&#123;&#123; age2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive, toRefs &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useFeatureX</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">name2</span>: <span class="string">&quot;è‡ªæ¥ä¹Ÿ&quot;</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">age2</span>: <span class="number">47</span>,</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      ...toRefs(state),</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;è‡ªæ¥ä¹Ÿ&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">47</span>,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// toRefså¯ä»¥æŠŠä¸€ä¸ªå“åº”å¼å¯¹è±¡è½¬æ¢æˆæ™®é€šå¯¹è±¡ï¼Œè¯¥æ™®é€šå¯¹è±¡çš„æ¯ä¸ª property éƒ½æ˜¯ä¸€ä¸ª ref</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const state2 = toRefs(state)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; name, age &#125; = toRefs(state);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(state2)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// å®šæ—¶å™¨,æ›´æ–°æ•°æ®,(å¦‚æœæ•°æ®å˜åŒ–äº†,ç•Œé¢ä¹Ÿä¼šéšä¹‹å˜åŒ–,è‚¯å®šæ˜¯å“åº”å¼çš„æ•°æ®)</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state.name += &#x27;==&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.name.value+=&#x27;===&#x27;</span></span></span><br><span class="line"><span class="javascript">        name.value += <span class="string">&quot;===&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;======&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> &#123; name2, age2 &#125; = useFeatureX();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ä¸‹é¢çš„æ–¹å¼ä¸è¡Œå•Š</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ...state // ä¸æ˜¯å“åº”å¼çš„æ•°æ®äº†----&gt;&#123;name:&#x27;è‡ªæ¥ä¹Ÿ&#x27;,age:47&#125;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// ...state2  toRefsè¿”å›æ¥çš„å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">        name,</span></span><br><span class="line"><span class="javascript">        age,</span></span><br><span class="line"><span class="javascript">        name2,</span></span><br><span class="line"><span class="javascript">        age2,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ref-è·å–å…ƒç´ "><a href="#ref-è·å–å…ƒç´ " class="headerlink" title="ref è·å–å…ƒç´ "></a>ref è·å–å…ƒç´ </h2><p>åˆ©ç”¨ ref å‡½æ•°è·å–ç»„ä»¶ä¸­çš„æ ‡ç­¾å…ƒç´ </p><p>åŠŸèƒ½éœ€æ±‚: è®©è¾“å…¥æ¡†è‡ªåŠ¨è·å–ç„¦ç‚¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>refçš„å¦ä¸€ä¸ªä½œç”¨:å¯ä»¥è·å–é¡µé¢ä¸­çš„å…ƒç´ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;inputRef&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, onMounted, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// éœ€æ±‚:å½“é¡µé¢åŠ è½½å®Œæ¯•å,é¡µé¢ä¸­çš„æ–‡æœ¬æ¡†å¯ä»¥ç›´æ¥è·å–ç„¦ç‚¹(è‡ªåŠ¨è·å–ç„¦ç‚¹)</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é»˜è®¤æ˜¯ç©ºçš„,é¡µé¢åŠ è½½å®Œæ¯•,è¯´æ˜ç»„ä»¶å·²ç»å­˜åœ¨äº†,è·å–æ–‡æœ¬æ¡†å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> inputRef = ref&lt;HTMLElement | <span class="literal">null</span>&gt;(<span class="literal">null</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// é¡µé¢åŠ è½½åçš„ç”Ÿå‘½å‘¨æœŸç»„åˆAPI</span></span></span><br><span class="line"><span class="javascript">      onMounted(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        inputRef.value &amp;&amp; inputRef.value.focus(); <span class="comment">// è‡ªåŠ¨è·å–ç„¦ç‚¹</span></span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        inputRef,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="shallowReactive-ä¸-shallowRef"><a href="#shallowReactive-ä¸-shallowRef" class="headerlink" title="shallowReactive ä¸ shallowRef"></a>shallowReactive ä¸ shallowRef</h2><ul><li><p>shallowReactive : åªå¤„ç†äº†å¯¹è±¡å†…æœ€å¤–å±‚å±æ€§çš„å“åº”å¼(ä¹Ÿå°±æ˜¯æµ…å“åº”å¼)</p></li><li><p>shallowRef: åªå¤„ç†äº† value çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„ reactive å¤„ç†</p></li><li><p>ä»€ä¹ˆæ—¶å€™ç”¨æµ…å“åº”å¼å‘¢?</p><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ ref å’Œ reactive å³å¯</li><li>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, ç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– ===&gt; shallowReactive</li><li>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, åé¢ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ ===&gt; shallowRef</li></ul></li></ul><p>shallowReactive ä¸ shallowRef<br>shallowReactive: åªå¤„ç†äº†å¯¹è±¡å†…æœ€å¤–å±‚å±æ€§çš„å“åº”å¼(ä¹Ÿå°±æ˜¯æµ…å“åº”å¼)<br>shallowRef: åªå¤„ç†äº† value çš„å“åº”å¼, ä¸è¿›è¡Œå¯¹è±¡çš„ reactive å¤„ç†<br>æ€»ç»“:<br>reactive ä¸ ref å®ç°çš„æ˜¯æ·±åº¦å“åº”å¼, è€Œ shallowReactive ä¸ shallowRef æ˜¯æµ…å“åº”å¼<br>ä»€ä¹ˆæ—¶å€™ç”¨æµ…å“åº”å¼å‘¢?<br>ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ ref å’Œ reactive å³å¯,<br>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, ç»“æ„æ¯”è¾ƒæ·±, ä½†å˜åŒ–æ—¶åªæ˜¯å¤–å±‚å±æ€§å˜åŒ– ===&gt; shallowReactive<br>å¦‚æœæœ‰ä¸€ä¸ªå¯¹è±¡æ•°æ®, åé¢ä¼šäº§ç”Ÿæ–°çš„å¯¹è±¡æ¥æ›¿æ¢ ===&gt; shallowRef</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>App<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m1: &#123;&#123;m1&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m2: &#123;&#123;m2&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m3: &#123;&#123;m3&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>m4: &#123;&#123;m4&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; reactive, ref, shallowReactive, shallowRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m1 = reactive(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">2</span> &#125; &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m2 = shallowReactive(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">2</span> &#125; &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m3 = ref(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">2</span> &#125; &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> m4 = shallowRef(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: &#123; <span class="attr">c</span>: <span class="number">2</span> &#125; &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// m1.b.c += 1</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// m2.b.c += 1</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// m3.value.a += 1</span></span></span><br><span class="line"><span class="javascript">        m4.value.a += <span class="number">1</span>; <span class="comment">//ä¸ä¼šæ›´æ–°è§†å›¾</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        m1,</span></span><br><span class="line"><span class="javascript">        m2,</span></span><br><span class="line"><span class="javascript">        m3,</span></span><br><span class="line"><span class="javascript">        m4,</span></span><br><span class="line"><span class="javascript">        update,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="readonly-ä¸-shallowReadonly"><a href="#readonly-ä¸-shallowReadonly" class="headerlink" title="readonly ä¸ shallowReadonly"></a>readonly ä¸ shallowReadonly</h2><ul><li>readonly:<ul><li>æ·±åº¦åªè¯»æ•°æ®</li><li>è·å–ä¸€ä¸ªå¯¹è±¡ (å“åº”å¼æˆ–çº¯å¯¹è±¡) æˆ– ref å¹¶è¿”å›åŸå§‹ä»£ç†çš„åªè¯»ä»£ç†ã€‚</li><li>åªè¯»ä»£ç†æ˜¯æ·±å±‚çš„ï¼šè®¿é—®çš„ä»»ä½•åµŒå¥— property ä¹Ÿæ˜¯åªè¯»çš„ã€‚</li></ul></li><li>shallowReadonly<ul><li>æµ…åªè¯»æ•°æ®</li><li>åˆ›å»ºä¸€ä¸ªä»£ç†ï¼Œä½¿å…¶è‡ªèº«çš„ property ä¸ºåªè¯»ï¼Œä½†ä¸æ‰§è¡ŒåµŒå¥—å¯¹è±¡çš„æ·±åº¦åªè¯»è½¬æ¢</li></ul></li><li>åº”ç”¨åœºæ™¯:<ul><li>åœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹, æˆ‘ä»¬å¯èƒ½ä¸å¸Œæœ›å¯¹æ•°æ®è¿›è¡Œæ›´æ–°çš„æ“ä½œ, é‚£å°±å¯ä»¥åŒ…è£…ç”Ÿæˆä¸€ä¸ªåªè¯»ä»£ç†å¯¹è±¡æ¥è¯»å–æ•°æ®, è€Œä¸èƒ½ä¿®æ”¹æˆ–åˆ é™¤</li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>readonlyå’ŒshallowReadonly<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>state:&#123;&#123; state2 &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive, readonly, shallowReadonly &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;ä½åŠ©&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">car</span>: &#123;</span></span><br><span class="line"><span class="javascript">          <span class="attr">name</span>: <span class="string">&quot;å¥”é©°&quot;</span>,</span></span><br><span class="line"><span class="javascript">          <span class="attr">color</span>: <span class="string">&quot;yellow&quot;</span>,</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// åªè¯»çš„æ•°æ®---æ·±åº¦çš„åªè¯»</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const state2 = readonly(state)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// åªè¯»çš„æ•°æ®---æµ…åªè¯»çš„</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state2 = shallowReadonly(state);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.name += &#x27;===&#x27;//ä¸èƒ½æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.car.name += &#x27;==&#x27; //ä¸èƒ½æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state2.name+=&#x27;===&#x27; // ä¸èƒ½æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">        state2.car.name += <span class="string">&quot;===&quot;</span>; <span class="comment">//å¯ä»¥æ›´æ–°è§†å›¾</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        state2,</span></span><br><span class="line"><span class="javascript">        update,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="toRaw-ä¸-markRaw"><a href="#toRaw-ä¸-markRaw" class="headerlink" title="toRaw ä¸ markRaw"></a>toRaw ä¸ markRaw</h2><ul><li>toRaw<ul><li>è¿”å›ç”± <code>reactive</code> æˆ– <code>readonly</code> æ–¹æ³•è½¬æ¢æˆå“åº”å¼ä»£ç†çš„æ™®é€šå¯¹è±¡ã€‚</li><li>è¿™æ˜¯ä¸€ä¸ªè¿˜åŸæ–¹æ³•ï¼Œå¯ç”¨äºä¸´æ—¶è¯»å–ï¼Œè®¿é—®ä¸ä¼šè¢«ä»£ç†/è·Ÿè¸ªï¼Œå†™å…¥æ—¶ä¹Ÿä¸ä¼šè§¦å‘ç•Œé¢æ›´æ–°ã€‚</li></ul></li><li>markRaw<ul><li>æ ‡è®°ä¸€ä¸ªå¯¹è±¡ï¼Œä½¿å…¶æ°¸è¿œä¸ä¼šè½¬æ¢ä¸ºä»£ç†ã€‚è¿”å›å¯¹è±¡æœ¬èº«</li><li>åº”ç”¨åœºæ™¯:<ul><li>æœ‰äº›å€¼ä¸åº”è¢«è®¾ç½®ä¸ºå“åº”å¼çš„ï¼Œä¾‹å¦‚å¤æ‚çš„ç¬¬ä¸‰æ–¹ç±»å®ä¾‹æˆ– Vue ç»„ä»¶å¯¹è±¡ã€‚</li><li>å½“æ¸²æŸ“å…·æœ‰ä¸å¯å˜æ•°æ®æºçš„å¤§åˆ—è¡¨æ—¶ï¼Œè·³è¿‡ä»£ç†è½¬æ¢å¯ä»¥æé«˜æ€§èƒ½ã€‚</li></ul></li></ul></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>toRawå’ŒmarkRaw<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>state:&#123;&#123; state &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;testToRaw&quot;</span>&gt;</span>æµ‹è¯•toRaw<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;testMarkRaw&quot;</span>&gt;</span>æµ‹è¯•markRaw<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, markRaw, reactive, toRaw &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  interface UserInfo &#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: string;</span></span><br><span class="line"><span class="javascript">    age: number;</span></span><br><span class="line"><span class="javascript">    likes?: string[];</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive&lt;UserInfo&gt;(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">name</span>: <span class="string">&quot;å°æ˜&quot;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> testToRaw = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// æŠŠä»£ç†å¯¹è±¡å˜æˆäº†æ™®é€šå¯¹è±¡äº†,æ•°æ®å˜åŒ–,ç•Œé¢ä¸å˜åŒ–</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> user = toRaw(state);</span></span><br><span class="line"><span class="javascript">        user.name += <span class="string">&quot;==&quot;</span>;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&quot;å“ˆå“ˆ,æˆ‘å¥½å¸…å“¦&quot;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> testMarkRaw = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// state.likes = [&#x27;åƒ&#x27;, &#x27;å–&#x27;]</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// state.likes[0] += &#x27;==&#x27;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(state)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> likes = [<span class="string">&quot;åƒ&quot;</span>, <span class="string">&quot;å–&quot;</span>];</span></span><br><span class="line"><span class="javascript">        <span class="comment">// markRawæ ‡è®°çš„å¯¹è±¡æ•°æ®,ä»æ­¤ä»¥åéƒ½ä¸èƒ½å†æˆä¸ºä»£ç†å¯¹è±¡äº†</span></span></span><br><span class="line"><span class="javascript">        state.likes = markRaw(likes);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//ä¸ä¼šæ›´æ–°è§†å›¾</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (state.likes) &#123;</span></span><br><span class="line"><span class="javascript">            state.likes[<span class="number">0</span>] += <span class="string">&quot;=&quot;</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&quot;å®šæ—¶å™¨èµ°èµ·æ¥&quot;</span>);</span></span><br><span class="line"><span class="javascript">          &#125;</span></span><br><span class="line"><span class="javascript">        &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        state,</span></span><br><span class="line"><span class="javascript">        testToRaw,</span></span><br><span class="line"><span class="javascript">        testMarkRaw,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="customRef"><a href="#customRef" class="headerlink" title="customRef"></a>customRef</h2><ul><li>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶</li><li>éœ€æ±‚: ä½¿ç”¨ customRef å®ç° debounce çš„ç¤ºä¾‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>CustomRefçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; keyword &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; customRef, defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// è‡ªå®šä¹‰hooké˜²æŠ–çš„å‡½æ•°</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// valueä¼ å…¥çš„æ•°æ®,å°†æ¥æ•°æ®çš„ç±»å‹ä¸ç¡®å®š,æ‰€ä»¥,ç”¨æ³›å‹,delayé˜²æŠ–çš„é—´éš”æ—¶é—´.é»˜è®¤æ˜¯200æ¯«ç§’</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useDebouncedRef</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T, delay = <span class="number">200</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å‡†å¤‡ä¸€ä¸ªå­˜å‚¨å®šæ—¶å™¨çš„idçš„å˜é‡</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> timeOutId: number | any;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> customRef(<span class="function">(<span class="params">track, trigger</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿”å›æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å‘Šè¯‰Vueè¿½è¸ªæ•°æ®</span></span></span><br><span class="line"><span class="javascript">          track();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> value;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è®¾ç½®æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">newValue: T</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// æ¸…ç†å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">clearTimeout</span>(timeOutId);</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å¼€å¯å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          timeOutId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            value = newValue;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// å‘Šè¯‰Vueæ›´æ–°ç•Œé¢</span></span></span><br><span class="line"><span class="javascript">            trigger();</span></span><br><span class="line"><span class="javascript">          &#125;, delay);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// const keyword = ref(&#x27;abc&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> keyword = useDebouncedRef(<span class="string">&quot;abc&quot;</span>, <span class="number">500</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        keyword,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="toRef-å­çˆ¶ç»„ä»¶é€šè®¯"><a href="#toRef-å­çˆ¶ç»„ä»¶é€šè®¯" class="headerlink" title="toRef(å­çˆ¶ç»„ä»¶é€šè®¯)"></a>toRef(å­çˆ¶ç»„ä»¶é€šè®¯)</h2><ul><li>ä¸ºæºå“åº”å¼å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§åˆ›å»ºä¸€ä¸ª ref å¯¹è±¡, äºŒè€…å†…éƒ¨æ“ä½œçš„æ˜¯åŒä¸€ä¸ªæ•°æ®å€¼, æ›´æ–°æ—¶äºŒè€…æ˜¯åŒæ­¥çš„</li><li>åŒºåˆ« ref: æ‹·è´äº†ä¸€ä»½æ–°çš„æ•°æ®å€¼å•ç‹¬æ“ä½œ, æ›´æ–°æ—¶ç›¸äº’ä¸å½±å“</li><li>åº”ç”¨: å½“è¦å°† æŸä¸ª prop çš„ ref ä¼ é€’ç»™å¤åˆå‡½æ•°æ—¶ï¼ŒtoRef å¾ˆæœ‰ç”¨</li></ul><blockquote><p>Child å­çº§ç»„ä»¶</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Childå­çº§ç»„ä»¶<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age:&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>length:&#123;&#123; length &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, computed, Ref, toRef &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useGetLength</span>(<span class="params">age: Ref</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> computed(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> age.value.toString().length;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;Child&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">age</span>: &#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">type</span>: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">required</span>: <span class="literal">true</span>, <span class="comment">// å¿…é¡»çš„</span></span></span><br><span class="line"><span class="javascript">      &#125;,</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params">props</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> length = useGetLength(toRef(props, <span class="string">&quot;age&quot;</span>));</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        length,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>çˆ¶ç»„ä»¶</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>toRefçš„ä½¿ç”¨åŠç‰¹ç‚¹:<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>state:&#123;&#123; state &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>age:&#123;&#123; age &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>money:&#123;&#123; money &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;update&quot;</span>&gt;</span>æ›´æ–°æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Child</span> <span class="attr">:age</span>=<span class="string">&quot;age&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; defineComponent, reactive, toRef, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&quot;./child.vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">      Child,</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> state = reactive(&#123;</span></span><br><span class="line"><span class="javascript">        <span class="attr">age</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="javascript">        <span class="attr">money</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŠŠå“åº”å¼æ•°æ®stateå¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ageå˜æˆäº†refå¯¹è±¡äº†</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> age = toRef(state, <span class="string">&quot;age&quot;</span>); <span class="comment">//å­çˆ¶ç»„ä»¶å…¬ç”¨æ•°æ®</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// æŠŠå“åº”å¼å¯¹è±¡ä¸­çš„æŸä¸ªå±æ€§ä½¿ç”¨refè¿›è¡ŒåŒ…è£…,å˜æˆäº†ä¸€ä¸ªrefå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> money = ref(state.money);</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(age)</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(money)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> update = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// æ›´æ–°æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(&#x27;æµ‹è¯•&#x27;)</span></span></span><br><span class="line"><span class="javascript">        state.age += <span class="number">2</span>; <span class="comment">//å­çˆ¶è§†å›¾æ›´æ–°</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//age.value += 3 //å­çˆ¶è§†å›¾æ›´æ–°</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//money.value += 10 //çˆ¶è§†å›¾æ›´æ–°</span></span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        state,</span></span><br><span class="line"><span class="javascript">        age,</span></span><br><span class="line"><span class="javascript">        money,</span></span><br><span class="line"><span class="javascript">        update,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="customRef-1"><a href="#customRef-1" class="headerlink" title="customRef"></a>customRef</h2><ul><li>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ refï¼Œå¹¶å¯¹å…¶ä¾èµ–é¡¹è·Ÿè¸ªå’Œæ›´æ–°è§¦å‘è¿›è¡Œæ˜¾å¼æ§åˆ¶</li><li>éœ€æ±‚: ä½¿ç”¨ customRef å®ç° debounce çš„ç¤ºä¾‹</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>CustomRefçš„ä½¿ç”¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyword&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; keyword &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; customRef, defineComponent, ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// è‡ªå®šä¹‰hooké˜²æŠ–çš„å‡½æ•°</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// valueä¼ å…¥çš„æ•°æ®,å°†æ¥æ•°æ®çš„ç±»å‹ä¸ç¡®å®š,æ‰€ä»¥,ç”¨æ³›å‹,delayé˜²æŠ–çš„é—´éš”æ—¶é—´.é»˜è®¤æ˜¯200æ¯«ç§’</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">useDebouncedRef</span>&lt;<span class="title">T</span>&gt;(<span class="params">value: T, delay = <span class="number">200</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// å‡†å¤‡ä¸€ä¸ªå­˜å‚¨å®šæ—¶å™¨çš„idçš„å˜é‡</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> timeOutId: number | any;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> customRef(<span class="function">(<span class="params">track, trigger</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è¿”å›æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">get</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å‘Šè¯‰Vueè¿½è¸ªæ•°æ®</span></span></span><br><span class="line"><span class="javascript">          track();</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> value;</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="comment">// è®¾ç½®æ•°æ®çš„</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">set</span>(<span class="params">newValue: T</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// æ¸…ç†å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">clearTimeout</span>(timeOutId);</span></span><br><span class="line"><span class="javascript">          <span class="comment">// å¼€å¯å®šæ—¶å™¨</span></span></span><br><span class="line"><span class="javascript">          timeOutId = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">            value = newValue;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// å‘Šè¯‰Vueæ›´æ–°ç•Œé¢</span></span></span><br><span class="line"><span class="javascript">            trigger();</span></span><br><span class="line"><span class="javascript">          &#125;, delay);</span></span><br><span class="line"><span class="javascript">        &#125;,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> defineComponent(&#123;</span></span><br><span class="line"><span class="javascript">    <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// const keyword = ref(&#x27;abc&#x27;)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> keyword = useDebouncedRef(<span class="string">&quot;abc&quot;</span>, <span class="number">500</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">        keyword,</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="provide-ä¸-inject"><a href="#provide-ä¸-inject" class="headerlink" title="provide ä¸ inject"></a>provide ä¸ inject</h2><ul><li><p><code>provide</code>å’Œ<code>inject</code>æä¾›ä¾èµ–æ³¨å…¥ï¼ŒåŠŸèƒ½ç±»ä¼¼ 2.x çš„<code>provide/inject</code></p></li><li><p>å®ç°è·¨å±‚çº§ç»„ä»¶(ç¥–å­™)é—´é€šä¿¡</p></li></ul><ul><li>ä»£ç ç³–</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; reactive, provide &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;parent&quot;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    childTest,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> person = reactive(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">      <span class="attr">sex</span>: <span class="string">&quot;ç”·&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// ç»™è‡ªå·±çš„åä»£ç»„ä»¶ä¼ é€’æ•°æ®</span></span><br><span class="line">    provide(<span class="string">&quot;person&quot;</span>, person);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      person,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åä»£ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯æˆ‘ä»¬æ‰€æ¥æ”¶çš„å€¼</span></span><br><span class="line">    <span class="keyword">let</span> person = inject(<span class="string">&quot;person&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      person,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="å“åº”å¼æ•°æ®çš„åˆ¤æ–­"><a href="#å“åº”å¼æ•°æ®çš„åˆ¤æ–­" class="headerlink" title="å“åº”å¼æ•°æ®çš„åˆ¤æ–­"></a>å“åº”å¼æ•°æ®çš„åˆ¤æ–­</h2><ul><li>isRef: æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª ref å¯¹è±¡</li><li>isReactive: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> åˆ›å»ºçš„å“åº”å¼ä»£ç†</li><li>isReadonly: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>readonly</code> åˆ›å»ºçš„åªè¯»ä»£ç†</li><li>isProxy: æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç”± <code>reactive</code> æˆ–è€… <code>readonly</code> æ–¹æ³•åˆ›å»ºçš„ä»£ç†</li></ul><h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><h2 id="Fragment-ç‰‡æ–­"><a href="#Fragment-ç‰‡æ–­" class="headerlink" title="Fragment(ç‰‡æ–­)"></a>Fragment(ç‰‡æ–­)</h2><ul><li>åœ¨ Vue2 ä¸­: ç»„ä»¶å¿…é¡»æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾</li><li>åœ¨ Vue3 ä¸­: ç»„ä»¶å¯ä»¥æ²¡æœ‰æ ¹æ ‡ç­¾, å†…éƒ¨ä¼šå°†å¤šä¸ªæ ‡ç­¾åŒ…å«åœ¨ä¸€ä¸ª Fragment è™šæ‹Ÿå…ƒç´ ä¸­</li><li>å¥½å¤„: å‡å°‘æ ‡ç­¾å±‚çº§, å‡å°å†…å­˜å ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>aaaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>aaaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Teleport-ç¬ç§»"><a href="#Teleport-ç¬ç§»" class="headerlink" title="Teleport(ç¬ç§»)"></a>Teleport(ç¬ç§»)</h2><ul><li>Teleport æä¾›äº†ä¸€ç§å¹²å‡€çš„æ–¹æ³•, è®©ç»„ä»¶çš„ html åœ¨çˆ¶ç»„ä»¶ç•Œé¢å¤–çš„ç‰¹å®šæ ‡ç­¾(å¾ˆå¯èƒ½æ˜¯ body)ä¸‹æ’å…¥æ˜¾ç¤º</li></ul><p>ModalButton.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;modalOpen = true&quot;</span>&gt;</span></span><br><span class="line">    Open full screen modal! (With teleport!)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">teleport</span> <span class="attr">to</span>=<span class="string">&quot;body&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;modalOpen&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        I&#x27;m a teleported modal! (My parent is &quot;body&quot;)</span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;modalOpen = false&quot;</span>&gt;</span></span><br><span class="line">          Close</span><br><span class="line">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">teleport</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;modal-button&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> modalOpen = ref(<span class="literal">false</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      modalOpen</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.modal</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">  <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.5</span>);</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">  <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="css">  <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-class">.modal</span> <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">  <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="css">  <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: white;</span></span><br><span class="line"><span class="css">  <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>App<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modal-button</span>&gt;</span><span class="tag">&lt;/<span class="name">modal-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> ModalButton <span class="keyword">from</span> <span class="string">&#x27;./ModalButton.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">    ModalButton</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Suspense-ä¸ç¡®å®šçš„"><a href="#Suspense-ä¸ç¡®å®šçš„" class="headerlink" title="Suspense(ä¸ç¡®å®šçš„)"></a>Suspense(ä¸ç¡®å®šçš„)</h2><ul><li>å®ƒä»¬å…è®¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåœ¨ç­‰å¾…å¼‚æ­¥ç»„ä»¶æ—¶æ¸²æŸ“ä¸€äº›åå¤‡å†…å®¹ï¼Œå¯ä»¥è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¹³æ»‘çš„ç”¨æˆ·ä½“éªŒ</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Suspense</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">AsyncComp</span> /&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;AsyncAddress/&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:fallback</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>LOADING...<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="javascript">å¼‚æ­¥ç»„ä»¶ + Suspenseç»„ä»¶</span></span></span><br><span class="line"><span class="comment"><span class="javascript">*/</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// import AsyncComp from &#x27;./AsyncComp.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> AsyncAddress <span class="keyword">from</span> <span class="string">&#x27;./AsyncAddress.vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> &#123; defineAsyncComponent &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> AsyncComp = defineAsyncComponent(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./AsyncComp.vue&#x27;</span>))</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="javascript">    AsyncComp,</span></span><br><span class="line"><span class="javascript">    AsyncAddress</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>AsyncComp.vue</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>AsyncComp22<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&#x27;AsyncComp&#x27;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// return new Promise((resolve, reject) =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   setTimeout(() =&gt; &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     resolve(&#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//       msg: &#x27;abc&#x27;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     &#125;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//   &#125;, 2000)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;)</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">msg</span>: <span class="string">&#x27;abc&#x27;</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>AsyncAddress.vue</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; data &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">lang</span>=<span class="string">&quot;ts&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">async</span> <span class="function"><span class="title">setup</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> result = <span class="keyword">await</span> axios.get(<span class="string">&#x27;/data/address.json&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">data</span>: result.data</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h1><blockquote><p>æ­¥éª¤</p></blockquote><ul><li><p>1.å®‰è£…<br><code>npm install vue-router@next --save</code></p></li><li><p>2.æ–°å»ºç»„ä»¶<br>åœ¨ components æ–‡ä»¶ä¸‹æ–°å»º vue é¡µé¢æ–‡ä»¶</p></li><li><p>3.åœ¨ src ç›®å½•ä¸‹æ–°å»º router.ts æ–‡ä»¶</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥vue-router</span></span><br><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Reactive <span class="keyword">from</span> <span class="string">&quot;./components/reactive.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  <span class="attr">history</span>: createWebHashHistory(),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/reactive&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: Reactive,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å¯¼å‡ºrouter</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><code>æ³¨æ„</code><br>æ‰¾ä¸åˆ°æ¨¡å—â€œxxx.vueâ€æˆ–å…¶ç›¸åº”çš„ç±»å‹å£°æ˜é—®é¢˜è§£å†³<br>åœ¨é¡¹ç›®æ ¹ç›®å½•æˆ– src æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªåç¼€ä¸º .d.ts çš„æ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š<br>åœ¨ src æ–°å»º vue.d.ts æ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">declare <span class="built_in">module</span> <span class="string">&#x27;*.vue&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; App, defineComponent &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> component: ReturnType&lt;<span class="keyword">typeof</span> defineComponent&gt; &amp; &#123;</span><br><span class="line">    install(app: App): <span class="keyword">void</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> component</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>4.åœ¨å…¥å£æ–‡ä»¶ main.ts ä¸­æŒ‚è½½ä½¿ç”¨ router</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./index.css&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>; <span class="comment">// å¼•å…¥router</span></span><br><span class="line"><span class="comment">// createApp(App).mount(&#x27;#app&#x27;)</span></span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line">app.use(router); <span class="comment">//æŒ‚è½½ä½¿ç”¨router</span></span><br><span class="line">app.mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>5.åœ¨è·Ÿç»„ä»¶ App.vue ä¸­ä½¿ç”¨è·¯ç”±</li></ul><ul><li>è§†å›¾</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>è·³è½¬</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/reative&quot;</span>&gt;</span>reative<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="å¯¼å…¥-axios-æ—¶ï¼ŒæŠ¥é”™"><a href="#å¯¼å…¥-axios-æ—¶ï¼ŒæŠ¥é”™" class="headerlink" title="å¯¼å…¥ axios æ—¶ï¼ŒæŠ¥é”™"></a>å¯¼å…¥ axios æ—¶ï¼ŒæŠ¥é”™</h2><p><span style="color:#fe2c24;">Uncaught SyntaxError: The requested module â€˜/@modules/axios/index.jsâ€™ does not provide an export named â€˜defaultâ€™</span></p><p>æ–¹æ³•ä¸€<br>å¤„ç†:ä¸‹è½½ axios çš„ä½ç½®å¿…é¡»åœ¨â€dependenciesâ€ä¸­è€Œä¸èƒ½æ˜¯ â€œdevDependenciesâ€</p><p>æ–¹æ³•äºŒ</p><ol><li>å°† vite å‡çº§åˆ°äº† vite2.x ç‰ˆæœ¬</li><li>å¯¹åº”æ’ä»¶@vitejs/plugin-vue</li></ol><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">  <span class="attr">&quot;@vue/compiler-sfc&quot;</span>: <span class="string">&quot;^3.0.4&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;@vitejs/plugin-vue&quot;</span>: <span class="string">&quot;^2.3.3&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;vite&quot;</span>: <span class="string">&quot;^1.0.0-rc.13&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’ä»¶é…ç½®<br>æ ¹ç›®å½•æ–°å»º vite.config.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vue = <span class="built_in">require</span>(<span class="string">&quot;@vitejs/plugin-vue&quot;</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [vue()],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">vue3.0å­¦ä¹ </summary>
    
    
    
    <category term="vue" scheme="https://wecy-chen.github.io/categories/vue/"/>
    
    
    <category term="vue" scheme="https://wecy-chen.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript</title>
    <link href="https://wecy-chen.github.io/2022/05/13/ts/"/>
    <id>https://wecy-chen.github.io/2022/05/13/ts/</id>
    <published>2022-05-13T02:46:31.422Z</published>
    <updated>2022-06-24T01:35:51.122Z</updated>
    
    <content type="html"><![CDATA[<!-- å›¾ç‰‡è·¯å¾„/image/ts/ --><p><strong>TypeScriptå­¦ä¹ </strong></p><h1 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h1><p>æ–‡æ¡£è¯´æ˜</p><ol><li> <a href="https://jkchao.github.io/typescript-book-chinese/typings/literals.html">å­¦ä¹ åœ°å€</a>Â Â </li><li><a href="https://24kcs.github.io/vue3_study/">å¿«é€Ÿä¸Šæ‰‹</a></li><li><a href="https://www.typescriptlang.org/zh/play?ts=4.1.0-pr-40336-8#code/C4TwDgpgBAggJnAThAziqBeKBtFxECWAdgOYA0URArgLYBGEiAugNwBQAZlUQMbAEB7IlBQRg8JKhQAKAHTyAhohIoAXLATI0ASigBvNlCgB6YyIE1oPAXGgALRhENRrRFAIA2EWR4ElpSira7AC+bKLimlLSAEQAjDEUAEzBQA">ä»£ç æµ‹è¯•</a></li><li>å®‰è£…</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;npm install -g typescriptÂ  Â å®‰è£…</span><br><span class="line">&gt;tsc -vÂ  Â  Â æŸ¥çœ‹ç‰ˆæœ¬Version <span class="number">4.6</span><span class="number">.4</span></span><br><span class="line">&gt;tsc --initÂ  ç”Ÿæˆtsconfig.jsoné…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><blockquote><p>æ–°å»ºtsæ–‡ä»¶</p></blockquote><p>src/helloworld.ts</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span> (<span class="params">person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> user = <span class="string">&#x27;Yee&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(greeter(user))</span><br></pre></td></tr></table></figure><p><code>&gt;tsc helloworld.ts</code>  ç¼–è¯‘<br><code>&gt;node helloworld.js</code> è¿è¡Œ<br><code> hello,Yee</code> æ‰“å°</p><blockquote><p>vscodeè‡ªåŠ¨ç¼–è¯‘</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>). ç”Ÿæˆé…ç½®æ–‡ä»¶tsconfig.json</span><br><span class="line">    tsc --init</span><br><span class="line"><span class="number">2</span>). ä¿®æ”¹tsconfig.jsoné…ç½®</span><br><span class="line">    <span class="string">&quot;outDir&quot;</span>: <span class="string">&quot;./js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;strict&quot;</span>: <span class="literal">false</span>,    </span><br><span class="line"><span class="number">3</span>). å¯åŠ¨ç›‘è§†ä»»åŠ¡: </span><br><span class="line">    ç»ˆç«¯ -&gt; è¿è¡Œä»»åŠ¡ -&gt; ç›‘è§†tsconfig.json</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯ä»»åŠ¡é‡ç”¨<br><img src="/image/ts/639_1.png" alt="e273c55cd0693cc35d379d5a6791b045.png"></p><p>å¦‚æœè¿˜æ˜¯å¤±è´¥,vscodeç¼–è¾‘å™¨è¦é€‰æ‹©é»˜è®¤ç»ˆç«¯</p><p>é…ç½®ä¸­æ–‡æç¤º<br>é…é€æœç´¢ typescript local è®¾ç½®æˆzh-CN</p><p><a href="https://jkchao.github.io/typescript-book-chinese/project/compilationContext.html#%E5%9F%BA%E7%A1%80">ç¼–è¯‘é€‰é¡¹</a></p><h1 id="åŸºç¡€ç±»å‹"><a href="#åŸºç¡€ç±»å‹" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h1><p>Â &gt; åŸºæœ¬è¯­æ³•<br>Â <br> <code> let å˜é‡å: æ•°æ®ç±»å‹ = å€¼</code></p><p>Â <br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> a2: number = <span class="number">0b1010</span> Â <span class="comment">// äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="comment">// ç±»å‹åŒ…æ‹¬ :</span></span><br><span class="line"> <span class="comment">// number string undefined boolean object </span></span><br><span class="line"> <span class="comment">// any  ä»»ä½•å˜é‡</span></span><br></pre></td></tr></table></figure></p><h1 id="æ•°ç»„ç±»å‹"><a href="#æ•°ç»„ç±»å‹" class="headerlink" title="æ•°ç»„ç±»å‹"></a>æ•°ç»„ç±»å‹</h1><p>è¯­æ³•:<br> <code>let å˜é‡å: æ•°æ®ç±»å‹[] = [å€¼1,å€¼2,å€¼3]</code><br>è¯­æ³•:<br> <code>let å˜é‡å: Array&lt;æ•°æ®ç±»å‹&gt; = [å€¼1,å€¼2,å€¼3]</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="keyword">let</span> arr1: number[] = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>]</span><br><span class="line"><span class="keyword">let</span> arr2: <span class="built_in">Array</span>&lt;number&gt; = [<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>]</span><br></pre></td></tr></table></figure><h1 id="æšä¸¾ç±»å‹"><a href="#æšä¸¾ç±»å‹" class="headerlink" title="æšä¸¾ç±»å‹"></a>æšä¸¾ç±»å‹</h1><p>æšä¸¾é‡Œé¢çš„æ¯ä¸ªæ•°æ®å€¼éƒ½å¯ä»¥å«å…ƒç´ ,æ¯ä¸ªå…ƒç´ éƒ½æœ‰è‡ªå·±çš„ç¼–å·,ç¼–å·æ˜¯ä»0å¼€å§‹çš„,ä¾æ¬¡çš„é€’å¢åŠ 1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Â Â enumÂ ColorÂ &#123;</span><br><span class="line">Â Â Â Â redÂ =Â <span class="number">1</span>,</span><br><span class="line">Â Â Â Â green,</span><br><span class="line">Â Â Â Â blue</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªColorçš„æšä¸¾ç±»å‹çš„å˜é‡æ¥æ¥æ”¶æšä¸¾çš„å€¼</span></span><br><span class="line">Â Â <span class="keyword">let</span>Â color:Â ColorÂ =Â Color.red</span><br><span class="line">Â Â <span class="built_in">console</span>.log(color)Â Â <span class="comment">//1Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(Color.red,Â Color.green,Â Color.blue)Â <span class="comment">//Â 1,2,3</span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(Color[<span class="number">3</span>])Â <span class="comment">//Â &quot;blue&quot;Â </span></span><br></pre></td></tr></table></figure><blockquote><p>void ç±»å‹</p></blockquote><p>åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™,å°æ‹¬å·çš„åé¢ä½¿ç”¨:void,ä»£è¡¨çš„æ˜¯è¯¥å‡½æ•°æ²¡æœ‰ä»»ä½•çš„è¿”å›å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">showMsg</span>(<span class="params"></span>):Â <span class="title">void</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(<span class="string">&#x27;ä½ å¥½&#x27;</span>)</span><br><span class="line">Â Â Â Â <span class="comment">//Â return</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â returnÂ undefined</span></span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â <span class="literal">null</span>Â <span class="comment">//æŠ¥é”™</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(showMsg())</span><br></pre></td></tr></table></figure><blockquote><p>object ç±»å‹</p></blockquote><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°,å‚æ•°æ˜¯objectç±»å‹,è¿”å›å€¼ä¹Ÿæ˜¯objectç±»å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getObj</span>(<span class="params">obj:Â object</span>):Â <span class="title">object</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="built_in">console</span>.log(obj)</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="attr">name</span>:Â <span class="string">&#x27;å¡å¡è¥¿&#x27;</span>,</span><br><span class="line">Â Â Â Â Â Â <span class="attr">age</span>:Â <span class="number">27</span></span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(getObj(<span class="built_in">String</span>))</span><br><span class="line">Â Â <span class="comment">//functionÂ String()Â &#123;Â [nativeÂ code]Â &#125;Â </span></span><br><span class="line">Â Â <span class="comment">//Â &#123;&quot;name&quot;:Â &quot;å¡å¡è¥¿&quot;,&quot;age&quot;:Â 27Â &#125;Â </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è”åˆç±»å‹ï¼Œç±»å‹æ–­è¨€ï¼Œç±»å‹æ¨æ–­</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç±»å‹æ–­è¨€(Type Assertion): å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹</span></span><br><span class="line"><span class="comment">è¯­æ³•:</span></span><br><span class="line"><span class="comment">Â  Â  æ–¹å¼ä¸€: &lt;ç±»å‹&gt;å€¼</span></span><br><span class="line"><span class="comment">Â  Â  æ–¹å¼äºŒ: å€¼ as ç±»å‹ Â tsxä¸­åªèƒ½ç”¨è¿™ç§æ–¹å¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/* éœ€æ±‚: å®šä¹‰ä¸€ä¸ªå‡½æ•°å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ•°å€¼æ•°æ®çš„é•¿åº¦ */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLength</span>(<span class="params">x: number | string</span>) </span>&#123;</span><br><span class="line">Â  <span class="keyword">if</span> ((x <span class="keyword">as</span> string).length) &#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> (x <span class="keyword">as</span> string).length</span><br><span class="line">Â  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x.toString().length</span><br><span class="line">Â  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getLength(<span class="string">&#x27;abcd&#x27;</span>), getLength(<span class="number">1234</span>))</span><br></pre></td></tr></table></figure><h1 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h1><p>æ¥å£æ˜¯å¯¹è±¡çš„çŠ¶æ€(å±æ€§)å’Œè¡Œä¸º(æ–¹æ³•)çš„æŠ½è±¡(æè¿°)<br>æ¥å£:æ˜¯ä¸€ç§ç±»å‹,æ˜¯ä¸€ç§è§„èŒƒ,æ˜¯ä¸€ç§è§„åˆ™,æ˜¯ä¸€ä¸ªèƒ½åŠ›,æ˜¯ä¸€ç§çº¦æŸ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// éœ€æ±‚: åˆ›å»ºäººçš„å¯¹è±¡, éœ€è¦å¯¹äººçš„å±æ€§è¿›è¡Œä¸€å®šçš„çº¦æŸ</span></span><br><span class="line">Â  <span class="comment">// idæ˜¯numberç±»å‹, å¿…é¡»æœ‰, åªè¯»çš„</span></span><br><span class="line">Â  <span class="comment">// nameæ˜¯stringç±»å‹, å¿…é¡»æœ‰</span></span><br><span class="line">Â  <span class="comment">// ageæ˜¯numberç±»å‹, å¿…é¡»æœ‰</span></span><br><span class="line">Â  <span class="comment">// sexæ˜¯stringç±»å‹, å¯ä»¥æ²¡æœ‰</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£,è¯¥æ¥å£ä½œä¸ºpersonå¯¹è±¡çš„ç±»å‹ä½¿ç”¨,é™å®šæˆ–è€…æ˜¯çº¦æŸè¯¥å¯¹è±¡ä¸­çš„å±æ€§æ•°æ®</span></span><br><span class="line">Â  interface IPerson &#123;</span><br><span class="line">Â  Â  <span class="comment">// readonly idæ˜¯åªè¯»çš„,æ˜¯numberç±»å‹,constä¿®é¥°å±æ€§,æƒ³è¦è®¾ç½®è¯¥å±æ€§æ˜¯åªè¯»çš„,æ˜¯ä¸èƒ½ä½¿ç”¨çš„</span></span><br><span class="line">Â  Â  readonly id: Â number</span><br><span class="line">Â  Â  <span class="attr">name</span>: string</span><br><span class="line">Â  Â  <span class="attr">age</span>: number</span><br><span class="line">Â  Â  <span class="comment">// ? å¯æœ‰å¯æ— çš„</span></span><br><span class="line">Â  Â  sex?: string</span><br><span class="line"><span class="comment">//å®šä¹‰äº†ä»»æ„å±æ€§å– string ç±»å‹çš„å€¼</span></span><br><span class="line">[proppName:string]:any;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå¯¹è±¡,è¯¥å¯¹è±¡çš„ç±»å‹å°±æ˜¯æˆ‘å®šä¹‰çš„æ¥å£IPerson</span></span><br><span class="line">Â  <span class="keyword">const</span> person: IPerson = &#123;</span><br><span class="line">Â  Â  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">Â  Â  <span class="attr">name</span>: <span class="string">&#x27;å°ç”œç”œ&#x27;</span>,</span><br><span class="line">Â  Â  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">Â  Â  <span class="comment">// sexè¿™ä¸ªå±æ€§æ²¡æœ‰ä¹Ÿæ˜¯å¯ä»¥çš„</span></span><br><span class="line">Â  Â  <span class="comment">// sex: &#x27;å¥³&#x27;</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  <span class="comment">// idå±æ€§æ­¤æ—¶æ˜¯å¯è¯»å¯å†™</span></span><br><span class="line">Â  <span class="comment">// person.id = 100</span></span><br><span class="line">Â  person.sex=<span class="string">&#x27;å¥³&#x27;</span></span><br><span class="line">Â  <span class="comment">// person.money = &#x27;123131&#x27;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br></pre></td></tr></table></figure><blockquote><p>å‡½æ•°ç±»å‹</p></blockquote><p>Â ä¸ºäº†ä½¿ç”¨æ¥å£è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¥å£å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾åã€‚</p><p>å®ƒå°±åƒæ˜¯ä¸€ä¸ªåªæœ‰å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çš„å‡½æ•°å®šä¹‰ã€‚å‚æ•°åˆ—è¡¨é‡Œçš„æ¯ä¸ªå‚æ•°éƒ½éœ€è¦åå­—å’Œç±»å‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å‡½æ•°ç±»å‹:é€šè¿‡æ¥å£çš„æ–¹å¼ä½œä¸ºå‡½æ•°çš„ç±»å‹æ¥ä½¿ç”¨</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£,ç”¨æ¥ä½œä¸ºæŸä¸ªå‡½æ•°çš„ç±»å‹ä½¿ç”¨</span></span><br><span class="line">Â  interface ISearchFunc &#123;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾å</span></span><br><span class="line">Â  Â  (source: string, <span class="attr">subString</span>: string): boolean</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°,è¯¥ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£</span></span><br><span class="line">Â  <span class="keyword">const</span> searchString: ISearchFunc = <span class="function"><span class="keyword">function</span> (<span class="params">source: string, subString: string</span>): <span class="title">boolean</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// åœ¨sourceå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾subStringè¿™ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">Â  Â  <span class="keyword">return</span> source.search(subString) &gt; -<span class="number">1</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// è°ƒç”¨å‡½æ•°</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(searchString(<span class="string">&#x27;å“ˆå“ˆ,æˆ‘åˆå˜å¸…äº†&#x27;</span>, <span class="string">&#x27;å¸…&#x27;</span>))</span><br><span class="line"><span class="comment">//&quot;Hello, Yee Huang&quot;</span></span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure><blockquote><p>ç±»ç±»å‹(çº¦æŸ) </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£</span></span><br><span class="line">Â  interface IFly &#123;</span><br><span class="line">Â  Â  <span class="comment">// è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•çš„å®ç°(æ–¹æ³•ä¸­ä»€ä¹ˆéƒ½æ²¡æœ‰)</span></span><br><span class="line">Â  Â  <span class="comment">// fly()</span></span><br><span class="line">Â  Â  <span class="attr">fly</span>:<span class="built_in">Function</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,è¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯ä¸Šé¢å®šä¹‰çš„æ¥å£(å®é™…ä¸Šä¹Ÿå¯ä»¥ç†è§£ä¸º,IFlyæ¥å£çº¦æŸäº†å½“å‰çš„è¿™ä¸ªPersonç±»)</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">implements</span> <span class="title">IFly</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å®ç°æ¥å£ä¸­çš„æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">fly</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘ä¼šé£äº†,æˆ‘æ˜¯è¶…äºº&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person = <span class="keyword">new</span> Person()</span><br><span class="line">Â  person.fly()   <span class="comment">//&quot;æˆ‘ä¼šé£äº†,æˆ‘æ˜¯è¶…äºº&quot;</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£</span></span><br><span class="line">Â  interface ISwim &#123;</span><br><span class="line">Â  Â  <span class="attr">swim</span>:<span class="built_in">Function</span></span><br><span class="line">Â  Â  <span class="comment">// swim()</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,è¿™ä¸ªç±»çš„ç±»å‹å°±æ˜¯IFlyå’ŒISwim(å½“å‰è¿™ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£,ä¸€ä¸ªç±»åŒæ—¶ä¹Ÿå¯ä»¥è¢«å¤šä¸ªæ¥å£è¿›è¡Œçº¦æŸ)</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person2</span> <span class="title">implements</span> <span class="title">IFly</span>, <span class="title">ISwim</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="function"><span class="title">fly</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘é£äº†2&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">swim</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘ä¼šæ¸¸æ³³å•¦2&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person2 = <span class="keyword">new</span> Person2()</span><br><span class="line">Â  person2.fly()  <span class="comment">//&quot;æˆ‘é£äº†2&quot;</span></span><br><span class="line">Â  person2.swim()   <span class="comment">//&quot;æˆ‘ä¼šæ¸¸æ³³å•¦2&quot;</span></span><br><span class="line">Â  <span class="comment">// æ€»ç»“: ç±»å¯ä»¥é€šè¿‡æ¥å£çš„æ–¹å¼,æ¥å®šä¹‰å½“å‰è¿™ä¸ªç±»çš„ç±»å‹</span></span><br><span class="line">Â  <span class="comment">// ç±»å¯ä»¥å®ç°ä¸€ä¸ªæ¥å£,ç±»ä¹Ÿå¯ä»¥å®ç°å¤šä¸ªæ¥å£,è¦æ³¨æ„,æ¥å£ä¸­çš„å†…å®¹éƒ½è¦çœŸæ­£çš„å®ç°</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰äº†ä¸€ä¸ªæ¥å£,ç»§æ‰¿å…¶ä»–çš„å¤šä¸ªæ¥å£</span></span><br><span class="line">Â  interface IMyFlyAndSwim <span class="keyword">extends</span> IFly, ISwim &#123; &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,ç›´æ¥å®ç°IMyFlyAndSwimè¿™ä¸ªæ¥å£</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person3</span> <span class="title">implements</span> <span class="title">IMyFlyAndSwim</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="function"><span class="title">fly</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘é£äº†3&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">swim</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘ä¼šæ¸¸æ³³å•¦3&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="keyword">const</span> person3 = <span class="keyword">new</span> Person3()</span><br><span class="line">Â  person3.fly()   <span class="comment">//&quot;æˆ‘é£äº†3&quot;</span></span><br><span class="line">Â  person3.swim()   <span class="comment">//æˆ‘ä¼šæ¸¸æ³³å•¦3</span></span><br><span class="line">  </span><br><span class="line">Â  <span class="comment">// æ€»ç»“:æ¥å£å’Œæ¥å£ä¹‹é—´å«ç»§æ‰¿(ä½¿ç”¨çš„æ˜¯extendså…³é”®å­—),ç±»å’Œæ¥å£ä¹‹é—´å«å®ç°(ä½¿ç”¨çš„æ˜¯implements)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h1><p>å»ºä¸€ä¸ªÂ UserÂ ç±»ï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€äº›å…¬å…±å­—æ®µã€‚å› ä¸ºç±»çš„å­—æ®µåŒ…å«äº†æ¥å£æ‰€éœ€è¦çš„å­—æ®µï¼Œæ‰€ä»¥ä»–ä»¬èƒ½å¾ˆå¥½çš„å…¼å®¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ç±»:å¯ä»¥ç†è§£ä¸ºæ¨¡ç‰ˆ,é€šè¿‡æ¨¡ç‰ˆå¯ä»¥å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="comment">// é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ€æƒ³</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="attr">fullName</span>: string</span><br><span class="line">  <span class="attr">firstName</span>: string</span><br><span class="line">  <span class="attr">lastName</span>: string</span><br><span class="line"></span><br><span class="line">  <span class="title">constructor</span> (<span class="params">firstName: string, lastName: string</span>) &#123;</span><br><span class="line">    <span class="built_in">this</span>.firstName = firstName</span><br><span class="line">    <span class="built_in">this</span>.lastName = lastName</span><br><span class="line">    <span class="built_in">this</span>.fullName = firstName + <span class="string">&#x27; &#x27;</span> + lastName</span><br><span class="line">  &#125;&#125;</span><br><span class="line"></span><br><span class="line">interface Person &#123;</span><br><span class="line">  <span class="attr">firstName</span>: string</span><br><span class="line">  <span class="attr">lastName</span>: string&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span> (<span class="params">person: Person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + person.firstName + <span class="string">&#x27; &#x27;</span> + person.lastName</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User(<span class="string">&#x27;Yee&#x27;</span>, <span class="string">&#x27;Huang&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(greeter(user)) <span class="comment">//&quot;Hello, Yee Huang&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>ç»§æ‰¿</p></blockquote><p> ç»§æ‰¿:ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»<br> ç»§æ‰¿åç±»ä¸ç±»ä¹‹é—´çš„å«æ³•:<br>Aç±»ç»§æ‰¿äº†Bè¿™ä¸ªç±»,é‚£ä¹ˆæ­¤æ—¶Aç±»å«å­ç±»,Bç±»å«åŸºç±»<br> å­ç±»â€”-&gt;æ´¾ç”Ÿç±»<br>åŸºç±»â€”-&gt;è¶…ç±»(çˆ¶ç±»)<br>ä¸€æ—¦å‘ç”Ÿäº†ç»§æ‰¿çš„å…³ç³»,å°±å‡ºç°äº†çˆ¶å­ç±»çš„å…³ç³»(å«æ³•)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,ä½œä¸ºåŸºç±»(è¶…ç±»/çˆ¶ç±»)</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰å±æ€§</span></span><br><span class="line">Â  Â  <span class="attr">name</span>: string <span class="comment">// åå­—</span></span><br><span class="line">Â  Â  <span class="attr">age</span>: number <span class="comment">// å¹´é¾„</span></span><br><span class="line">Â  Â  <span class="attr">gender</span>: string <span class="comment">// æ€§åˆ«</span></span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string=<span class="string">&#x27;å°æ˜&#x27;</span>, age: number=<span class="number">18</span>, gender: string=<span class="string">&#x27;ç”·&#x27;</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ›´æ–°å±æ€§æ•°æ®</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.age = age</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.gender = gender</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params">str: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`æˆ‘æ˜¯:<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>,<span class="subst">$&#123;str&#125;</span>`</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»,ç»§æ‰¿è‡ªPerson</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string, age: number, gender: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°,ä½¿ç”¨çš„æ˜¯super</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name, age, gender)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å¯ä»¥è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘æ˜¯å­¦ç”Ÿç±»ä¸­çš„sayHiæ–¹æ³•&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çˆ¶ç±»ä¸­çš„sayHiæ–¹æ³•</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>.sayHi(<span class="string">&#x27;å“ˆå“ˆ&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–Person</span></span><br><span class="line">Â  <span class="keyword">const</span> person = <span class="keyword">new</span> Person(<span class="string">&#x27;å¤§æ˜æ˜&#x27;</span>,<span class="number">89</span>,<span class="string">&#x27;ç”·&#x27;</span>)</span><br><span class="line">Â  person.sayHi(<span class="string">&#x27;å˜å˜&#x27;</span>)</span><br><span class="line">Â  <span class="comment">//æ‰“å°: &quot;æˆ‘æ˜¯:å¤§æ˜æ˜,å˜å˜&quot;</span></span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–Student</span></span><br><span class="line">Â  <span class="keyword">const</span> stu = <span class="keyword">new</span> Student(<span class="string">&#x27;å°ç”œç”œ&#x27;</span>,<span class="number">16</span>,<span class="string">&#x27;å¥³&#x27;</span>)</span><br><span class="line">Â  stu.sayHi()</span><br><span class="line">Â  <span class="comment">//æ‰“å°: &quot;æˆ‘æ˜¯å­¦ç”Ÿç±»ä¸­çš„sayHiæ–¹æ³•&quot;</span></span><br><span class="line">Â  <span class="comment">//æ‰“å°: &quot;æˆ‘æ˜¯:å°ç”œç”œ,å“ˆå“ˆ&quot;</span></span><br><span class="line">Â  <span class="comment">// æ€»ç»“:ç±»å’Œç±»ä¹‹é—´å¦‚æœè¦æœ‰ç»§æ‰¿å…³ç³»,éœ€è¦ä½¿ç”¨extendså…³é”®å­—</span></span><br><span class="line">Â  <span class="comment">// å­ç±»ä¸­å¯ä»¥è°ƒç”¨çˆ¶ç±»ä¸­çš„æ„é€ å‡½æ•°,ä½¿ç”¨çš„æ˜¯superå…³é”®å­—(åŒ…æ‹¬è°ƒç”¨çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•,ä¹Ÿå¯ä»¥ä½¿ç”¨super)</span></span><br><span class="line">Â  <span class="comment">// å­ç±»ä¸­å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å¤šæ€</p></blockquote><p>å¤šæ€:çˆ¶ç±»å‹çš„å¼•ç”¨æŒ‡å‘äº†å­ç±»å‹çš„å¯¹è±¡,ä¸åŒç±»å‹çš„å¯¹è±¡é’ˆå¯¹ç›¸åŒçš„æ–¹æ³•,äº§ç”Ÿäº†ä¸åŒçš„è¡Œä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="comment">// å®šä¹‰ä¸€ä¸ªçˆ¶ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå±æ€§</span></span><br><span class="line">Â  Â  <span class="attr">name</span>: string</span><br><span class="line">Â  Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ›´æ–°å±æ€§å€¼</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">run</span>(<span class="params">distance: number = <span class="number">0</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`è·‘äº†<span class="subst">$&#123;distance&#125;</span> ç±³è¿™ä¹ˆè¿œçš„è·ç¦»`</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°,å®ç°å­ç±»ä¸­å±æ€§çš„åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•,é‡å†™çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">run</span>(<span class="params">distance: number = <span class="number">5</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`è·‘äº†<span class="subst">$&#123;distance&#125;</span> ç±³è¿™ä¹ˆè¿œçš„è·ç¦»`</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Pig</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°,å®ç°å­ç±»ä¸­å±æ€§çš„åˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•,é‡å†™çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">run</span>(<span class="params">distance: number = <span class="number">10</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">`è·‘äº†<span class="subst">$&#123;distance&#125;</span> ç±³è¿™ä¹ˆè¿œçš„è·ç¦»`</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–çˆ¶ç±»å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> ani: Animal = <span class="keyword">new</span> Animal(<span class="string">&#x27;åŠ¨ç‰©&#x27;</span>)</span><br><span class="line">Â  ani.run() <span class="comment">//&quot;è·‘äº†0 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;åŠ¨ç‰©&quot;</span></span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å­ç±»å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> dog: Dog = <span class="keyword">new</span> Dog(<span class="string">&#x27;å¤§é»„&#x27;</span>)</span><br><span class="line">Â  dog.run() <span class="comment">//&quot;è·‘äº†5 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å¤§é»„&quot;</span></span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å­ç±»å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> pig: Pig = <span class="keyword">new</span> Pig(<span class="string">&#x27;å…«æˆ’&#x27;</span>)</span><br><span class="line">Â  pig.run() <span class="comment">//&quot;è·‘äº†10 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å…«æˆ’&quot;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(<span class="string">&#x27;===========&#x27;</span>)</span><br><span class="line">Â  <span class="comment">// çˆ¶ç±»å’Œå­ç±»çš„å…³ç³»:çˆ¶å­å…³ç³»,æ­¤æ—¶,çˆ¶ç±»ç±»å‹åˆ›å»ºå­ç±»çš„å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> dog1: Animal = <span class="keyword">new</span> Dog(<span class="string">&#x27;å°é»„&#x27;</span>)</span><br><span class="line">Â  dog1.run() <span class="comment">// &quot;è·‘äº†5 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°é»„&quot; Â </span></span><br><span class="line">Â  <span class="keyword">const</span> pig1: Animal = <span class="keyword">new</span> Pig(<span class="string">&#x27;å°çŒª&#x27;</span>)</span><br><span class="line">Â  pig1.run() <span class="comment">// Â &quot;è·‘äº†10 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°çŒª&quot;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(<span class="string">&#x27;=============&#x27;</span>)</span><br><span class="line">Â  <span class="comment">// è¯¥å‡½æ•°éœ€è¦çš„å‚æ•°æ˜¯Animalç±»å‹çš„</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">showRun</span>(<span class="params">ani: Animal</span>) </span>&#123;</span><br><span class="line">Â  Â  ani.run()</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  showRun(dog1) <span class="comment">//&quot;è·‘äº†5 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°é»„&quot;</span></span><br><span class="line">Â  showRun(pig1) <span class="comment">//&quot;è·‘äº†10 ç±³è¿™ä¹ˆè¿œçš„è·ç¦»&quot;, Â &quot;å°çŒª&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>ä¿®é¥°ç¬¦</p></blockquote><p>ä¿®é¥°ç¬¦(ç±»ä¸­çš„æˆå‘˜çš„ä¿®é¥°ç¬¦):ä¸»è¦æ˜¯æè¿°ç±»ä¸­çš„æˆå‘˜(å±æ€§,æ„é€ å‡½æ•°,æ–¹æ³•)çš„å¯è®¿é—®æ€§<br>ç±»ä¸­çš„æˆå‘˜éƒ½æœ‰è‡ªå·±çš„é»˜è®¤çš„è®¿é—®ä¿®é¥°ç¬¦,public<br>publicä¿®é¥°ç¬¦â€”å…¬å…±çš„,ç±»ä¸­æˆå‘˜é»˜è®¤çš„ä¿®é¥°ç¬¦,ä»£è¡¨çš„æ˜¯å…¬å…±çš„,ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®ç±»ä¸­çš„æˆå‘˜<br>privateä¿®é¥°ç¬¦â€”ç§æœ‰çš„,ç±»ä¸­çš„æˆå‘˜å¦‚æœä½¿ç”¨privateæ¥ä¿®é¥°,é‚£ä¹ˆå¤–éƒ¨æ˜¯æ— æ³•è®¿é—®è¿™ä¸ªæˆå‘˜æ•°æ®çš„,å½“ç„¶,å­ç±»ä¸­ä¹Ÿæ˜¯æ— æ³•è®¿é—®è¯¥æˆå‘˜æ•°æ®çš„<br>protectedä¿®é¥°ç¬¦â€”-å—ä¿æŠ¤çš„,ç±»ä¸­çš„æˆå‘˜å¦‚æœä½¿ç”¨protectedæ¥ä¿®é¥°,é‚£ä¹ˆå¤–éƒ¨æ˜¯æ— æ³•è®¿é—®è¿™ä¸ªæˆå‘˜æ•°æ®çš„,å½“ç„¶,å­ç±»ä¸­æ˜¯å¯ä»¥è®¿é—®è¯¥æˆå‘˜æ•°æ®çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å±æ€§ public ä¿®é¥°äº†å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  <span class="comment">// public name: string</span></span><br><span class="line">Â  Â  <span class="comment">// å±æ€§ private ä¿®é¥°äº†å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  <span class="comment">// private name: string</span></span><br><span class="line">Â  Â  <span class="comment">// å±æ€§protected ä¿®é¥°äº†å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  protected name:string</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  public <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ›´æ–°å±æ€§</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// æ–¹æ³•</span></span><br><span class="line">Â  Â  public <span class="function"><span class="title">eat</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;å—¯,è¿™ä¸ªéª¨å¤´çœŸå¥½åƒ&#x27;</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">super</span>(name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">play</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æˆ‘å°±å–œæ¬¢ç©å¸ƒå¨ƒå¨ƒ&#x27;</span>,<span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> per = <span class="keyword">new</span> Person(<span class="string">&#x27;å¤§è›‡ä¸¸&#x27;</span>)</span><br><span class="line">Â  <span class="comment">// ç±»çš„å¤–éƒ¨å¯ä»¥è®¿é—®ç±»ä¸­çš„å±æ€§æˆå‘˜</span></span><br><span class="line">Â  <span class="comment">// console.log(per.name)</span></span><br><span class="line">Â  per.eat() Â <span class="comment">//&quot;å—¯,è¿™ä¸ªéª¨å¤´çœŸå¥½åƒ&quot;, Â &quot;å¤§è›‡ä¸¸&quot;</span></span><br><span class="line">Â  <span class="keyword">const</span> stu = <span class="keyword">new</span> Student(<span class="string">&#x27;çº¢è±†&#x27;</span>)</span><br><span class="line">Â  stu.play() <span class="comment">//&quot;æˆ‘å°±å–œæ¬¢ç©å¸ƒå¨ƒå¨ƒ&quot;, Â &quot;çº¢è±†&quot;</span></span><br><span class="line">Â  <span class="comment">// console.log(stu.name)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>readonlyä¿®é¥°ç¬¦</p></blockquote><p>readonlyä¿®é¥°ç¬¦:é¦–å…ˆæ˜¯ä¸€ä¸ªå…³é”®å­—,å¯¹ç±»ä¸­çš„å±æ€§æˆå‘˜è¿›è¡Œä¿®é¥°,ä¿®é¥°å,è¯¥å±æ€§æˆå‘˜,å°±ä¸èƒ½åœ¨å¤–éƒ¨è¢«éšæ„çš„ä¿®æ”¹äº†<br>æ„é€ å‡½æ•°ä¸­,å¯ä»¥å¯¹åªè¯»çš„å±æ€§æˆå‘˜çš„æ•°æ®è¿›è¡Œä¿®æ”¹<br>å¦‚æœæ„é€ å‡½æ•°ä¸­æ²¡æœ‰ä»»ä½•çš„å‚æ•°,ç±»ä¸­çš„å±æ€§æˆå‘˜æ­¤æ—¶å·²ç»ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°äº†,é‚£ä¹ˆå¤–éƒ¨ä¹Ÿæ˜¯ä¸èƒ½å¯¹è¿™ä¸ªå±æ€§å€¼è¿›è¡Œæ›´æ”¹çš„<br>æ„é€ å‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°,ä¸€æ—¦ä¿®é¥°äº†,é‚£ä¹ˆè¯¥ç±»ä¸­å°±æœ‰äº†è¿™ä¸ªåªè¯»çš„æˆå‘˜å±æ€§äº†,å¤–éƒ¨å¯ä»¥è®¿é—®,ä½†æ˜¯ä¸èƒ½ä¿®æ”¹<br>æ„é€ å‡½æ•°ä¸­çš„å‚æ•°å¯ä»¥ä½¿ç”¨publicåŠprivteå’Œprotectedè¿›è¡Œä¿®é¥°,æ— è®ºæ˜¯å“ªä¸ªè¿›è¡Œä¿®é¥°,è¯¥ç±»ä¸­éƒ½ä¼šè‡ªåŠ¨çš„æ·»åŠ è¿™ä¹ˆä¸€ä¸ªå±æ€§æˆå‘˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// readonlyä¿®é¥°ç±»ä¸­çš„æˆå‘˜å±æ€§æ“ä½œ</span></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»å‹</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// å±æ€§</span></span><br><span class="line">Â  Â  <span class="comment">// readonly name: string=&#x27;å¤§ç”œç”œ&#x27; // åˆå§‹å€¼</span></span><br><span class="line">Â  Â  readonly name: string</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">name: string = <span class="string">&#x27;å¤§ç”œç”œ&#x27;</span></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;è€ƒå°¼å¥‡ç“¦&#x27;</span>, <span class="built_in">this</span>.name)</span><br><span class="line">Â  Â  Â  <span class="comment">// ç±»ä¸­çš„æ™®é€šæ–¹æ³•ä¸­,ä¹Ÿæ˜¯ä¸èƒ½ä¿®æ”¹readonlyä¿®é¥°çš„æˆå‘˜å±æ€§å€¼</span></span><br><span class="line">Â  Â  Â  <span class="comment">// this.name = &#x27;å¤§ç”œç”œ&#x27;</span></span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person: Person = <span class="keyword">new</span> Person(<span class="string">&#x27;å°ç”œç”œ&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person.name) <span class="comment">//å°ç”œç”œ</span></span><br><span class="line">Â <span class="comment">// æ­¤æ—¶æ— æ³•ä¿®æ”¹,å› ä¸ºnameå±æ€§æ˜¯åªè¯»çš„</span></span><br><span class="line">Â  person.name = <span class="string">&#x27;å¤§ç”œç”œ&#x27;</span> <span class="comment">//æŠ¥é”™</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.name)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»å‹</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆè¯¥nameå‚æ•°å¯ä»¥å«å‚æ•°å±æ€§</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonä¸­å°±æœ‰äº†ä¸€ä¸ªnameçš„å±æ€§æˆå‘˜</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨readonlyè¿›è¡Œä¿®é¥°å,å¤–éƒ¨ä¹Ÿæ˜¯æ— æ³•ä¿®æ”¹ç±»ä¸­çš„nameå±æ€§æˆå‘˜å€¼çš„</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">readonly name: string = <span class="string">&#x27;å¤§ç”œç”œ&#x27;</span></span>)</span> &#123; <span class="comment">//public private protected</span></span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.name = name</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨publicè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonç±»ä¸­å°±æœ‰äº†ä¸€ä¸ªå…¬å…±çš„nameå±æ€§æˆå‘˜äº†</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨privateè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonç±»ä¸­å°±æœ‰äº†ä¸€ä¸ªç§æœ‰çš„nameå±æ€§æˆå‘˜äº†</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°ä¸­çš„nameå‚æ•°,ä¸€æ—¦ä½¿ç”¨protectedè¿›è¡Œä¿®é¥°å,é‚£ä¹ˆPersonç±»ä¸­å°±æœ‰äº†ä¸€ä¸ªå—ä¿æŠ¤çš„nameå±æ€§æˆå‘˜äº†(åªèƒ½åœ¨æœ¬ç±»å’Œæ´¾ç”Ÿç±»ä¸­è®¿é—®åŠä½¿ç”¨)</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person: Person = <span class="keyword">new</span> Person(<span class="string">&#x27;å°ç”œç”œ&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  person.name = <span class="string">&#x27;ä½åŠ©&#x27;</span> <span class="comment">//æŠ¥é”™</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å­˜å‚¨å™¨</p></blockquote><p>å­˜å–å™¨:è®©æˆ‘ä»¬å¯ä»¥æœ‰æ•ˆçš„æ§åˆ¶å¯¹ å¯¹è±¡ä¸­çš„æˆå‘˜çš„è®¿é—®,é€šè¿‡getterså’Œsettersæ¥è¿›è¡Œæ“ä½œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¤–éƒ¨å¯ä»¥ä¼ å…¥å§“æ°å’Œåå­—æ•°æ®,åŒæ—¶ä½¿ç”¨setå’Œgetæ§åˆ¶å§“åçš„æ•°æ®,å¤–éƒ¨ä¹Ÿå¯ä»¥è¿›è¡Œä¿®æ”¹æ“ä½œ</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="attr">firstName</span>: string <span class="comment">// å§“æ°</span></span><br><span class="line">Â  Â  <span class="attr">lastName</span>: string <span class="comment">// åå­—</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params">firstName: string, lastName: string</span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.firstName = firstName</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.lastName = lastName</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// å§“åçš„æˆå‘˜å±æ€§(å¤–éƒ¨å¯ä»¥è®¿é—®,ä¹Ÿå¯ä»¥ä¿®æ”¹)</span></span><br><span class="line">Â  Â  <span class="comment">// è¯»å–å™¨----è´Ÿè´£è¯»å–æ•°æ®çš„</span></span><br><span class="line">Â  Â  <span class="keyword">get</span> <span class="title">fullName</span>() &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;getä¸­...&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="comment">// å§“å====&gt;å§“æ°å’Œåå­—çš„æ‹¼æ¥</span></span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27;_&#x27;</span> + <span class="built_in">this</span>.lastName</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// è®¾ç½®å™¨----è´Ÿè´£è®¾ç½®æ•°æ®çš„(ä¿®æ”¹)</span></span><br><span class="line">Â  Â  <span class="keyword">set</span> <span class="title">fullName</span>(<span class="params">val</span>) &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;setä¸­...&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="comment">// å§“å----&gt;æŠŠå§“æ°å’Œåå­—è·å–åˆ°é‡æ–°çš„èµ‹å€¼ç»™firstNameå’ŒlastName</span></span><br><span class="line">Â  Â  Â  <span class="keyword">let</span> names = val.split(<span class="string">&#x27;_&#x27;</span>)</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.firstName = names[<span class="number">0</span>]</span><br><span class="line">Â  Â  Â  <span class="built_in">this</span>.lastName = names[<span class="number">1</span>]</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> person: Person = <span class="keyword">new</span> Person(<span class="string">&#x27;ä¸œæ–¹&#x27;</span>, <span class="string">&#x27;ä¸è´¥&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(person)</span><br><span class="line">Â  <span class="comment">// è·å–è¯¥å±æ€§æˆå‘˜å±æ€§</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.fullName)</span><br><span class="line">Â  <span class="comment">// è®¾ç½®è¯¥å±æ€§çš„æ•°æ®</span></span><br><span class="line">Â  person.fullName = <span class="string">&#x27;è¯¸è‘›_å­”æ˜&#x27;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(person.fullName)</span><br></pre></td></tr></table></figure><blockquote><p>é™æ€æˆå‘˜</p></blockquote><p>é™æ€æˆå‘˜:åœ¨ç±»ä¸­é€šè¿‡staticä¿®é¥°çš„å±æ€§æˆ–è€…æ–¹æ³•,é‚£ä¹ˆå°±æ˜¯é™æ€çš„å±æ€§åŠé™æ€çš„æ–¹æ³•,ä¹Ÿç§°ä¹‹ä¸º:é™æ€æˆå‘˜<br>é™æ€æˆå‘˜åœ¨ä½¿ç”¨çš„æ—¶å€™æ˜¯é€šè¿‡ç±»å.çš„è¿™ç§è¯­æ³•æ¥è°ƒç”¨çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªç±»</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// ç±»ä¸­é»˜è®¤æœ‰ä¸€ä¸ªå†…ç½®çš„nameå±æ€§,æ‰€ä»¥å‘¢,æ­¤æ—¶ä¼šå‡ºç°é”™è¯¯çš„æç¤ºä¿¡æ¯</span></span><br><span class="line">Â  Â  <span class="comment">// é™æ€å±æ€§</span></span><br><span class="line">Â  Â  <span class="keyword">static</span> name1: string = <span class="string">&#x27;å°ç”œç”œ&#x27;</span></span><br><span class="line">Â  Â  <span class="comment">// æ„é€ å‡½æ•°æ˜¯ä¸èƒ½é€šè¿‡staticæ¥è¿›è¡Œä¿®é¥°çš„</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="comment">// æ­¤æ—¶thisæ˜¯å®ä¾‹å¯¹è±¡,name1æ˜¯é™æ€å±æ€§,ä¸èƒ½é€šè¿‡å®ä¾‹å¯¹è±¡ç›´æ¥è°ƒç”¨é™æ€å±æ€§æ¥ä½¿ç”¨</span></span><br><span class="line">Â  Â  Â  <span class="comment">// this.name1 = name</span></span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="keyword">static</span> <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;è¨ç“¦è¿ªå¡&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">Â  <span class="comment">// const person: Person = new Person()</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨çš„å±æ€§(å®ä¾‹å±æ€§)</span></span><br><span class="line">Â  <span class="comment">// console.log(person.name1)</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡å®ä¾‹å¯¹è±¡è°ƒç”¨çš„æ–¹æ³•(å®ä¾‹æ–¹æ³•)</span></span><br><span class="line">Â  <span class="comment">// person.sayHi()</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡ç±»å.é™æ€å±æ€§çš„æ–¹å¼æ¥è®¿é—®è¯¥æˆå‘˜æ•°æ®</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(Person.name1) <span class="comment">// &quot;å°ç”œç”œ&quot;</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡ç±»å.é™æ€å±æ€§çš„æ–¹å¼æ¥è®¾ç½®è¯¥æˆå‘˜æ•°æ®</span></span><br><span class="line">Â  Person.name1 = <span class="string">&#x27;ä½åŠ©&#x27;</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(Person.name1) <span class="comment">//&quot;ä½åŠ©&quot;</span></span><br><span class="line">Â  <span class="comment">// é€šè¿‡ç±»å.é™æ€æ–¹æ³•çš„æ–¹å¼æ¥è°ƒç”¨å†…éƒ¨çš„é™æ€çš„æ–¹æ³•</span></span><br><span class="line">Â  Person.sayHi() <span class="comment">// &quot;è¨ç“¦è¿ªå¡&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æŠ½è±¡ç±»</p></blockquote><p>æŠ½è±¡ç±»:åŒ…å«æŠ½è±¡æ–¹æ³•(æŠ½è±¡æ–¹æ³•ä¸€èˆ¬æ²¡æœ‰ä»»ä½•çš„å…·ä½“å†…å®¹çš„å®ç°),ä¹Ÿå¯ä»¥åŒ…å«å®ä¾‹æ–¹æ³•,æŠ½è±¡ç±»æ˜¯ä¸èƒ½è¢«å®ä¾‹åŒ–,ä¸ºäº†è®©å­ç±»è¿›è¡Œå®ä¾‹åŒ–åŠå®ç°å†…éƒ¨çš„æŠ½è±¡æ–¹æ³•<br>æŠ½è±¡ç±»çš„ç›®çš„æˆ–è€…æ˜¯ä½œç”¨æœ€ç»ˆéƒ½æ˜¯ä¸ºå­ç±»æœåŠ¡çš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæŠ½è±¡ç±»</span></span><br><span class="line">Â  abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// æŠ½è±¡å±æ€§</span></span><br><span class="line">Â  Â  <span class="comment">// abstract name:string</span></span><br><span class="line">Â  Â  <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">Â  Â  abstract eat()</span><br><span class="line">Â  Â  <span class="comment">// æŠ¥é”™çš„,æŠ½è±¡æ–¹æ³•ä¸èƒ½æœ‰å…·ä½“çš„å®ç°</span></span><br><span class="line">Â  Â  <span class="comment">// abstract eat()&#123;</span></span><br><span class="line">Â  Â  <span class="comment">// Â  console.log(&#x27;è¶´ç€åƒ,è·³ç€åƒ&#x27;)</span></span><br><span class="line">Â  Â  <span class="comment">// &#125;</span></span><br><span class="line">Â  Â  <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">sayHi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;æ‚¨å¥½å•Š&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»(æ´¾ç”Ÿç±»)Dog</span></span><br><span class="line">Â  <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// name:string=&#x27;å°é»„&#x27;</span></span><br><span class="line">Â  Â  <span class="comment">// é‡æ–°çš„å®ç°æŠ½è±¡ç±»ä¸­çš„æ–¹æ³•,æ­¤æ—¶è¿™ä¸ªæ–¹æ³•å°±æ˜¯å½“å‰Dogç±»çš„å®ä¾‹æ–¹æ³•äº†</span></span><br><span class="line">Â  Â  <span class="function"><span class="title">eat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Â  Â  Â  <span class="built_in">console</span>.log(<span class="string">&#x27;èˆ”ç€åƒ,çœŸå¥½åƒ&#x27;</span>)</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å®ä¾‹åŒ–Dogçš„å¯¹è±¡</span></span><br><span class="line">Â  <span class="keyword">const</span> dog:Dog = <span class="keyword">new</span> Dog()</span><br><span class="line">Â  dog.eat()</span><br><span class="line">Â  <span class="comment">// è°ƒç”¨çš„æ˜¯æŠ½è±¡ç±»ä¸­çš„å®ä¾‹æ–¹æ³•</span></span><br><span class="line">Â  dog.sayHi()</span><br><span class="line">Â  <span class="comment">// console.log(dog.name)</span></span><br><span class="line">Â  <span class="comment">// ä¸èƒ½å®ä¾‹åŒ–æŠ½è±¡ç±»çš„å¯¹è±¡</span></span><br><span class="line">Â  <span class="comment">// const ani:Animal = new Animal()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><p>å‡½æ•°:å°è£…äº†ä¸€äº›é‡å¤ä½¿ç”¨çš„ä»£ç ,åœ¨éœ€è¦çš„æ—¶å€™ç›´æ¥è°ƒç”¨å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// jsä¸­çš„ä¹¦å†™æ–¹å¼-----&gt;åœ¨tsä¸­åŒæ ·çš„å¯ä»¥è¿™ä¹ˆå†™</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°å£°æ˜,å‘½åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// function add(x, y) &#123; // æ±‚å’Œçš„å‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// Â  return x + y</span></span><br><span class="line">Â  <span class="comment">// &#125;</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°è¡¨è¾¾å¼,åŒ¿åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// const add2 = function (x, y) &#123;</span></span><br><span class="line">Â  <span class="comment">// Â  return x + y</span></span><br><span class="line">Â  <span class="comment">// &#125;</span></span><br><span class="line">Â  <span class="comment">// tsä¸­çš„ä¹¦å†™æ–¹å¼</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°å£°æ˜,å‘½åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°ä¸­çš„xå’Œyå‚æ•°çš„ç±»å‹éƒ½æ˜¯stringç±»å‹çš„,å°æ‹¬å·åé¢çš„:string,ä»£è¡¨çš„æ˜¯è¯¥å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯stringç±»å‹çš„</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: string, y: string</span>): <span class="title">string</span> </span>&#123; <span class="comment">// æ±‚å’Œçš„å‡½æ•°</span></span><br><span class="line">Â  Â  <span class="keyword">return</span> x + y</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="keyword">const</span> result1: string = add(<span class="string">&#x27;111&#x27;</span>, <span class="string">&#x27;222&#x27;</span>)</span><br><span class="line">Â  <span class="built_in">console</span>.log(result1)</span><br><span class="line">Â  <span class="built_in">console</span>.log()</span><br><span class="line">Â  <span class="comment">// å‡½æ•°è¡¨è¾¾å¼,åŒ¿åå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°ä¸­çš„xå’Œyå‚æ•°çš„ç±»å‹éƒ½æ˜¯numberç±»å‹çš„,å°æ‹¬å·åé¢çš„:number,ä»£è¡¨çš„æ˜¯è¯¥å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯numberç±»å‹çš„</span></span><br><span class="line">Â  <span class="keyword">const</span> add2 = <span class="function"><span class="keyword">function</span> (<span class="params">x: number, y: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x + y</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(add2(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">Â  <span class="comment">// å‡½æ•°çš„å®Œæ•´çš„å†™æ³•</span></span><br><span class="line">Â  <span class="comment">// add3----&gt;å˜é‡å---&gt;å‡½æ•°add3</span></span><br><span class="line">Â  <span class="comment">// (x: number, y: number) =&gt; number å½“å‰çš„è¿™ä¸ªå‡½æ•°çš„ç±»å‹</span></span><br><span class="line">Â  <span class="comment">// function (x: number, y: number): number &#123; return x+y &#125; Â å°±ç›¸å½“äºç¬¦åˆä¸Šé¢çš„è¿™ä¸ªå‡½æ•°ç±»å‹çš„å€¼</span></span><br><span class="line">Â  <span class="keyword">const</span> add3: <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> number = <span class="function"><span class="keyword">function</span> (<span class="params">x: number, y: number</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x+y</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(add3(<span class="number">10</span>,<span class="number">100</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å‚æ•°</p></blockquote><p>å¯é€‰å‚æ•°:å‡½æ•°åœ¨å£°æ˜çš„æ—¶å€™,å†…éƒ¨çš„å‚æ•°ä½¿ç”¨äº†?è¿›è¡Œä¿®é¥°,é‚£ä¹ˆå°±è¡¨ç¤ºè¯¥å‚æ•°å¯ä»¥ä¼ å…¥ä¹Ÿå¯ä»¥ä¸ç”¨ä¼ å…¥,å«å¯é€‰å‚æ•°<br>é»˜è®¤å‚æ•°:å‡½æ•°åœ¨å£°æ˜çš„æ—¶å€™,å†…éƒ¨çš„å‚æ•°æœ‰è‡ªå·±çš„é»˜è®¤å€¼,æ­¤æ—¶çš„è¿™ä¸ªå‚æ•°å°±å¯ä»¥å«é»˜è®¤å‚æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°:ä¼ å…¥å§“æ°å’Œåå­—,å¯ä»¥å¾—åˆ°å§“å(å§“æ°+åå­—=å§“å)</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚:å¦‚æœä¸ä¼ å…¥ä»»ä½•å†…å®¹,é‚£ä¹ˆå°±è¿”å›é»˜è®¤çš„å§“æ°</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚:å¦‚æœåªä¼ å…¥å§“æ°,é‚£ä¹ˆå°±è¿”å›å§“æ°</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚:å¦‚æœä¼ å…¥å§“æ°å’Œåå­—,é‚£ä¹ˆè¿”å›æ¥çš„å°±æ˜¯å§“å</span></span><br><span class="line">Â  <span class="keyword">const</span> getFullName = <span class="function"><span class="keyword">function</span> (<span class="params">firstName: string=<span class="string">&#x27;ä¸œæ–¹&#x27;</span>, lastName?: string</span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="comment">// åˆ¤æ–­åå­—æ˜¯å¦ä¼ å…¥äº†</span></span><br><span class="line">Â  Â  <span class="keyword">if</span> (lastName) &#123;</span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> firstName + <span class="string">&#x27;_&#x27;</span> + lastName</span><br><span class="line">Â  Â  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> firstName</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">Â  <span class="comment">// ä»€ä¹ˆä¹Ÿä¸ä¼ å…¥</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(getFullName()) Â <span class="comment">//&quot;ä¸œæ–¹&quot;</span></span><br><span class="line">Â  <span class="comment">// åªä¼ å…¥å§“æ°</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(getFullName(<span class="string">&#x27;è¯¸è‘›&#x27;</span>)) <span class="comment">//&quot;è¯¸è‘›&quot;</span></span><br><span class="line">Â  <span class="comment">// ä¼ å…¥å§“æ°å’Œåå­—</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(getFullName(<span class="string">&#x27;è¯¸è‘›&#x27;</span>,<span class="string">&#x27;å­”æ˜&#x27;</span>)) <span class="comment">// &quot;è¯¸è‘›_å­”æ˜&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰©ä½™å‚æ•°(restå‚æ•°)</span></span><br><span class="line"><span class="comment">// å‰©ä½™å‚æ•°æ˜¯æ”¾åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™æ‰€æœ‰çš„å‚æ•°çš„æœ€å</span></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">Â  <span class="comment">// ...args:string[] ----&gt;å‰©ä½™çš„å‚æ•°,æ”¾åœ¨äº†ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ä¸­,argsé‡Œé¢</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">showMsg</span>(<span class="params">str: string,str2:string, ...args: string[]</span>) </span>&#123;</span><br><span class="line">Â  Â  <span class="built_in">console</span>.log(str) <span class="comment">// a</span></span><br><span class="line">Â  Â  <span class="comment">// console.log(str2) // b</span></span><br><span class="line">Â  Â  <span class="built_in">console</span>.log(args) <span class="comment">// b ,c ,d ,e</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  showMsg(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>)</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å‡½æ•°é‡è½½</p></blockquote><p> å‡½æ•°é‡è½½:å‡½æ•°åå­—ç›¸åŒ,å‡½æ•°çš„å‚æ•°åŠä¸ªæ•°ä¸åŒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">Â  <span class="comment">// éœ€æ±‚: æˆ‘ä»¬æœ‰ä¸€ä¸ªaddå‡½æ•°ï¼Œå®ƒå¯ä»¥æ¥æ”¶2ä¸ªstringç±»å‹çš„å‚æ•°è¿›è¡Œæ‹¼æ¥ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶2ä¸ªnumberç±»å‹çš„å‚æ•°è¿›è¡Œç›¸åŠ </span></span><br><span class="line">Â  <span class="comment">// å‡½æ•°é‡è½½å£°æ˜</span></span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: string, y: string</span>): <span class="title">string</span></span></span><br><span class="line"><span class="function">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: number, y: number</span>): <span class="title">number</span></span></span></span><br><span class="line"><span class="function"><span class="function">Â  // å‡½æ•°å£°æ˜</span></span></span><br><span class="line"><span class="function"><span class="function">Â  <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x: string | number, y: string | number</span>): <span class="title">string</span> | <span class="title">number</span> | <span class="title">undefined</span> </span>&#123;</span></span></span><br><span class="line"><span class="function"><span class="function">Â  Â  <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> x === <span class="string">&#x27;string&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> y === <span class="string">&#x27;string&#x27;</span></span>) </span>&#123;</span></span><br><span class="line"><span class="function">Â  Â  Â  <span class="title">return</span> <span class="title">x</span> + <span class="title">y</span> // å­—ç¬¦ä¸²æ‹¼æ¥</span></span><br><span class="line"><span class="function">Â  Â  &#125; <span class="title">else</span> <span class="title">if</span> (<span class="params"><span class="keyword">typeof</span> x === <span class="string">&#x27;number&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> y === <span class="string">&#x27;number&#x27;</span></span>) </span>&#123;</span><br><span class="line">Â  Â  Â  <span class="keyword">return</span> x + y <span class="comment">// æ•°å­—ç›¸åŠ </span></span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  <span class="keyword">return</span></span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">Â  <span class="comment">// ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(add(<span class="string">&#x27;è¯¸è‘›&#x27;</span>, <span class="string">&#x27;å­”æ˜&#x27;</span>))</span><br><span class="line">Â  <span class="comment">// ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æ•°å­—</span></span><br><span class="line">Â  <span class="built_in">console</span>.log(add(<span class="number">10</span>, <span class="number">20</span>))</span><br><span class="line">Â  <span class="comment">// æ­¤æ—¶å¦‚æœä¼ å…¥çš„æ˜¯éæ³•çš„æ•°æ®ï¼Œtsåº”è¯¥ç»™æˆ‘æç¤ºå‡ºé”™è¯¯çš„ä¿¡æ¯å†…å®¹,æŠ¥çº¢è‰²é”™è¯¯çš„ä¿¡æ¯</span></span><br><span class="line">Â  <span class="comment">// console.log(add(&#x27;çœŸé¦™&#x27;, 10))</span></span><br><span class="line">Â  <span class="comment">// console.log(add(100, &#x27;çœŸå¥½&#x27;))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h1><p>åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£ã€ç±»çš„æ—¶å€™ä¸èƒ½é¢„å…ˆç¡®å®šè¦ä½¿ç”¨çš„æ•°æ®çš„ç±»å‹,è€Œæ˜¯åœ¨ä½¿ç”¨å‡½æ•°ã€æ¥å£ã€ç±»çš„æ—¶å€™æ‰èƒ½ç¡®å®šæ•°æ®çš„ç±»å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Â Â <span class="comment">//Â éœ€æ±‚:å®šä¹‰ä¸€ä¸ªå‡½æ•°,ä¼ å…¥ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€å‚æ•°æ˜¯æ•°æ®,ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°é‡</span></span><br><span class="line">Â Â <span class="comment">//Â å‡½æ•°çš„ä½œç”¨:æ ¹æ®æ•°é‡äº§ç”Ÿå¯¹åº”ä¸ªæ•°çš„æ•°æ®,å­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­</span></span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr1</span>(<span class="params">value:Â number,Â count:Â number</span>):Â <span class="title">number</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â number[]Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getArr1(<span class="number">100.123</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1)Â <span class="comment">//Â [100.123,Â 100.123,Â 100.123]Â </span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªå‡½æ•°,åŒä¸Š,åªä¸è¿‡ä¼ å…¥çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr2</span>(<span class="params">value:Â string,Â count:Â number</span>):Â <span class="title">string</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â string[]Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr2Â =Â getArr2(<span class="string">&#x27;abc&#x27;</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2)Â <span class="comment">//[&quot;abc&quot;,Â &quot;abc&quot;,Â &quot;abc&quot;]Â </span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â <span class="comment">//Â éœ€æ±‚:å¯ä»¥ä¼ å…¥ä»»æ„ç±»å‹çš„æ•°æ®,è¿”å›æ¥çš„æ˜¯å­˜å‚¨è¿™ä¸ªä»»æ„ç±»å‹æ•°æ®çš„æ•°ç»„</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr3</span>(<span class="params">value:Â any,Â count:Â number</span>):Â <span class="title">any</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â any[]Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getArr3(<span class="number">100.123</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr2Â =Â getArr3(<span class="string">&#x27;abc&#x27;</span>,Â <span class="number">3</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1)Â <span class="comment">//[100.123,Â 100.123,Â 100.123]Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2)Â <span class="comment">//[&quot;abc&quot;,Â &quot;abc&quot;,Â &quot;abc&quot;]</span></span><br><span class="line">Â Â <span class="comment">//Â arr1ä¸­å­˜å‚¨çš„æ˜¯æ•°å­—ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="comment">//Â arr2ä¸­å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">0</span>].toFixed(<span class="number">2</span>))Â <span class="comment">//Â æ²¡æœ‰ä»»ä½•çš„æ™ºèƒ½æç¤ºçš„ä¿¡æ¯(è¦ä¹ˆæœ‰æ–¹æ³•åå­—çš„æç¤ºä¿¡æ¯,è¦ä¹ˆæœ‰é”™è¯¯çš„æç¤ºä¿¡æ¯)</span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2[<span class="number">0</span>].split(<span class="string">&#x27;&#x27;</span>))Â <span class="comment">//Â æ²¡æœ‰ä»»ä½•çš„æ™ºèƒ½æç¤ºçš„ä¿¡æ¯(è¦ä¹ˆæœ‰æ–¹æ³•åå­—çš„æç¤ºä¿¡æ¯,è¦ä¹ˆæœ‰é”™è¯¯çš„æç¤ºä¿¡æ¯)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getArr4</span>&lt;<span class="title">T</span>&gt;(<span class="params">value:Â T,Â count:Â number</span>):Â <span class="title">T</span>[]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ ¹æ®æ•°æ®å’Œæ•°é‡äº§ç”Ÿä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â constÂ arr:Â T[]Â =Â []</span></span><br><span class="line">Â Â Â Â <span class="keyword">const</span>Â arr:Â <span class="built_in">Array</span>&lt;T&gt;Â =Â []</span><br><span class="line">Â Â Â Â <span class="keyword">for</span>Â (<span class="keyword">let</span>Â iÂ =Â <span class="number">0</span>;Â iÂ &lt;Â count;Â i++)Â &#123;</span><br><span class="line">Â Â Â Â Â Â arr.push(value)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â arr</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getArr4&lt;number&gt;(<span class="number">200.12345</span>,Â <span class="number">5</span>)</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr2Â =Â getArr4&lt;string&gt;(<span class="string">&#x27;abcdefg&#x27;</span>,Â <span class="number">5</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">0</span>].toFixed(<span class="number">3</span>))</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr2[<span class="number">0</span>].split(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">Â Â <span class="comment">//Â //Â arr1ä¸­å­˜å‚¨çš„æ˜¯æ•°å­—ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="comment">//Â //Â arr2ä¸­å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®</span></span><br><span class="line">Â Â <span class="comment">//Â console.log(arr1[0].toFixed(2))Â //Â æ²¡æœ‰ä»»ä½•çš„æ™ºèƒ½æç¤ºçš„ä¿¡æ¯(è¦ä¹ˆæœ‰æ–¹æ³•åå­—çš„æç¤ºä¿¡æ¯,è¦ä¹ˆæœ‰é”™è¯¯çš„æç¤ºä¿¡æ¯)</span></span><br><span class="line">Â Â <span class="comment">//Â console.log(arr2[0].split(&#x27;&#x27;))Â //Â æ²¡æœ‰</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å¤šä¸ªå‚æ•°</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å¤šä¸ªæ³›å‹å‚æ•°çš„å‡½æ•°:å‡½æ•°ä¸­æœ‰å¤šä¸ªæ³›å‹çš„å‚æ•°</span></span><br><span class="line">Â Â <span class="function"><span class="keyword">function</span>Â <span class="title">getMsg</span>&lt;<span class="title">K</span>,Â <span class="title">V</span>&gt;(<span class="params">value1:Â K,Â value2:Â V</span>):Â [<span class="title">K</span>,Â <span class="title">V</span>]Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â [value1,Â value2]</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="keyword">const</span>Â arr1Â =Â getMsg&lt;string,number&gt;(<span class="string">&#x27;jack&#x27;</span>,<span class="number">100.2345</span>)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">0</span>].split(<span class="string">&#x27;&#x27;</span>))Â <span class="comment">//Â [&quot;j&quot;,Â &quot;a&quot;,Â &quot;c&quot;,Â &quot;k&quot;]Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(arr1[<span class="number">1</span>].toFixed(<span class="number">1</span>))Â <span class="comment">//&quot;100.2&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹æ¥å£</p></blockquote><p>åœ¨å®šä¹‰æ¥å£æ—¶, ä¸ºæ¥å£ä¸­çš„å±æ€§æˆ–æ–¹æ³•å®šä¹‰æ³›å‹ç±»å‹,åœ¨ä½¿ç”¨æ¥å£æ—¶, å†æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â Â <span class="comment">//Â éœ€æ±‚:å®šä¹‰ä¸€ä¸ªç±»,ç”¨æ¥å­˜å‚¨ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯(id,åå­—,å¹´é¾„)</span></span><br><span class="line">Â Â <span class="comment">//Â é€šè¿‡ä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡è°ƒç”¨addæ–¹æ³•å¯ä»¥æ·»åŠ å¤šä¸ªç”¨æˆ·ä¿¡æ¯å¯¹è±¡,è°ƒç”¨getUserIdæ–¹æ³•å¯ä»¥æ ¹æ®idè·å–æŸä¸ªæŒ‡å®šçš„ç”¨æˆ·ä¿¡æ¯å¯¹è±¡</span></span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£</span></span><br><span class="line">Â Â interfaceÂ IBaseCRUD&lt;T&gt;Â &#123;</span><br><span class="line">Â Â Â Â <span class="attr">data</span>:Â <span class="built_in">Array</span>&lt;T&gt;</span><br><span class="line">Â Â Â Â add:Â <span class="function">(<span class="params">t:Â T</span>)Â =&gt;</span>Â T</span><br><span class="line">Â Â Â Â <span class="attr">getUserId</span>:Â <span class="function">(<span class="params">id:Â number</span>)Â =&gt;</span>Â TÂ |Â <span class="literal">undefined</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯çš„ç±»</span></span><br><span class="line">Â Â <span class="class"><span class="keyword">class</span>Â <span class="title">User</span>Â </span>&#123;</span><br><span class="line">Â Â Â Â id?:Â numberÂ <span class="comment">//Â ç”¨æˆ·çš„idÂ Â ?Â ä»£è¡¨è¯¥å±æ€§å¯æœ‰å¯æ— </span></span><br><span class="line">Â Â Â Â <span class="attr">name</span>:Â stringÂ <span class="comment">//Â ç”¨æˆ·çš„å§“å</span></span><br><span class="line">Â Â Â Â <span class="attr">age</span>:Â numberÂ <span class="comment">//Â ç”¨æˆ·çš„å¹´é¾„</span></span><br><span class="line">Â Â Â Â <span class="comment">//Â æ„é€ å‡½æ•°</span></span><br><span class="line">Â Â Â Â <span class="function"><span class="title">constructor</span>(<span class="params">name:Â string,Â age:Â number</span>)</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="built_in">this</span>.nameÂ =Â name</span><br><span class="line">Â Â Â Â Â Â <span class="built_in">this</span>.ageÂ =Â age</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®šä¹‰ä¸€ä¸ªç±»,å¯ä»¥é’ˆå¯¹ç”¨æˆ·çš„ä¿¡æ¯å¯¹è±¡è¿›è¡Œå¢åŠ åŠæŸ¥è¯¢çš„æ“ä½œ</span></span><br><span class="line">Â Â <span class="comment">//Â CRUD----&gt;create,Read,Update,Delete</span></span><br><span class="line">Â Â <span class="class"><span class="keyword">class</span>Â <span class="title">UserCRUD</span>Â <span class="title">implements</span>Â <span class="title">IBaseCRUD</span>&lt;<span class="title">User</span>&gt;Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â ç”¨æ¥ä¿å­˜å¤šä¸ªUserç±»å‹çš„ç”¨æˆ·ä¿¡æ¯å¯¹è±¡</span></span><br><span class="line">Â Â Â Â <span class="attr">data</span>:Â <span class="built_in">Array</span>&lt;User&gt;Â =Â []</span><br><span class="line">Â Â Â Â <span class="comment">//æ–¹æ³•ç”¨æ¥å­˜å‚¨ç”¨æˆ·ä¿¡æ¯å¯¹è±¡çš„</span></span><br><span class="line">Â Â Â Â add(user:Â User):Â UserÂ &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â äº§ç”Ÿid</span></span><br><span class="line">Â Â Â Â Â Â user.idÂ =Â <span class="built_in">Date</span>.now()Â +Â <span class="built_in">Math</span>.random()</span><br><span class="line">Â Â Â Â Â Â <span class="comment">//Â æŠŠç”¨æˆ·ä¿¡æ¯å¯¹è±¡æ·»åŠ åˆ°dataæ•°ç»„ä¸­</span></span><br><span class="line">Â Â Â Â Â Â <span class="built_in">this</span>.data.push(user)</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">return</span>Â user</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â Â Â <span class="comment">//Â æ–¹æ³•æ ¹æ®idæŸ¥è¯¢æŒ‡å®šçš„ç”¨æˆ·ä¿¡æ¯å¯¹è±¡</span></span><br><span class="line">Â Â Â Â getUserId(id:numberÂ =Â <span class="number">0</span>):Â UserÂ |Â <span class="literal">undefined</span>Â &#123;</span><br><span class="line">Â Â Â Â Â Â <span class="keyword">return</span>Â <span class="built_in">this</span>.data.find(<span class="function"><span class="params">user</span>Â =&gt;</span>Â user.idÂ ===Â id)</span><br><span class="line">Â Â Â Â &#125;</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â å®ä¾‹åŒ–æ·»åŠ ç”¨æˆ·ä¿¡æ¯å¯¹è±¡çš„ç±»UserCRUD</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â userCRUD:Â UserCRUDÂ =Â <span class="keyword">new</span>Â UserCRUD()</span><br><span class="line">Â Â <span class="comment">//Â è°ƒç”¨æ·»åŠ æ•°æ®çš„æ–¹æ³•</span></span><br><span class="line">Â Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;jack&#x27;</span>,Â <span class="number">20</span>))</span><br><span class="line">Â Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;tom&#x27;</span>,Â <span class="number">25</span>))</span><br><span class="line">Â Â <span class="keyword">const</span>Â &#123;Â idÂ &#125;Â =Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;lucy&#x27;</span>,Â <span class="number">23</span>))</span><br><span class="line">Â Â userCRUD.add(<span class="keyword">new</span>Â User(<span class="string">&#x27;rousi&#x27;</span>,Â <span class="number">21</span>))</span><br><span class="line"><span class="comment">//Â Â Â [User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;jack&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 20,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.5513</span></span><br><span class="line"><span class="comment">//Â &#125;,Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;tom&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 25,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.9338</span></span><br><span class="line"><span class="comment">//Â &#125;,Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;lucy&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 23,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.7893</span></span><br><span class="line"><span class="comment">//Â &#125;,Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;rousi&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 21,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.6506</span></span><br><span class="line"><span class="comment">//Â &#125;]Â </span></span><br><span class="line">Â Â <span class="built_in">console</span>.log(userCRUD.data)</span><br><span class="line">Â Â <span class="comment">//Â æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å¯¹è±¡æ•°æ®</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â userÂ =Â userCRUD.getUserId(id)</span><br><span class="line">Â Â <span class="built_in">console</span>.log(user)</span><br><span class="line"><span class="comment">//Â Â Â User:Â &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;name&quot;:Â &quot;lucy&quot;,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;age&quot;:Â 23,</span></span><br><span class="line"><span class="comment">//Â Â Â &quot;id&quot;:Â 1652847195282.7893</span></span><br><span class="line"><span class="comment">//Â &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹ç±»</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//Â å®šä¹‰ä¸€ä¸ªç±»,ç±»ä¸­çš„å±æ€§å€¼çš„ç±»å‹æ˜¯ä¸ç¡®å®š,æ–¹æ³•ä¸­çš„å‚æ•°åŠè¿”å›å€¼çš„ç±»å‹ä¹Ÿæ˜¯ä¸ç¡®å®š</span></span><br><span class="line"><span class="comment">//Â å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»</span></span><br><span class="line">Â Â <span class="class"><span class="keyword">class</span>Â <span class="title">GenericNumber</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">Â Â Â Â <span class="comment">//Â é»˜è®¤çš„å±æ€§çš„å€¼çš„ç±»å‹æ˜¯æ³›å‹ç±»å‹</span></span><br><span class="line">Â Â Â Â <span class="attr">defaultValue</span>:Â T|Â <span class="literal">undefined</span></span><br><span class="line">Â Â Â Â <span class="attr">add</span>:Â (<span class="function">(<span class="params">x:Â T,y:Â T</span>)Â =&gt;</span>Â T)|Â <span class="literal">undefined</span></span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="comment">//Â åœ¨å®ä¾‹åŒ–ç±»çš„å¯¹è±¡çš„æ—¶å€™,å†ç¡®å®šæ³›å‹çš„ç±»å‹</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â g1:Â GenericNumber&lt;number&gt;Â =Â <span class="keyword">new</span>Â GenericNumber&lt;number&gt;()</span><br><span class="line">Â Â <span class="comment">//Â è®¾ç½®å±æ€§å€¼</span></span><br><span class="line">Â Â g1.defaultValueÂ =Â <span class="number">100</span></span><br><span class="line">Â Â <span class="comment">//Â ç›¸åŠ çš„æ–¹æ³•</span></span><br><span class="line">Â Â g1.addÂ =Â <span class="function"><span class="keyword">function</span>Â (<span class="params">x,Â y</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â xÂ +Â y</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(g1.add(g1.defaultValue,<span class="number">20</span>))Â <span class="comment">//120Â </span></span><br><span class="line">Â Â <span class="comment">//Â åœ¨å®ä¾‹åŒ–ç±»çš„å¯¹è±¡çš„æ—¶å€™,å†ç¡®å®šæ³›å‹çš„ç±»å‹</span></span><br><span class="line">Â Â <span class="keyword">const</span>Â g2:Â GenericNumber&lt;string&gt;Â =Â <span class="keyword">new</span>Â GenericNumber&lt;string&gt;()</span><br><span class="line">Â Â <span class="comment">//Â è®¾ç½®å±æ€§å€¼</span></span><br><span class="line">Â Â g2.defaultValueÂ =Â <span class="string">&#x27;å“ˆå“ˆ&#x27;</span></span><br><span class="line">Â Â <span class="comment">//Â ç›¸åŠ çš„æ–¹æ³•</span></span><br><span class="line">Â Â g2.addÂ =Â <span class="function"><span class="keyword">function</span>Â (<span class="params">x,Â y</span>)Â </span>&#123;</span><br><span class="line">Â Â Â Â <span class="keyword">return</span>Â xÂ +Â y</span><br><span class="line">Â Â &#125;</span><br><span class="line">Â Â <span class="built_in">console</span>.log(g2.add(<span class="string">&#x27;å¸…æ¨&#x27;</span>,g2.defaultValue))Â Â <span class="comment">//&quot;å¸…æ¨å“ˆå“ˆ&quot;Â </span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æ³›å‹çº¦æŸ</p></blockquote><p>å¦‚æœæˆ‘ä»¬ç›´æ¥å¯¹ä¸€ä¸ªæ³›å‹å‚æ•°å– length å±æ€§, ä¼šæŠ¥é”™, å› ä¸ºè¿™ä¸ªæ³›å‹æ ¹æœ¬å°±ä¸çŸ¥é“å®ƒæœ‰è¿™ä¸ªå±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Â  <span class="comment">// å®šä¹‰ä¸€ä¸ªæ¥å£,ç”¨æ¥çº¦æŸå°†æ¥çš„æŸä¸ªç±»å‹ä¸­å¿…é¡»è¦æœ‰lengthè¿™ä¸ªå±æ€§</span></span><br><span class="line">Â  interface ILength&#123;</span><br><span class="line">Â  Â  <span class="comment">// æ¥å£ä¸­æœ‰ä¸€ä¸ªå±æ€§length</span></span><br><span class="line">Â  Â  <span class="attr">length</span>:number</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="function"><span class="keyword">function</span> <span class="title">getLength</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">ILength</span>&gt;(<span class="params">x: T</span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">Â  Â  <span class="keyword">return</span> x.length</span><br><span class="line">Â  &#125;</span><br><span class="line">Â  <span class="built_in">console</span>.log(getLength&lt;string&gt;(<span class="string">&#x27;what are you no sha lei&#x27;</span>))</span><br><span class="line">Â  <span class="comment">// console.log(getLength&lt;number&gt;(123))</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">TypeScriptå­¦ä¹ </summary>
    
    
    
    <category term="typescript" scheme="https://wecy-chen.github.io/categories/typescript/"/>
    
    
    <category term="typescript" scheme="https://wecy-chen.github.io/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡ç« æ ‡é¢˜æ•™ç¨‹</title>
    <link href="https://wecy-chen.github.io/2022/03/19/article/"/>
    <id>https://wecy-chen.github.io/2022/03/19/article/</id>
    <published>2022-03-19T01:56:17.922Z</published>
    <updated>2021-11-16T23:05:06.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:ã€å¿…éœ€ã€‘é¡µé¢æ ‡é¢˜</span><br><span class="line">date:ã€å¿…éœ€ã€‘é¡µé¢åˆ›å»ºæ—¥æœŸ</span><br><span class="line">type: ã€å¿…éœ€ã€‘æ ‡ç±¤ã€åˆ†ç±»å’Œå‹æƒ…é“¾æ¥ä¸‰ä¸ªé¡µé¢éœ€è¦é…ç½®</span><br><span class="line">updated:ã€å¯é€‰ã€‘é¡µé¢æ›´æ–°æ—¥æœŸ</span><br><span class="line">description:ã€å¯é€‰ã€‘é¡µé¢æè¿°</span><br><span class="line">keywords: ã€å¯é€‰ã€‘é¡µé¢å…³é”®å­—</span><br><span class="line">comments: ã€å¯é€‰ã€‘æ˜¾ç¤ºé¡µé¢è¯„è®ºæ¨¡å— (é»˜è®¤ true)</span><br><span class="line">top_img: ã€å¯é€‰ã€‘é¡µé¢é¡¶éƒ¨å›¾ç‰‡</span><br><span class="line">mathjax: ã€å¯é€‰ã€‘æ˜¾ç¤º mathjax (å½“è®¾ç½® mathjax çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</span><br><span class="line">katex: ã€å¯é€‰ã€‘æ˜¾ç¤º katex (å½“è®¾ç½® katex çš„ per_page: false æ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</span><br><span class="line">aside: ã€å¯é€‰ã€‘æ˜¾ç¤ºä¾§è¾¹æ  (é»˜è®¤ true)</span><br><span class="line">aplayer: ã€å¯é€‰ã€‘åœ¨éœ€è¦çš„é¡µé¢åŠ è½½ aplayer çš„ js å’Œ css, è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</span><br><span class="line">highlight_shrink: ã€å¯é€‰ã€‘é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€ (true/false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­ highlight_shrink çš„é…ç½®)</span><br><span class="line">cover: æ–‡ç« é¡¶éƒ¨å›¾ç‰‡</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">é¡µé¢æè¿°</summary>
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wecy-chen.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://wecy-chen.github.io/2022/03/19/hello-world/"/>
    <id>https://wecy-chen.github.io/2022/03/19/hello-world/</id>
    <published>2022-03-19T01:54:42.201Z</published>
    <updated>2022-06-24T01:37:20.097Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.<br>æ¬¢è¿æ¥åˆ°<a href="https://hexo.io/">Hexo</a>! è¿™æ˜¯ä½ çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚æ£€æŸ¥<a href="https://hexo.io/docs/">æ–‡ä»¶</a>æ›´å¤šä¿¡æ¯ã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨Hexoæ—¶é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨[æ•…éšœæ’é™¤]ä¸­æ‰¾åˆ°ç­”æ¡ˆ(<a href="https://hexo.io/docs/troubleshooting.html)%E6%88%96%E8%80%85%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%9C%A8[GitHub]%E4%B8%8A%E9%97%AE%E6%88%91(https://github.com/hexojs/hexo/issues)">https://hexo.io/docs/troubleshooting.html)æˆ–è€…ä½ å¯ä»¥åœ¨[GitHub]ä¸Šé—®æˆ‘(https://github.com/hexojs/hexo/issues)</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wecy-chen.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>å¯¹æ¥æ”¯ä»˜å®æ”¯ä»˜æ¥å£</title>
    <link href="https://wecy-chen.github.io/2021/12/08/zhifubao/"/>
    <id>https://wecy-chen.github.io/2021/12/08/zhifubao/</id>
    <published>2021-12-08T01:26:42.000Z</published>
    <updated>2022-06-24T01:36:28.814Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€-ç”³è¯·å¼€å‘"><a href="#ä¸€-ç”³è¯·å¼€å‘" class="headerlink" title="*ä¸€.Â ç”³è¯·å¼€å‘??"></a>*<em>ä¸€.Â ç”³è¯·å¼€å‘?</em>?</h2><p>è®¿é—®å¼€å‘è€…ä¸­å¿ƒ<a href="https://links.jianshu.com/go?to=https://openhome.alipay.com/platform/appDaily.htm?tab=info">https://openhome.alipay.com/platform/appDaily.htm?tab=info</a></p><p>è¿›è¡Œè®¤è¯å(çœŸå®å§“å,ç»‘å®šæ‰‹æœºå·å’Œé‚®ç®±), å³å¯è¿›å…¥æ²™ç®±é…ç½®é¡µ</p><p><img src="/image/zhifubao/a43f57e84f55a6f0a29727736934b9a6.png" alt="a43f57e84f55a6f0a29727736934b9a6.png"></p><h2 id="äºŒ-é…ç½®å¯†é’¥"><a href="#äºŒ-é…ç½®å¯†é’¥" class="headerlink" title="äºŒ. é…ç½®å¯†é’¥"></a><strong>äºŒ. é…ç½®å¯†é’¥</strong></h2><h3 id="1-ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·"><a href="#1-ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·" class="headerlink" title="1. ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·"></a><strong>1. ä¸‹è½½å¯†é’¥ç”Ÿæˆå·¥å…·</strong></h3><p>è®¿é—®Â <a href="https://links.jianshu.com/go?to=https://docs.open.alipay.com/291/105971">https://docs.open.alipay.com/291/105971</a></p><p><img src="/image/zhifubao/1f8481f58db077b46c576d3f9e2f332c.png" alt="1f8481f58db077b46c576d3f9e2f332c.png"></p><p>ä¸‹è½½AlipayDevelopmentAssistant-1.0.7.exe (æ”¯ä»˜å®å¼€å‘å¹³å°å¼€å‘åŠ©æ‰‹)å¯†é’¥å·¥å…·Â å¤§çº¦100å¤šMÂ æ­£å¸¸å®‰è£…</p><h3 id="2-ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥"><a href="#2-ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥" class="headerlink" title="2.ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥"></a><strong>2.ä½¿ç”¨å·¥å…·ç”Ÿæˆå…¬é’¥ç§é’¥</strong></h3><p><strong><img src="/image/zhifubao/c6f845df84f5cbcac6dce6cb485cb38b.png" alt="c6f845df84f5cbcac6dce6cb485cb38b.png"></strong></p><h3 id="3-è®¾ç½®å…¬é’¥"><a href="#3-è®¾ç½®å…¬é’¥" class="headerlink" title="3.è®¾ç½®å…¬é’¥"></a><strong>3.è®¾ç½®å…¬é’¥</strong></h3><p>åŠ ç­¾æ–¹å¼é€‰æ‹©<strong>å…¬é’¥</strong></p><p><strong><img src="/image/zhifubao/51e1ae5878ebc514b824d38f660fa219.png" alt="51e1ae5878ebc514b824d38f660fa219.png"></strong></p><p>ä¿å­˜å…¬é’¥,é€€æ¬¾éœ€è¦ç”¨åˆ°</p><h2 id="ä¸‰-NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£-koa"><a href="#ä¸‰-NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£-koa" class="headerlink" title="ä¸‰. NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£(koa)"></a><strong>ä¸‰. NodeJSè¯·æ±‚æ”¯ä»˜æ¥å£(koa)</strong></h2><p>1.ä¿å­˜ç§é’¥</p><p>æ–°å»ºapp_private_key.pemæ–‡ä»¶</p><p><img src="/image/zhifubao/84b01a06d3bab3d55e11b7776901ce77.png" alt="84b01a06d3bab3d55e11b7776901ce77.png"></p><p>2.å®ç°ä»£ç </p><p>æ”¯ä»˜å‚æ•°</p><p><a href="https://opendocs.alipay.com/apis/api_1/alipay.trade.page.pay">https://opendocs.alipay.com/apis/api_1/alipay.trade.page.pay</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moment = <span class="built_in">require</span>(<span class="string">&#x27;moment&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; nginx &#125; = MAPP.proConfig</span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> &#123; app_private_key &#125; = MAPP.keys<span class="comment">// æ”¯ä»˜å®ç§é’¥</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">get</span>: &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ”¯ä»˜å®æ”¯ä»˜è¿æ¥</span></span><br><span class="line">    <span class="string">&#x27;/test/alipay&#x27;</span>: [</span><br><span class="line">      <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">        <span class="comment">// æ”¯ä»˜å‚æ•°</span></span><br><span class="line">        <span class="comment">// æ³¨æ„:æœ¬åœ°æµ‹è¯•å›è°ƒéœ€è¦é…ç½®ngrok</span></span><br><span class="line">        <span class="keyword">const</span> paramsMap = &#123;</span><br><span class="line">          <span class="attr">app_id</span>: <span class="string">&#x27;2021xxxxxxxx&#x27;</span>, <span class="comment">// åº”ç”¨id</span></span><br><span class="line">          <span class="attr">method</span>: <span class="string">&#x27;alipay.trade.page.pay&#x27;</span>, <span class="comment">// è°ƒèµ·ç±»å‹(app,page,wap)(åŒ…æ‹¬app,h5,PCé¡µé¢æ”¯ä»˜)</span></span><br><span class="line">          <span class="attr">format</span>: <span class="string">&#x27;JSON&#x27;</span>,</span><br><span class="line">          <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span>,</span><br><span class="line">          <span class="attr">sign_type</span>: <span class="string">&#x27;RSA2&#x27;</span>,</span><br><span class="line">          <span class="attr">timestamp</span>: moment().format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>),</span><br><span class="line">          <span class="attr">version</span>: <span class="string">&#x27;1.0&#x27;</span>,</span><br><span class="line">          <span class="attr">notify_url</span>: <span class="string">`https://<span class="subst">$&#123;nginx.server_name&#125;</span>/api-universal/test/aliay/callback`</span>, <span class="comment">// æ¥å£å›è°ƒ(é…ç½®ngrokæ˜ å°„httpsåœ°å€)</span></span><br><span class="line">          <span class="comment">// return_url: &#x27;https://b2c-app-dev.fenxiangqu.cn/pages/my/index&#x27;,// å‰å°è·³è½¬é¡µé¢</span></span><br><span class="line">          <span class="attr">biz_content</span>: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">            <span class="attr">product_code</span>: <span class="string">&#x27;FAST_INSTANT_TRADE_PAY&#x27;</span>, <span class="comment">// å•†å“ç </span></span><br><span class="line">            <span class="attr">body</span>: <span class="string">&#x27;è®¢å•å›è°ƒå†…å®¹&#x27;</span>, <span class="comment">// è®¢å•é™„åŠ ä¿¡æ¯ã€‚</span></span><br><span class="line">            <span class="attr">subject</span>: <span class="string">&#x27;æµ‹è¯•æ”¯ä»˜å®PCæ”¯ä»˜&#x27;</span>, <span class="comment">// äº¤æ˜“æ ‡é¢˜</span></span><br><span class="line">            <span class="attr">out_trade_no</span>: <span class="string">&#x27;xxxxxxxxx&#x27;</span>, <span class="comment">// è®¢å•ç¼–å·</span></span><br><span class="line">            <span class="attr">total_amount</span>: <span class="number">0.01</span> <span class="comment">// æ”¯ä»˜é‡‘é¢</span></span><br><span class="line">          &#125;) <span class="comment">// è®¢å•æ”¯ä»˜å‚æ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ‹¼æ¥å‚æ•°</span></span><br><span class="line">        <span class="keyword">let</span> objParams = <span class="built_in">Object</span>.keys(paramsMap)</span><br><span class="line">          .sort()</span><br><span class="line">          .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> key + <span class="string">&#x27;=&#x27;</span> + paramsMap[key]</span><br><span class="line">          &#125;)</span><br><span class="line">          .join(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> encodeParams = <span class="built_in">Object</span>.keys(paramsMap)</span><br><span class="line">          .sort()</span><br><span class="line">          .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> key + <span class="string">&#x27;=&#x27;</span> + <span class="built_in">encodeURIComponent</span>(paramsMap[key])</span><br><span class="line">          &#125;)</span><br><span class="line">          .join(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">        <span class="comment">// RSA2åŠ å¯†ç­¾å</span></span><br><span class="line">        <span class="keyword">let</span> sign</span><br><span class="line">        <span class="keyword">let</span> signInit = crypto.createSign(<span class="string">&#x27;RSA-SHA256&#x27;</span>)</span><br><span class="line">        signInit.update(objParams, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">        <span class="comment">// æ”¯ä»˜å®ç§é’¥ç­¾å</span></span><br><span class="line">        <span class="comment">// console.log(app_private_key)</span></span><br><span class="line">        sign = signInit.sign(app_private_key, <span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> params = encodeParams + <span class="string">&#x27;&amp;sign=&#x27;</span> + <span class="built_in">encodeURIComponent</span>(sign)</span><br><span class="line">        <span class="comment">// https://openapi.alipaydev.com/gateway.do æ²™æ¼ç¯å¢ƒ</span></span><br><span class="line">        <span class="comment">// https://openapi.alipay.com/gateway.do æ­£å¼ç¯å¢ƒ</span></span><br><span class="line">        <span class="keyword">const</span> url = <span class="string">`https://openapi.alipaydev.com/gateway.do?<span class="subst">$&#123;params&#125;</span>`</span></span><br><span class="line">        ctx.info(&#123; <span class="attr">message</span>: <span class="string">&#x27;åˆ›å»ºæ”¯ä»˜å‚æ•°æˆåŠŸ&#x27;</span>, <span class="attr">data</span>: &#123; url &#125; &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">post</span>: &#123;</span><br><span class="line">    <span class="comment">// æ”¯ä»˜å®å›è°ƒ</span></span><br><span class="line">    <span class="string">&#x27;/test/alipay/callback&#x27;</span>: [<span class="keyword">async</span> ctx =&gt; &#123; &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æ”¯ä»˜ä¿¡æ¯é“¾æ¥</p><p><img src="/image/zhifubao/409fe8b92de6a90b63cef300de9b23c3.png" alt="409fe8b92de6a90b63cef300de9b23c3.png"></p><p>4.æ”¯ä»˜ç•Œé¢</p><p>Â å‰å°æ”¯ä»˜ç•Œé¢Â <a href="https://opendocs.alipay.com/open/270/01arn8">https://opendocs.alipay.com/open/270/01arn8</a></p><p><img src="/image/zhifubao/0d1453f969811cbc5c3e46dcd98e642d.png" alt="0d1453f969811cbc5c3e46dcd98e642d.png"></p><p>5.ç”ŸæˆäºŒç»´ç </p><p><a href="https://opendocs.alipay.com/open/02ekfg?scene=19">apiè¯´æ˜</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// åˆ›å»ºå½“é¢äºŒç»´ç æ”¯ä»˜</span></span><br><span class="line">  <span class="string">&#x27;/test/alipay/qr&#x27;</span>: [</span><br><span class="line">    <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> paramsMap = &#123;</span><br><span class="line">        <span class="attr">app_id</span>: <span class="string">&#x27;xxxxxxä¿¡&#x27;</span>, <span class="comment">// åº”ç”¨id</span></span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;alipay.trade.precreate&#x27;</span>, <span class="comment">//è¯·æ±‚æ–¹å¼åç§°</span></span><br><span class="line">        <span class="comment">// method: &#x27;alipay.trade.create&#x27;,</span></span><br><span class="line">        <span class="attr">format</span>: <span class="string">&#x27;JSON&#x27;</span>,</span><br><span class="line">        <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span>,</span><br><span class="line">        <span class="attr">sign_type</span>: <span class="string">&#x27;RSA2&#x27;</span>,</span><br><span class="line">        <span class="attr">timestamp</span>: moment().format(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>),</span><br><span class="line">        <span class="attr">version</span>: <span class="string">&#x27;1.0&#x27;</span>,</span><br><span class="line">        <span class="attr">notify_url</span>: <span class="string">`https://<span class="subst">$&#123;nginx.server_name&#125;</span>/api-universal/test/aliay/callback`</span>, <span class="comment">// æ¥å£å›è°ƒ(é…ç½®ngrokæ˜ å°„httpsåœ°å€)</span></span><br><span class="line">        <span class="comment">// app_cert_sn: app_private_key, // ç§˜é’¥</span></span><br><span class="line">        <span class="comment">// alipay_root_cert_sn: app_public_key, // å…¬é’¥</span></span><br><span class="line">        <span class="attr">biz_content</span>: <span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">          <span class="attr">subject</span>: <span class="string">&#x27;æ”¯ä»˜å®äºŒç»´ç æ”¯ä»˜&#x27;</span>, <span class="comment">// äº¤æ˜“æ ‡é¢˜</span></span><br><span class="line">          <span class="attr">out_trade_no</span>: <span class="string">&#x27;1624678209672759&#x27;</span>, <span class="comment">// è®¢å•ç¼–å·</span></span><br><span class="line">          <span class="attr">total_amount</span>: <span class="number">0.01</span> <span class="comment">// æ”¯ä»˜é‡‘é¢</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æ‹¼æ¥å‚æ•°</span></span><br><span class="line">      <span class="keyword">let</span> objParams = <span class="built_in">Object</span>.keys(paramsMap)</span><br><span class="line">        .sort()</span><br><span class="line">        .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> key + <span class="string">&#x27;=&#x27;</span> + paramsMap[key]</span><br><span class="line">        &#125;)</span><br><span class="line">        .join(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">      <span class="comment">// RSA2åŠ å¯†ç­¾å</span></span><br><span class="line">      <span class="keyword">let</span> sign</span><br><span class="line">      <span class="keyword">let</span> signInit = crypto.createSign(<span class="string">&#x27;RSA-SHA256&#x27;</span>)</span><br><span class="line">      signInit.update(objParams, <span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">      <span class="comment">// æ”¯ä»˜å®ç§é’¥ç­¾å</span></span><br><span class="line">      <span class="comment">// console.log(app_private_key)</span></span><br><span class="line">      sign = signInit.sign(app_private_key, <span class="string">&#x27;base64&#x27;</span>)</span><br><span class="line">      <span class="keyword">const</span> gateway = <span class="string">&#x27;https://openapi.alipaydev.com&#x27;</span></span><br><span class="line">      <span class="comment">// const url = `$&#123;gateway&#125;/gateway.do?$&#123;params&#125;`</span></span><br><span class="line">      paramsMap.sign = sign</span><br><span class="line">      <span class="comment">// å¯¹æ¥æ”¯ä»˜å®æ¥å£,ç”Ÿæˆåœ°å€</span></span><br><span class="line">      <span class="keyword">const</span> server = MAPP.creatServer(gateway)</span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">await</span> server.get(<span class="string">&#x27;/gateway.do&#x27;</span>, &#123; <span class="attr">params</span>: paramsMap &#125;)</span><br><span class="line">      <span class="built_in">console</span>.log(response.data) <span class="comment">//è¿”å›ä¿¡æ¯</span></span><br><span class="line">      <span class="comment">// &#123;</span></span><br><span class="line">      <span class="comment">//   alipay_trade_precreate_response: &#123;</span></span><br><span class="line">      <span class="comment">//     code: &#x27;10000&#x27;,</span></span><br><span class="line">      <span class="comment">//     msg: &#x27;Success&#x27;,</span></span><br><span class="line">      <span class="comment">//     out_trade_no: &#x27;xxxxxx&#x27;,</span></span><br><span class="line">      <span class="comment">//     qr_code: &#x27;https://qr.alipay.com/bax05172lthykirrqxus00f5&#x27; // åœ°å€è¦ç”¨å·¥å…·ç”ŸæˆäºŒç»´ç æ‰«æ</span></span><br><span class="line">      <span class="comment">//   &#125;,</span></span><br><span class="line">      <span class="comment">//   sign: &#x27;&#x27;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">userAuth</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>æ³¨æ„:</p><h1 id="æ˜¾ç¤º-ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•"><a href="#æ˜¾ç¤º-ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•" class="headerlink" title="æ˜¾ç¤º:ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•"></a><strong>æ˜¾ç¤º:ç å·²å¤±æ•ˆï¼Œè¯·åˆ·æ–°äºŒç»´ç åé‡è¯•</strong></h1><p>è§£å†³åŠæ³•: å°±æ˜¯ä½¿ç”¨æ²™ç®±ç‰ˆæœ¬çš„æ”¯ä»˜å®APPæ‰«ææˆ–è€…ä½¿ç”¨æ²™ç®±ç‰ˆæœ¬çš„æ”¯ä»˜å®è´¦å·å¯†ç ç™»å½•ä»˜æ¬¾å³å¯ã€‚</p><p>æ‰“å¼€å¼€æ”¾å¹³å°,Â æ²™ç®±å·¥å…·ä¸­ä¸‹è½½æ²™æ¼ç‰ˆé’±åŒ…</p><p><a href="https://open.alipay.com/platform/appDaily.htm?tab=tool">https://open.alipay.com/platform/appDaily.htm?tab=tool</a></p>]]></content>
    
    
    <summary type="html">æ”¯ä»˜å®æ¥å£å¼€å‘</summary>
    
    
    
    <category term="æ”¯ä»˜å®" scheme="https://wecy-chen.github.io/categories/%E6%94%AF%E4%BB%98%E5%AE%9D/"/>
    
    
  </entry>
  
  <entry>
    <title>hexo</title>
    <link href="https://wecy-chen.github.io/2021/11/17/hexo/"/>
    <id>https://wecy-chen.github.io/2021/11/17/hexo/</id>
    <published>2021-11-17T07:03:57.000Z</published>
    <updated>2022-06-24T01:37:35.183Z</updated>
    
    <content type="html"><![CDATA[<p>hexoæ•™ç¨‹</p><p>å®˜ç½‘ <a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><p><strong>1. å®‰è£…node</strong><br><a href="https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a></p><p>$ node -v<br>v14.17.0</p><p>$ npm -v<br>6.14.13</p><p><strong>2. å…¨å±€å®‰è£…è„šæ‰‹æ¶</strong><br>npm install -g hexo-cli</p><p><strong>3. å®‰è£…ä¾èµ–åŒ…</strong><br>npm install hexo</p><p><strong>4. ä¸»é¢˜</strong><br>ä¸‹è½½ä¸»é¢˜ åˆ°themesæ–‡ä»¶å†…<br>npm i hexo-theme-butterfly<br>æˆ–è€…<br>git clone -b master <a href="https://github.com/jerryc127/hexo-theme-butterfly.git">https://github.com/jerryc127/hexo-theme-butterfly.git</a> themes/butterfly</p><p>ä¿®æ”¹_config.yml å¸ƒå±€é…ç½®ä¸»é¢˜æ–‡ä»¶<br>ä¸»é¢˜é…ç½®æ•™ç¨‹<br><a href="https://www.jianshu.com/p/50a565adaf15?ivk_sa=1024320u">https://www.jianshu.com/p/50a565adaf15?ivk_sa=1024320u</a></p><p>æ¢ä¸»é¢˜,è°ƒæ•´æ¸…é™¤ç¼“å­˜<br>hexo clean</p><p>ä¸»é¢˜æŠ¥é”™å¤„ç†</p><p><a href="https://zhuanlan.zhihu.com/p/137946156">https://zhuanlan.zhihu.com/p/137946156</a></p><p><strong>5. éƒ¨ç½²</strong><br>é…ç½®é¢„è§ˆéƒ¨ç½²è·¯å¾„<br>npm install hexo-deployer-git â€“save<br>_config.yml<br>deploy:<br>  type: git<br>  repository: <a href="mailto:&#x67;&#105;&#116;&#64;&#x67;&#x69;&#116;&#104;&#x75;&#98;&#x2e;&#99;&#x6f;&#x6d;">&#x67;&#105;&#116;&#64;&#x67;&#x69;&#116;&#104;&#x75;&#98;&#x2e;&#99;&#x6f;&#x6d;</a>:wecy-chen/wecy-chen.github.io.git<br>  branch: master</p><blockquote><p>hexo d</p><ol><li>hexo g ç¼–è¯‘æ–‡ä»¶</li><li>hexo server  åˆ›å»ºæœ¬åœ°æœåŠ¡å™¨ <a href="http://localhost:4000/">http://localhost:4000/</a></li><li>hexo d å‘å¸ƒçº¿ä¸Šé¢„è§ˆåœ°å€</li></ol></blockquote>]]></content>
    
    
    <summary type="html">è¿™æ˜¯ä¸€ä¸ªhexoåšå®¢çš„</summary>
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wecy-chen.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wecy-chen.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>å°è±¡ç¬”è®°å¯¼å‡ºmdæ–‡ä»¶</title>
    <link href="https://wecy-chen.github.io/2021/11/01/yinxiangbiji/"/>
    <id>https://wecy-chen.github.io/2021/11/01/yinxiangbiji/</id>
    <published>2021-11-01T01:26:42.000Z</published>
    <updated>2022-06-24T01:36:18.416Z</updated>
    
    <content type="html"><![CDATA[<!-- # å°è±¡ç¬”è®°å¯¼å‡ºmdæ–‡ä»¶ --><p>å°è±¡ç¬”è®°å¯¼å‡ºmdæ–‡ä»¶</p><p>åœ°å€:<br><a href="https://github.com/wormi4ok/evernote2md">https://github.com/wormi4ok/evernote2md</a></p><p>æ’ä»¶åœ°å€Â </p><p>å°è±¡ç¬”è®°å¯¼å‡ºmdæ–‡ä»¶æ–¹æ³•</p><ul><li><strong>1.å…ˆå¯¼å‡ºæ ¼å¼</strong></li></ul><p>Â Â  Â Â Â  Â Â Â  Â enexæ ¼å¼</p><p><img src="/image/yinxiang/download.png" alt="downlaod.png"></p><ul><li><strong>2.ä½¿ç”¨å¯¼å‡ºå·¥å…·(æŒ‰å¹³å°ä½¿ç”¨ç¯å¢ƒ)</strong></li></ul><p>githubÂ <a href="https://github.com/wormi4ok/evernote2md">https://github.com/wormi4ok/evernote2md</a></p><p>ä¸‹è½½åœ°å€:Â <a href="https://github.com/wormi4ok/evernote2md/releases/tag/v0.17.1">https://github.com/wormi4ok/evernote2md/releases/tag/v0.17.1</a></p><p><img src="/image/yinxiang/save.png" alt="save.png"></p><ul><li><strong>3.windowsç¯å¢ƒä¸‹çš„ä½¿ç”¨æ–¹æ³•</strong></li></ul><p>æŠŠevernote2md.exeæ‹–æ‹½åˆ°ç»ˆç«¯æ§åˆ¶å°,ç„¶åç©ºæ ¼,æ‹–æ‹½è¦ç›®æ ‡enexæ–‡ä»¶,è½¬åŒ–æˆåŠŸå¯¼å‡ºmdæ–‡ä»¶</p><p>å‘½ä»¤: è‡ªåŠ¨å¯¼å‡ºç›®æ ‡æ–‡ä»¶</p><p>$ /d/Desktop/å°è±¡ç¬”è®°å¯¼å‡º/evernote2md.exe /d/Desktop/å°è±¡ç¬”è®°å¯¼å‡º/YinXiangBiJi.enex</p>]]></content>
    
    
    <summary type="html">å°è±¡ç¬”è®°å¯¼å‡ºmdæ–‡ä»¶</summary>
    
    
    
    <category term="å°è±¡ç¬”è®°" scheme="https://wecy-chen.github.io/categories/%E5%8D%B0%E8%B1%A1%E7%AC%94%E8%AE%B0/"/>
    
    
  </entry>
  
  <entry>
    <title>ä»£ç ç‰‡æ®µ</title>
    <link href="https://wecy-chen.github.io/2018/07/31/core/"/>
    <id>https://wecy-chen.github.io/2018/07/31/core/</id>
    <published>2018-07-30T23:04:35.000Z</published>
    <updated>2022-03-19T01:56:17.922Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å»é‡"><a href="#å»é‡" class="headerlink" title="å»é‡"></a>å»é‡</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§æ–¹æ³•  </span></span><br><span class="line"><span class="built_in">Array</span>.prototype.unique = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//åœ¨åŸå‹ä¸ŠåŠ æ–¹æ³•</span></span><br><span class="line"> <span class="keyword">var</span> res = [];</span><br><span class="line"> <span class="keyword">var</span> json = &#123;&#125;;</span><br><span class="line"> <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++)&#123;</span><br><span class="line">  <span class="keyword">if</span>(!json[<span class="built_in">this</span>[i]])&#123; <span class="comment">//æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">   res.push(<span class="built_in">this</span>[i]);</span><br><span class="line">   json[<span class="built_in">this</span>[i]] = <span class="number">1</span>; <span class="comment">//ä¿å­˜äº†</span></span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">112</span>,<span class="number">112</span>,<span class="number">34</span>,<span class="string">&#x27;ä½ å¥½&#x27;</span>,<span class="number">112</span>,<span class="number">112</span>,<span class="number">34</span>,<span class="string">&#x27;ä½ å¥½&#x27;</span>,<span class="string">&#x27;str&#x27;</span>,<span class="string">&#x27;str1&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(arr.unique())  <span class="comment">//[112, 34, &quot;ä½ å¥½&quot;, &quot;str&quot;, &quot;str1&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.</span></span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦ç¬¬ä¸€ä¸ªindex,è¿”å›ç¬¬ä¸€å‡ºç°çš„å€¼</span></span><br><span class="line"><span class="keyword">let</span> uniqueArr=arr.filter(<span class="function">(<span class="params">item,index,arr</span>)=&gt;</span>arr.indexOf(item)==index)</span><br><span class="line"><span class="built_in">console</span>.log(uniqueArr) <span class="comment">//[112, 34, &quot;ä½ å¥½&quot;, &quot;str&quot;, &quot;str1&quot;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.es6 Setæ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> a =[...new <span class="built_in">Set</span>(arr)]</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">//[112, 34, &quot;ä½ å¥½&quot;, &quot;str&quot;, &quot;str1&quot;]</span></span><br></pre></td></tr></table></figure><h1 id="é˜²æŠ–ä¸èŠ‚æµ"><a href="#é˜²æŠ–ä¸èŠ‚æµ" class="headerlink" title="é˜²æŠ–ä¸èŠ‚æµ"></a>é˜²æŠ–ä¸èŠ‚æµ</h1><p><a href="https://mp.weixin.qq.com/s/Vkshf-nEDwo2ODUJhxgzVA">JSçš„é˜²æŠ–ä¸èŠ‚æµ</a></p><p><strong>é˜²æŠ–</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(timeout !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">        &#125;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(fn, wait)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random()); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ»šåŠ¨äº‹ä»¶</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, debounce(handle, <span class="number">1000</span>));</span><br></pre></td></tr></table></figure><p><strong>èŠ‚æµ</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//èŠ‚æµ</span></span><br><span class="line"><span class="keyword">var</span> throttle = <span class="function"><span class="keyword">function</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">     <span class="keyword">var</span> startTime = <span class="built_in">Date</span>.now();</span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">             <span class="keyword">var</span> curTime = <span class="built_in">Date</span>.now();</span><br><span class="line">             <span class="keyword">var</span> remaining = delay - (curTime - startTime);</span><br><span class="line">             <span class="keyword">var</span> context = <span class="built_in">this</span>;</span><br><span class="line">             <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">             <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">              <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    func.apply(context, args);</span><br><span class="line">                    startTime = <span class="built_in">Date</span>.now();</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123; <span class="comment">// è¶…1så¤šå‡ºæ—¶é—´æ‰§è¡Œ</span></span><br><span class="line">                    timer = <span class="built_in">setTimeout</span>(func, remaining);</span><br><span class="line">              &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å½“ç¬¬ä¸€æ¬¡è§¦å‘äº‹ä»¶æ—¶é©¬ä¸Šæ‰§è¡Œäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæœ€åä¸€æ¬¡è§¦å‘äº‹ä»¶åä¹Ÿè¿˜ä¼šæ‰§è¡Œä¸€æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°</span></span><br><span class="line"> <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, throttle(handle, <span class="number">3000</span>));</span><br></pre></td></tr></table></figure><h1 id="å¤šçº§æ•°ç»„å˜ä¸€çº§-æ‰å¹³"><a href="#å¤šçº§æ•°ç»„å˜ä¸€çº§-æ‰å¹³" class="headerlink" title="å¤šçº§æ•°ç»„å˜ä¸€çº§(æ‰å¹³)"></a>å¤šçº§æ•°ç»„å˜ä¸€çº§(æ‰å¹³)</h1> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,[<span class="string">&#x27;a&#x27;</span>,<span class="number">55</span>,[<span class="number">111</span>,&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&#x27;bbb&#x27;</span>&#125;]]]</span><br><span class="line">    <span class="keyword">var</span> empty=[]</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">flat</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">      arr.forEach(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> item===<span class="string">&#x27;string&#x27;</span> || <span class="keyword">typeof</span> item===<span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">          empty.push(item)</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">Array</span>.isArray(item))&#123;  </span><br><span class="line">        <span class="comment">//åˆ¤æ–­æ•°ç»„ 1.typeof item ===&#x27;object&#x27; &amp;&amp;item instanceof Array</span></span><br><span class="line">        <span class="comment">// 2. Object.prototype.toString.call(item)===&#x27;[object Array]&#x27;</span></span><br><span class="line">          flat(item) </span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          empty.push(item)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> empty</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(flat(arr)) <span class="comment">// [1, 2, 3, 4, &quot;a&quot;, 55, 111, &#123;&quot;name&quot;:&#x27;bbb&#x27;&#125;]</span></span><br></pre></td></tr></table></figure><h1 id="åƒåˆ†ç¬¦"><a href="#åƒåˆ†ç¬¦" class="headerlink" title="åƒåˆ†ç¬¦"></a>åƒåˆ†ç¬¦</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;3562123761&quot;</span>;<span class="comment">//[3,562,123,761]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> iNum=str.length%<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> prev=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">var</span> arr=[];</span><br><span class="line">    <span class="keyword">var</span> iNow=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> tmp=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(iNum !=<span class="number">0</span>)&#123; <span class="comment">//ä¸æ˜¯ä¸‰çš„æ•´é™¤,å…ˆæ”¾åœ¨æ•°ç»„</span></span><br><span class="line">        prev =str.substring(<span class="number">0</span>,iNum);</span><br><span class="line">        arr.push(prev)</span><br><span class="line">    &#125;</span><br><span class="line">    str =str.substring(iNum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;str.length;i++)&#123;</span><br><span class="line">        iNow++;</span><br><span class="line">        tmp+=str[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(iNow==<span class="number">3</span>&amp;&amp;tmp)&#123;</span><br><span class="line">            arr.push(tmp) <span class="comment">//ä¸‰ä¸ªæ•°å­—ä¸€ç»„</span></span><br><span class="line">            tmp=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            iNow=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//console.log(arr)</span></span><br><span class="line">    <span class="keyword">return</span> arr.join(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(test(str));</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­£åˆ™</span></span><br><span class="line"><span class="comment">//(?=)å‰é¡¹å£°æ˜</span></span><br><span class="line"><span class="comment">//(?!)åå‰å‘å£°æ˜</span></span><br><span class="line"><span class="comment">//ä¾‹å­</span></span><br><span class="line"><span class="keyword">var</span> str1=<span class="string">&#x27;abacad&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> re=<span class="regexp">/a(?=b)/g</span></span><br><span class="line">str1=str1.replace(re,<span class="string">&quot;*&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str1);<span class="comment">//*bacad</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> re2=<span class="regexp">/a(?!b)/g</span></span><br><span class="line"><span class="keyword">var</span> str2=str1.replace(re2,<span class="string">&quot;*&quot;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(str2);<span class="comment">//*b*c*d</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> re=<span class="regexp">/(?=(?!\b)(\d&#123;3&#125;)+$)/g</span>; <span class="comment">//è¾¹ç•Œä¸èƒ½æ›¿æ¢</span></span><br><span class="line">    <span class="keyword">return</span> str.replace(re,<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(test2(str));<span class="comment">//3,562,123,761</span></span><br></pre></td></tr></table></figure><h1 id="é©¼å³°å‘½åæ³•"><a href="#é©¼å³°å‘½åæ³•" class="headerlink" title="é©¼å³°å‘½åæ³•"></a>é©¼å³°å‘½åæ³•</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">&quot;border-bottom-color&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr=str.split(<span class="string">&quot;-&quot;</span>);<span class="comment">//[border,bottom,color]</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        arr[i]=arr[i].charAt(<span class="number">0</span>).toUpperCase()+arr[i].substring(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr.join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(test(str));<span class="comment">//borderBottomColor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.æ­£åˆ™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">str</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> re=<span class="regexp">/-(\w)/g</span>;</span><br><span class="line">    <span class="keyword">return</span> str.replace(re,<span class="function"><span class="keyword">function</span>(<span class="params">$<span class="number">0</span>,$<span class="number">1</span></span>)</span>&#123; <span class="comment">//-b b</span></span><br><span class="line">        <span class="keyword">return</span> $<span class="number">1.</span>toUpperCase()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(test2(str));<span class="comment">//borderBottomColor</span></span><br></pre></td></tr></table></figure><h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><p><a href="https://segmentfault.com/a/1190000015347051#articleHeader0">Javascriptå¸¸è§æ’åºç®—æ³•çš„ç¬”è®°</a></p><p><strong>ä»å°åˆ°å¤§æ’åº</strong></p><h2 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">15</span>, <span class="number">55</span>, <span class="number">99</span>, <span class="number">77</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">let</span> time = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bubbleSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = arr.length</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; len - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">            time++</span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">var</span> temp</span><br><span class="line">                temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>]</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(time) <span class="comment">//21</span></span><br><span class="line"><span class="built_in">console</span>.log(bubbleSort(arr)) <span class="comment">//[0, 2, 8, 15, 55, 77, 99]</span></span><br></pre></td></tr></table></figure><h2 id="äºŒåˆ†æ³•æ’åº"><a href="#äºŒåˆ†æ³•æ’åº" class="headerlink" title="äºŒåˆ†æ³•æ’åº"></a>äºŒåˆ†æ³•æ’åº</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Arr = [<span class="number">85</span>, <span class="number">24</span>, <span class="number">63</span>, <span class="number">45</span>, <span class="number">17</span>, <span class="number">31</span>, <span class="number">96</span>, <span class="number">50</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quickSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.length &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> pivotIndex = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">let</span> pivot = arr.splice(pivotIndex, <span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> left = [];</span><br><span class="line">    <span class="keyword">let</span> right = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class="line">            left.push(arr[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat([pivot], quickSort(right));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(quickSort(Arr));<span class="comment">//[17, 24, 31, 45, 50, 63, 85, 96]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ·»åŠ class"><a href="#æ·»åŠ class" class="headerlink" title="æ·»åŠ class"></a>æ·»åŠ class</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">el, className</span>) </span>&#123; <span class="comment">//åŠ class</span></span><br><span class="line">   <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">&#x27;(^|\\s)&#x27;</span> + className + <span class="string">&#x27;(\\s|$)&#x27;</span>) <span class="comment">//&quot;className&quot; æˆ–è€… â€œ   className     â€</span></span><br><span class="line">   <span class="keyword">if</span> (reg.test(el.className)) &#123; <span class="comment">//åˆ¤æ–­æ˜¯å¦æœ‰class</span></span><br><span class="line">     <span class="keyword">return</span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//åŠ ä¸Šclasså</span></span><br><span class="line">   <span class="keyword">let</span> newClass = el.className.split(<span class="string">&#x27; &#x27;</span>)  <span class="comment">//æ‹†åˆ†</span></span><br><span class="line">   newClass.push(className) <span class="comment">//æ·»åŠ </span></span><br><span class="line">   el.className = newClass.join(<span class="string">&#x27; &#x27;</span>) <span class="comment">//å­—ç¬¦ä¸²</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1 id="è®¾ç½®dataèŠ‚ç‚¹å±æ€§"><a href="#è®¾ç½®dataèŠ‚ç‚¹å±æ€§" class="headerlink" title="è®¾ç½®dataèŠ‚ç‚¹å±æ€§"></a>è®¾ç½®dataèŠ‚ç‚¹å±æ€§</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">el, name, val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> prefix = <span class="string">&#x27;data-&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (val) &#123;  </span><br><span class="line">    <span class="keyword">return</span> el.setAttribute(prefix + name, val)  <span class="comment">//è®¾ç½®</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> el.getAttribute(prefix + name)  <span class="comment">//è·å–</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æµè§ˆå™¨csså‰ç¼€çš„å…¼å®¹"><a href="#æµè§ˆå™¨csså‰ç¼€çš„å…¼å®¹" class="headerlink" title="æµè§ˆå™¨csså‰ç¼€çš„å…¼å®¹"></a>æµè§ˆå™¨csså‰ç¼€çš„å…¼å®¹</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¾ç½®æµè§ˆå™¨çš„å…¼å®¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prefixStyle</span>(<span class="params">style</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> elementStyle = <span class="built_in">document</span>.createElement(<span class="string">&#x27;div&#x27;</span>).style</span><br><span class="line">    <span class="comment">//ä¾›åº”å•†</span></span><br><span class="line">    <span class="keyword">let</span> vendor = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> transformNames = &#123;</span><br><span class="line">            <span class="attr">webkit</span>: <span class="string">&#x27;webkitTransform&#x27;</span>,</span><br><span class="line">            <span class="attr">Moz</span>: <span class="string">&#x27;MozTransform&#x27;</span>,</span><br><span class="line">            <span class="attr">O</span>: <span class="string">&#x27;OTransform&#x27;</span>,</span><br><span class="line">            <span class="attr">ms</span>: <span class="string">&#x27;msTransform&#x27;</span>,</span><br><span class="line">            <span class="attr">standard</span>: <span class="string">&#x27;transform&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> transformNames) &#123;</span><br><span class="line">            <span class="keyword">if</span> (elementStyle[transformNames[key]] !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> key <span class="comment">//è¿”å›å‰ç¼€</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;)()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (vendor === <span class="literal">false</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (vendor === <span class="string">&#x27;standard&#x27;</span>) &#123; <span class="comment">//æ ‡å‡†,æ²¡æœ‰å‰ç¼€</span></span><br><span class="line">        <span class="keyword">return</span> style</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> vendor + style.charAt(<span class="number">0</span>).toUpperCase() + style.substr(<span class="number">1</span>) <span class="comment">//é©¼å³°å‘½å</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line">alert(prefixStyle(<span class="string">&#x27;transform&#x27;</span>))<span class="comment">// webkitTransform  (è°·æ­Œæµè§ˆå™¨ webkitå†…æ ¸)</span></span><br></pre></td></tr></table></figure><h1 id="è·å–DOMå¤§å°å’Œä½ç½®"><a href="#è·å–DOMå¤§å°å’Œä½ç½®" class="headerlink" title="è·å–DOMå¤§å°å’Œä½ç½®"></a>è·å–DOMå¤§å°å’Œä½ç½®</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRect</span>(<span class="params">el</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (el <span class="keyword">instanceof</span> <span class="built_in">window</span>.SVGElement) &#123;</span><br><span class="line">    <span class="keyword">let</span> rect = el.getBoundingClientRect()</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">top</span>: rect.top,</span><br><span class="line">      <span class="attr">left</span>: rect.left,</span><br><span class="line">      <span class="attr">width</span>: rect.width,</span><br><span class="line">      <span class="attr">height</span>: rect.height</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">top</span>: el.offsetTop,</span><br><span class="line">      <span class="attr">left</span>: el.offsetLeft,</span><br><span class="line">      <span class="attr">width</span>: el.offsetWidth,</span><br><span class="line">      <span class="attr">height</span>: el.offsetHeight</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h1><h2 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h2><p>  å¯¹è±¡æœ¬èº«çš„å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.name=name</span><br><span class="line">&#125;</span><br><span class="line">Foo.prototype.alertName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="built_in">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Foo(<span class="string">&#x27;å°æ˜&#x27;</span>)</span><br><span class="line">f.printName=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)   <span class="comment">//å°æ˜</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line">f.printName() </span><br><span class="line">f.alertName()</span><br><span class="line">f.toString() <span class="comment">//è¦å»f.__proto__.__proto__ä¸­æŸ¥æ‰¾</span></span><br><span class="line"><span class="keyword">var</span> item </span><br><span class="line"><span class="keyword">for</span>(item <span class="keyword">in</span> f)&#123;</span><br><span class="line">  <span class="comment">//é«˜çº§æµè§ˆå™¨å·²ç»åœ¨ for in ä¸­ å±è”½äº†æ¥è‡ªåŸå‹çš„å±æ€§</span></span><br><span class="line">  <span class="comment">//ä½†æ˜¯è¿™é‡Œè¿˜æ˜¯å»ºè®®å¤§å®¶è¿˜æ˜¯åŠ ä¸Šè¿™ä¸ªåˆ¤æ–­,ä¿è¯ç¨‹åºçš„å¥å£®æ€§</span></span><br><span class="line">  <span class="keyword">if</span>(f.hasOwnProperty(item))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(item)  <span class="comment">// name printName</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p><img src="%E5%8E%9F%E5%9E%8B%E9%93%BE.jpg" alt="åŸå‹é“¾"></p><p> <strong>instanceof</strong><br>ç”¨äºåˆ¤æ–­<code>å¼•ç”¨ç±»å‹</code>å±äºå“ªä¸ª<code>æ„é€ å‡½æ•°</code>çš„æ–¹æ³•</p><ul><li>f instanceof çš„åˆ¤æ–­é€»è¾‘æ˜¯:</li></ul><ol><li>fçš„__proto__ä¸€å±‚ä¸€å±‚å¾€ä¸Š,èƒ½å¦æ‰¾æ‰“å¯¹åº”åˆ°Foo.prototype</li><li>å†è¯•åˆ¤æ–­f instanceof Object</li></ol><h2 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h2><p>å˜é‡ å±äº æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[]</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">//true</span></span><br><span class="line"><span class="keyword">typeof</span> arr <span class="comment">//object, typeof æ˜¯æ— æ³•åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„çš„</span></span><br></pre></td></tr></table></figure><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>DOMæ“ä½œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Elem</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.elem = <span class="built_in">document</span>.getElementById(id)</span><br><span class="line">&#125;</span><br><span class="line">Elem.prototype.html = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123; <span class="comment">//è®¾ç½®/è·å–innerHTML</span></span><br><span class="line">    <span class="keyword">var</span> elem = <span class="built_in">this</span>.elem</span><br><span class="line">    <span class="keyword">if</span> (val) &#123;</span><br><span class="line">        elem.innerHTML = val</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span> <span class="comment">//é“¾å¼æ“ä½œ</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> elem.innerHTML</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Elem.prototype.on = <span class="function"><span class="keyword">function</span>(<span class="params">type,fn</span>) </span>&#123; <span class="comment">//ç»‘å®šäº‹ä»¶</span></span><br><span class="line">  <span class="keyword">var</span> elem=<span class="built_in">this</span>.elem</span><br><span class="line">  elem.addEventListener(type,fn)</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> div1 = <span class="keyword">new</span> Elem(<span class="string">&#x27;div1&#x27;</span>) <span class="comment">//è·å–è®¾ç½®idç±»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//console.log(div1.html()) //innerHTML</span></span><br><span class="line">div1.html(<span class="string">&quot;&lt;p&gt;hello world&lt;/p&gt;&quot;</span>).on(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="string">&#x27;clicked&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="æ·±å±‚æ‹·è´"><a href="#æ·±å±‚æ‹·è´" class="headerlink" title="æ·±å±‚æ‹·è´"></a>æ·±å±‚æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newObj=obj <span class="keyword">instanceof</span> <span class="built_in">Array</span> ? []:&#123;&#125;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">    newObj[key]= <span class="keyword">typeof</span> obj[key]===<span class="string">&#x27;object&#x27;</span>? deepClone(obj[key]):obj[key]</span><br><span class="line">  &#125; </span><br><span class="line">  <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h1><p>  <code>Date.now()</code> //è·å–å½“å‰æ¯«ç§’æ•°1531824326654<br>    <code>new Date().getTime()</code>//è·å–æ¯«ç§’æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTime</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> dt=<span class="keyword">new</span> <span class="built_in">Date</span>() <span class="comment">//ä¸­å›½æ ‡å‡†æ—¶é—´</span></span><br><span class="line">  <span class="keyword">var</span> year=dt.getFullYear() <span class="comment">//å¹´</span></span><br><span class="line">  <span class="keyword">var</span> month=dt.getMonth()+<span class="number">1</span> <span class="comment">//æœˆ(0-11)</span></span><br><span class="line">  <span class="keyword">var</span> date=dt.getDate() <span class="comment">//æ—¥(0-31)</span></span><br><span class="line">  <span class="keyword">var</span> hour=dt.getHours() <span class="comment">//æ—¶(0-23)</span></span><br><span class="line">  <span class="keyword">var</span> minute=dt.getMinutes() <span class="comment">//åˆ† (0-59)</span></span><br><span class="line">  <span class="keyword">var</span> second=dt.getSeconds() <span class="comment">//ç§’ (0-59)</span></span><br><span class="line">  <span class="keyword">return</span> year+<span class="string">&#x27;-&#x27;</span>+month+<span class="string">&#x27;-&#x27;</span>+date+<span class="string">&#x27; &#x27;</span>+hour+<span class="string">&#x27;:&#x27;</span>+minute+<span class="string">&#x27;:&#x27;</span>+second</span><br><span class="line">&#125;</span><br><span class="line">getTime() <span class="comment">//2018-6-17 18:58:22</span></span><br></pre></td></tr></table></figure><h1 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h1><h2 id="é˜¶ä¹˜"><a href="#é˜¶ä¹˜" class="headerlink" title="é˜¶ä¹˜"></a>é˜¶ä¹˜</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¹¦P70 å¯ä»¥è¢«es6å¼•æ“ä¼˜åŒ–</span></span><br><span class="line"><span class="comment">//é˜¶ä¹˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span>(<span class="params">n,p=<span class="number">1</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>*p</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result =n*p</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¼˜åŒ–å</span></span><br><span class="line">    <span class="keyword">return</span> factorial(n-<span class="number">1</span>,result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">factorial(<span class="number">3</span>)<span class="comment">//6</span></span><br></pre></td></tr></table></figure><p>##è²æ³¢é‚£å¥‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è²æ³¢é‚£å¥‘ </span></span><br><span class="line"><span class="comment">//1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fibo</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &gt;= <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> fibo(n - <span class="number">1</span>) + fibo(n - <span class="number">2</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fibo(<span class="number">3</span>) <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€ä¼˜è§£</span></span><br><span class="line"><span class="comment">// è²æ³¢é‚£å¥‘å¯èƒ½æ˜¯æœ€æ™®é€šçš„è§£æ³•</span></span><br><span class="line"><span class="keyword">var</span> series = <span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> sum = [<span class="number">0</span>, <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">if</span>(n &lt; <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> sum[n];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> firstNum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> secondNum = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">2</span>; i&lt;= n; i++) &#123;</span><br><span class="line">    total = firstNum + secondNum;</span><br><span class="line">    firstNum = secondNum;</span><br><span class="line">    secondNum = total;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> total;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æµè§ˆå™¨å†…ç½®å¯¹è±¡"><a href="#æµè§ˆå™¨å†…ç½®å¯¹è±¡" class="headerlink" title="æµè§ˆå™¨å†…ç½®å¯¹è±¡"></a>æµè§ˆå™¨å†…ç½®å¯¹è±¡</h1><h2 id="navigator"><a href="#navigator" class="headerlink" title="navigator"></a>navigator</h2><p>navigator.userAgent  æµè§ˆå™¨ä»£ç†å™¨åç§°</p><h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><p>ä¾‹å­<br>location.href=â€™è·³è½¬çš„åœ°å€â€™<br><code>https://www.baidu.com/index.html?id=99&amp;a=b#mid=100</code></p><table>  <tr><td>location</td><td>å€¼</td></tr>  <tr><td>location.protocol</td><td>https:</td></tr>  <tr><td>location.pathname</td><td>/index.html</td></tr>  <tr><td>location.search</td><td>?id=99&a=b</td></tr>  <tr><td>location.hash</td><td>#mid=100</td></tr></table><h1 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h1><p>event. stopPropagatio()æ˜¯é˜»æ­¢å†’æ³¡äº‹ä»¶çš„æ–¹æ³•ï¼Œ<br>åœ¨ieæµè§ˆå™¨ä¸Šæ²¡æœ‰stopPropagatio()è¿™ä¸ªæ–¹æ³•ï¼Œ<br>åœ¨ieä¸Šè¦ç”¨e.cancelBubble=trueé˜»æ­¢å†’æ³¡äº‹ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stopPropagation</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> e=<span class="built_in">window</span>.event||event;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.all)&#123;</span><br><span class="line">        e.cancelBubble=<span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        e.stopPropagation();<span class="comment">//é˜»æ­¢å†’æ³¡</span></span><br><span class="line">        e.preventDefault()<span class="comment">// å–æ¶ˆé»˜è®¤è¡Œä¸º</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº‹ä»¶å§”æ‰˜ä»£ç†"><a href="#äº‹ä»¶å§”æ‰˜ä»£ç†" class="headerlink" title="äº‹ä»¶å§”æ‰˜ä»£ç†"></a>äº‹ä»¶å§”æ‰˜ä»£ç†</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¿™æ˜¯aæ ‡ç­¾<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;div1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">div1.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> target=e.target</span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span>(target.nodeName===<span class="string">&#x27;A&#x27;</span>)&#123;</span></span><br><span class="line"><span class="javascript">    alert(target.innerHTML)</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å®Œå–„å°è£…ä»£ç†</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params">elem,type,selector,fn</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(fn==<span class="literal">null</span>)&#123; <span class="comment">//3ä¸ªå‚æ•°</span></span><br><span class="line">    fn=selector</span><br><span class="line">    selector=<span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  elem.addEventListener(type,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tar<span class="keyword">get</span></span><br><span class="line">    <span class="title">if</span>(<span class="params">selector</span>)&#123; <span class="comment">//å››ä¸ªå‚æ•°(ä»£ç†)</span></span><br><span class="line">      target=e.target</span><br><span class="line">      <span class="built_in">console</span>.log(target)</span><br><span class="line">      <span class="keyword">if</span> (target.matches(selector))&#123;</span><br><span class="line">        fn.call(target,e)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123; <span class="comment">//æ²¡æœ‰ä»£ç†</span></span><br><span class="line">      fn(e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨ä»£ç†</span></span><br><span class="line"><span class="keyword">var</span> div1=<span class="built_in">document</span>.getElementById(<span class="string">&#x27;div1&#x27;</span>)</span><br><span class="line">bindEvent(div1,<span class="string">&#x27;click&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>.innerHTML)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//ä¸ä½¿ç”¨ä»£ç†</span></span><br><span class="line"><span class="comment">// var a=document.getElementById(&#x27;a1&#x27;)</span></span><br><span class="line"><span class="comment">// bindEvent(div1,&#x27;click&#x27;,function(e)&#123;</span></span><br><span class="line"><span class="comment">//   console.log(a.innerHTML)</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br></pre></td></tr></table></figure><h1 id="ajax"><a href="#ajax" class="headerlink" title="ajax"></a>ajax</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr =<span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">xhr.open(<span class="string">&#x27;GET&#x27;</span>,<span class="string">&#x27;/api&#x27;</span>,<span class="literal">false</span>)</span><br><span class="line">xhr.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">//è¿™é‡Œçš„å‡½æ•°å¼‚æ­¥æ‰§è¡Œ</span></span><br><span class="line">  <span class="keyword">if</span>(xhr.readyState=<span class="number">4</span>)&#123; <span class="comment">//ajaxçŠ¶æ€ç </span></span><br><span class="line">    <span class="keyword">if</span>(xhr.status==<span class="number">200</span>)&#123; <span class="comment">//httpè¯·æ±‚çŠ¶æ€ç </span></span><br><span class="line">      alert(xhr.responseText)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xhr.send(<span class="literal">null</span>)</span><br></pre></td></tr></table></figure><h1 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h1><p>å¼‚æ­¥æ¨¡å—å®šä¹‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.util.js</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> util=&#123;</span><br><span class="line">    <span class="attr">getFormatData</span>:<span class="function"><span class="keyword">function</span>(<span class="params">date,type</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(type===<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;2018-06-20&#x27;</span></span><br><span class="line">      &#125;<span class="keyword">if</span>(type===<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;2018å¹´6æœˆ20æ—¥&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> util</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//2.a-util.js</span></span><br><span class="line">define([<span class="string">&#x27;./util.js&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">util</span>)</span>&#123; </span><br><span class="line">  <span class="keyword">var</span> aUtil=&#123;</span><br><span class="line">    <span class="attr">aGetFormatDate</span>:<span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> util.getFormatData(date,<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> aUtil</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//3.a.js</span></span><br><span class="line">define([<span class="string">&#x27;./a-util.js&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">util</span>)</span>&#123; </span><br><span class="line">  <span class="keyword">var</span> a=&#123;</span><br><span class="line">    <span class="attr">printDate</span>:<span class="function"><span class="keyword">function</span>(<span class="params">date</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(util.aGetFormatDate(date))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//4.main.js</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;./a.js&#x27;</span>],<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> date=<span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">  a.printDate(date) <span class="comment">//2018å¹´6æœˆ20æ—¥</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>data-main</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/require.js/2.3.4/require.min.js&quot;</span> <span class="attr">data-main</span>=<span class="string">&#x27;./main.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="è¿åŠ¨"><a href="#è¿åŠ¨" class="headerlink" title="è¿åŠ¨"></a>è¿åŠ¨</h1><p>è¿åŠ¨çš„tool</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">ele, attr</span>) //è·å–æ ·å¼</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(ele.currentStyle)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> ele.currentStyle[attr];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> getComputedStyle(ele, <span class="literal">false</span>)[attr];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startMove</span>(<span class="params">ele, obj, fn</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">clearInterval</span>(ele.timer);</span><br><span class="line">  ele.timer=<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> bStop=<span class="literal">true</span>;   <span class="comment">//è¿™ä¸€æ¬¡è¿åŠ¨å°±ç»“æŸäº†â€•â€•æ‰€æœ‰çš„å€¼éƒ½åˆ°è¾¾äº†</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> obj)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">//1.å–å½“å‰çš„å€¼</span></span><br><span class="line">      <span class="keyword">var</span> iCur=<span class="number">0</span>;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span>(attr==<span class="string">&#x27;opacity&#x27;</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        iCur=<span class="built_in">parseInt</span>(<span class="built_in">parseFloat</span>(getStyle(ele, attr))*<span class="number">100</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        iCur=<span class="built_in">parseInt</span>(getStyle(ele, attr));</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//2.ç®—é€Ÿåº¦</span></span><br><span class="line">      <span class="keyword">var</span> iSpeed=(obj[attr]-iCur)/<span class="number">8</span>;</span><br><span class="line">      iSpeed=iSpeed&gt;<span class="number">0</span>?<span class="built_in">Math</span>.ceil(iSpeed):<span class="built_in">Math</span>.floor(iSpeed);</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//3.æ£€æµ‹åœæ­¢</span></span><br><span class="line">      <span class="keyword">if</span>(iCur!=obj[attr])</span><br><span class="line">      &#123;</span><br><span class="line">        bStop=<span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span>(attr==<span class="string">&#x27;opacity&#x27;</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        ele.style.filter=<span class="string">&#x27;alpha(opacity:&#x27;</span>+(iCur+iSpeed)+<span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">        ele.style.opacity=(iCur+iSpeed)/<span class="number">100</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        ele.style[attr]=iCur+iSpeed+<span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(bStop)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">clearInterval</span>(ele.timer);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span>(fn)</span><br><span class="line">      &#123;</span><br><span class="line">        fn();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">30</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹å­</span></span><br><span class="line"> <span class="comment">// let div1=document.getElementById(&#x27;div1&#x27;) </span></span><br><span class="line">  <span class="comment">//   startMove(div1,&#123;height:300&#125;,function()&#123; //é«˜åº¦å˜åŒ–300px</span></span><br><span class="line">  <span class="comment">//     cosnole.log(&#x27;è¿åŠ¨å®Œæˆ&#x27;)</span></span><br><span class="line">  <span class="comment">//   &#125;)</span></span><br></pre></td></tr></table></figure><h1 id="vue-ä¸­ajax"><a href="#vue-ä¸­ajax" class="headerlink" title="vue ä¸­ajax"></a>vue ä¸­ajax</h1><p>ç›´æ¥è¿”å›dataæ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&#x27;axios&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">url = <span class="string">&#x27;&#x27;</span>, data = &#123;&#125;, type = <span class="string">&#x27;GET&#x27;</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> promise</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (type === <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">// å‡†å¤‡url queryå‚æ•°æ•°æ®</span></span><br><span class="line">      <span class="keyword">let</span> dataStr = <span class="string">&#x27;&#x27;</span> <span class="comment">//æ•°æ®æ‹¼æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">      <span class="built_in">Object</span>.keys(data).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        dataStr += key + <span class="string">&#x27;=&#x27;</span> + data[key] + <span class="string">&#x27;&amp;&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">if</span> (dataStr !== <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        dataStr = dataStr.substr(<span class="number">0</span>, dataStr.lastIndexOf(<span class="string">&#x27;&amp;&#x27;</span>))</span><br><span class="line">        url = url + <span class="string">&#x27;?&#x27;</span> + dataStr</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// å‘é€getè¯·æ±‚</span></span><br><span class="line">      promise = axios.get(url)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å‘é€postè¯·æ±‚</span></span><br><span class="line">      promise = axios.post(url, data)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    promise.then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(response.data)</span><br><span class="line">    &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        reject(error)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å»é‡&quot;&gt;&lt;a href=&quot;#å»é‡&quot; class=&quot;headerlink&quot; title=&quot;å»é‡&quot;&gt;&lt;/a&gt;å»é‡&lt;/h1&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;</summary>
      
    
    
    
    <category term="js" scheme="https://wecy-chen.github.io/categories/js/"/>
    
    
    <category term="js" scheme="https://wecy-chen.github.io/tags/js/"/>
    
  </entry>
  
</feed>
